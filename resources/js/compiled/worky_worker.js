if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}


;(function(){
var f,aa=this;
function ba(b){var a=typeof b;if("object"==a)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return a;var c=Object.prototype.toString.call(b);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
a&&"undefined"==typeof b.call)return"object";return a}var da="closure_uid_"+(1E9*Math.random()>>>0),ea=0;function fa(b,a){var c=b.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===a?d=d[e]?d[e]:d[e]={}:d[e]=a};function ga(b){return Array.prototype.join.call(arguments,"")};function ha(b,a){for(var c in b)a.call(void 0,b[c],c,b)};function ia(b,a){null!=b&&this.append.apply(this,arguments)}f=ia.prototype;f.dc="";f.set=function(b){this.dc=""+b};f.append=function(b,a,c){this.dc+=b;if(null!=a)for(var d=1;d<arguments.length;d++)this.dc+=arguments[d];return this};f.clear=function(){this.dc=""};f.toString=function(){return this.dc};function ja(b,a){b.sort(a||ka)}function la(b,a){for(var c=0;c<b.length;c++)b[c]={index:c,value:b[c]};var d=a||ka;ja(b,function(a,b){return d(a.value,b.value)||a.index-b.index});for(c=0;c<b.length;c++)b[c]=b[c].value}function ka(b,a){return b>a?1:b<a?-1:0};if("undefined"===typeof ma)var ma=function(){throw Error("No *print-fn* fn set for evaluation environment");};var na=null;if("undefined"===typeof pa)var pa=null;function qa(){return new l(null,5,[ra,!0,sa,!0,ta,!1,ua,!1,wa,null],null)}function m(b){return null!=b&&!1!==b}function ya(b){return null==b}function za(b){return b instanceof Array}function Aa(b){return m(b)?!1:!0}function n(b,a){return b[ba(null==a?null:a)]?!0:b._?!0:!1}function Ba(b){return null==b?null:b.constructor}
function Ca(b,a){var c=Ba(a),c=m(m(c)?c.ud:c)?c.td:ba(a);return Error(["No protocol method ",b," defined for type ",c,": ",a].join(""))}function Da(b){var a=b.td;return m(a)?a:""+q(b)}var Ea="undefined"!==typeof Symbol&&"function"===ba(Symbol)?Symbol.iterator:"@@iterator";function Fa(b){for(var a=b.length,c=Array(a),d=0;;)if(d<a)c[d]=b[d],d+=1;else break;return c}function Ga(b){function a(a,b){a.push(b);return a}var c=[];return t?t(a,c,b):Ha.call(null,a,c,b)}
var Ia={},Ja=function Ja(a){if(a?a.Y:a)return a.Y(a);var c;c=Ja[ba(null==a?null:a)];if(!c&&(c=Ja._,!c))throw Ca("ICloneable.-clone",a);return c.call(null,a)},Ka={},La=function La(a){if(a?a.U:a)return a.U(a);var c;c=La[ba(null==a?null:a)];if(!c&&(c=La._,!c))throw Ca("ICounted.-count",a);return c.call(null,a)},Ma=function Ma(a){if(a?a.oa:a)return a.oa(a);var c;c=Ma[ba(null==a?null:a)];if(!c&&(c=Ma._,!c))throw Ca("IEmptyableCollection.-empty",a);return c.call(null,a)},Na={},Oa=function Oa(a,c){if(a?
a.W:a)return a.W(a,c);var d;d=Oa[ba(null==a?null:a)];if(!d&&(d=Oa._,!d))throw Ca("ICollection.-conj",a);return d.call(null,a,c)},Qa={},v=function v(){switch(arguments.length){case 2:return v.g(arguments[0],arguments[1]);case 3:return v.l(arguments[0],arguments[1],arguments[2]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};v.g=function(b,a){if(b?b.ha:b)return b.ha(b,a);var c;c=v[ba(null==b?null:b)];if(!c&&(c=v._,!c))throw Ca("IIndexed.-nth",b);return c.call(null,b,a)};
v.l=function(b,a,c){if(b?b.Ta:b)return b.Ta(b,a,c);var d;d=v[ba(null==b?null:b)];if(!d&&(d=v._,!d))throw Ca("IIndexed.-nth",b);return d.call(null,b,a,c)};v.O=3;
var Sa={},Ta=function Ta(a){if(a?a.ya:a)return a.ya(a);var c;c=Ta[ba(null==a?null:a)];if(!c&&(c=Ta._,!c))throw Ca("ISeq.-first",a);return c.call(null,a)},Va=function Va(a){if(a?a.Ia:a)return a.Ia(a);var c;c=Va[ba(null==a?null:a)];if(!c&&(c=Va._,!c))throw Ca("ISeq.-rest",a);return c.call(null,a)},Wa={},Xa=function Xa(a){if(a?a.Ha:a)return a.Ha(a);var c;c=Xa[ba(null==a?null:a)];if(!c&&(c=Xa._,!c))throw Ca("INext.-next",a);return c.call(null,a)},Ya={},x=function x(){switch(arguments.length){case 2:return x.g(arguments[0],
arguments[1]);case 3:return x.l(arguments[0],arguments[1],arguments[2]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};x.g=function(b,a){if(b?b.J:b)return b.J(b,a);var c;c=x[ba(null==b?null:b)];if(!c&&(c=x._,!c))throw Ca("ILookup.-lookup",b);return c.call(null,b,a)};x.l=function(b,a,c){if(b?b.I:b)return b.I(b,a,c);var d;d=x[ba(null==b?null:b)];if(!d&&(d=x._,!d))throw Ca("ILookup.-lookup",b);return d.call(null,b,a,c)};x.O=3;
var Za=function Za(a,c){if(a?a.qc:a)return a.qc(a,c);var d;d=Za[ba(null==a?null:a)];if(!d&&(d=Za._,!d))throw Ca("IAssociative.-contains-key?",a);return d.call(null,a,c)},$a=function $a(a,c,d){if(a?a.Z:a)return a.Z(a,c,d);var e;e=$a[ba(null==a?null:a)];if(!e&&(e=$a._,!e))throw Ca("IAssociative.-assoc",a);return e.call(null,a,c,d)},ab={},bb=function bb(a,c){if(a?a.da:a)return a.da(a,c);var d;d=bb[ba(null==a?null:a)];if(!d&&(d=bb._,!d))throw Ca("IMap.-dissoc",a);return d.call(null,a,c)},cb={},db=function db(a){if(a?
a.Lc:a)return a.Lc(a);var c;c=db[ba(null==a?null:a)];if(!c&&(c=db._,!c))throw Ca("IMapEntry.-key",a);return c.call(null,a)},fb=function fb(a){if(a?a.Mc:a)return a.Mc(a);var c;c=fb[ba(null==a?null:a)];if(!c&&(c=fb._,!c))throw Ca("IMapEntry.-val",a);return c.call(null,a)},gb={},hb=function hb(a,c){if(a?a.bd:a)return a.bd(a,c);var d;d=hb[ba(null==a?null:a)];if(!d&&(d=hb._,!d))throw Ca("ISet.-disjoin",a);return d.call(null,a,c)},ib=function ib(a){if(a?a.ec:a)return a.ec(a);var c;c=ib[ba(null==a?null:
a)];if(!c&&(c=ib._,!c))throw Ca("IStack.-peek",a);return c.call(null,a)},jb={},kb=function kb(a,c,d){if(a?a.tc:a)return a.tc(a,c,d);var e;e=kb[ba(null==a?null:a)];if(!e&&(e=kb._,!e))throw Ca("IVector.-assoc-n",a);return e.call(null,a,c,d)},lb=function lb(a){if(a?a.Ic:a)return a.Ic(a);var c;c=lb[ba(null==a?null:a)];if(!c&&(c=lb._,!c))throw Ca("IDeref.-deref",a);return c.call(null,a)},mb={},nb=function nb(a){if(a?a.S:a)return a.S(a);var c;c=nb[ba(null==a?null:a)];if(!c&&(c=nb._,!c))throw Ca("IMeta.-meta",
a);return c.call(null,a)},pb={},qb=function qb(a,c){if(a?a.T:a)return a.T(a,c);var d;d=qb[ba(null==a?null:a)];if(!d&&(d=qb._,!d))throw Ca("IWithMeta.-with-meta",a);return d.call(null,a,c)},rb={},sb=function sb(){switch(arguments.length){case 2:return sb.g(arguments[0],arguments[1]);case 3:return sb.l(arguments[0],arguments[1],arguments[2]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};
sb.g=function(b,a){if(b?b.Aa:b)return b.Aa(b,a);var c;c=sb[ba(null==b?null:b)];if(!c&&(c=sb._,!c))throw Ca("IReduce.-reduce",b);return c.call(null,b,a)};sb.l=function(b,a,c){if(b?b.Ba:b)return b.Ba(b,a,c);var d;d=sb[ba(null==b?null:b)];if(!d&&(d=sb._,!d))throw Ca("IReduce.-reduce",b);return d.call(null,b,a,c)};sb.O=3;
var tb=function tb(a,c,d){if(a?a.Dc:a)return a.Dc(a,c,d);var e;e=tb[ba(null==a?null:a)];if(!e&&(e=tb._,!e))throw Ca("IKVReduce.-kv-reduce",a);return e.call(null,a,c,d)},ub=function ub(a,c){if(a?a.G:a)return a.G(a,c);var d;d=ub[ba(null==a?null:a)];if(!d&&(d=ub._,!d))throw Ca("IEquiv.-equiv",a);return d.call(null,a,c)},vb=function vb(a){if(a?a.M:a)return a.M(a);var c;c=vb[ba(null==a?null:a)];if(!c&&(c=vb._,!c))throw Ca("IHash.-hash",a);return c.call(null,a)},wb={},xb=function xb(a){if(a?a.R:a)return a.R(a);
var c;c=xb[ba(null==a?null:a)];if(!c&&(c=xb._,!c))throw Ca("ISeqable.-seq",a);return c.call(null,a)},Ab={},Bb={},Cb=function Cb(a){if(a?a.yb:a)return a.yb(a);var c;c=Cb[ba(null==a?null:a)];if(!c&&(c=Cb._,!c))throw Ca("IReversible.-rseq",a);return c.call(null,a)},Db=function Db(a,c){if(a?a.Yd:a)return a.Yd(0,c);var d;d=Db[ba(null==a?null:a)];if(!d&&(d=Db._,!d))throw Ca("IWriter.-write",a);return d.call(null,a,c)},Eb={},Fb=function Fb(a,c,d){if(a?a.K:a)return a.K(a,c,d);var e;e=Fb[ba(null==a?null:a)];
if(!e&&(e=Fb._,!e))throw Ca("IPrintWithWriter.-pr-writer",a);return e.call(null,a,c,d)},Gb=function Gb(a,c,d){if(a?a.Xd:a)return a.Xd(0,c,d);var e;e=Gb[ba(null==a?null:a)];if(!e&&(e=Gb._,!e))throw Ca("IWatchable.-notify-watches",a);return e.call(null,a,c,d)},Hb=function Hb(a){if(a?a.Cc:a)return a.Cc(a);var c;c=Hb[ba(null==a?null:a)];if(!c&&(c=Hb._,!c))throw Ca("IEditableCollection.-as-transient",a);return c.call(null,a)},Ib=function Ib(a,c){if(a?a.sc:a)return a.sc(a,c);var d;d=Ib[ba(null==a?null:
a)];if(!d&&(d=Ib._,!d))throw Ca("ITransientCollection.-conj!",a);return d.call(null,a,c)},Jb=function Jb(a){if(a?a.Ec:a)return a.Ec(a);var c;c=Jb[ba(null==a?null:a)];if(!c&&(c=Jb._,!c))throw Ca("ITransientCollection.-persistent!",a);return c.call(null,a)},Kb=function Kb(a,c,d){if(a?a.Oc:a)return a.Oc(a,c,d);var e;e=Kb[ba(null==a?null:a)];if(!e&&(e=Kb._,!e))throw Ca("ITransientAssociative.-assoc!",a);return e.call(null,a,c,d)},Lb=function Lb(a,c,d){if(a?a.Vd:a)return a.Vd(0,c,d);var e;e=Lb[ba(null==
a?null:a)];if(!e&&(e=Lb._,!e))throw Ca("ITransientVector.-assoc-n!",a);return e.call(null,a,c,d)},Mb={},Nb=function Nb(a,c){if(a?a.Hb:a)return a.Hb(a,c);var d;d=Nb[ba(null==a?null:a)];if(!d&&(d=Nb._,!d))throw Ca("IComparable.-compare",a);return d.call(null,a,c)},Ob=function Ob(a){if(a?a.Td:a)return a.Td();var c;c=Ob[ba(null==a?null:a)];if(!c&&(c=Ob._,!c))throw Ca("IChunk.-drop-first",a);return c.call(null,a)},Pb=function Pb(a){if(a?a.od:a)return a.od(a);var c;c=Pb[ba(null==a?null:a)];if(!c&&(c=Pb._,
!c))throw Ca("IChunkedSeq.-chunked-first",a);return c.call(null,a)},Qb=function Qb(a){if(a?a.pd:a)return a.pd(a);var c;c=Qb[ba(null==a?null:a)];if(!c&&(c=Qb._,!c))throw Ca("IChunkedSeq.-chunked-rest",a);return c.call(null,a)},Rb=function Rb(a){if(a?a.nd:a)return a.nd(a);var c;c=Rb[ba(null==a?null:a)];if(!c&&(c=Rb._,!c))throw Ca("IChunkedNext.-chunked-next",a);return c.call(null,a)},Sb=function Sb(a,c){if(a?a.se:a)return a.se(a,c);var d;d=Sb[ba(null==a?null:a)];if(!d&&(d=Sb._,!d))throw Ca("IReset.-reset!",
a);return d.call(null,a,c)},Tb=function Tb(){switch(arguments.length){case 2:return Tb.g(arguments[0],arguments[1]);case 3:return Tb.l(arguments[0],arguments[1],arguments[2]);case 4:return Tb.V(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Tb.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};
Tb.g=function(b,a){if(b?b.ue:b)return b.ue(b,a);var c;c=Tb[ba(null==b?null:b)];if(!c&&(c=Tb._,!c))throw Ca("ISwap.-swap!",b);return c.call(null,b,a)};Tb.l=function(b,a,c){if(b?b.ve:b)return b.ve(b,a,c);var d;d=Tb[ba(null==b?null:b)];if(!d&&(d=Tb._,!d))throw Ca("ISwap.-swap!",b);return d.call(null,b,a,c)};Tb.V=function(b,a,c,d){if(b?b.we:b)return b.we(b,a,c,d);var e;e=Tb[ba(null==b?null:b)];if(!e&&(e=Tb._,!e))throw Ca("ISwap.-swap!",b);return e.call(null,b,a,c,d)};
Tb.ma=function(b,a,c,d,e){if(b?b.xe:b)return b.xe(b,a,c,d,e);var g;g=Tb[ba(null==b?null:b)];if(!g&&(g=Tb._,!g))throw Ca("ISwap.-swap!",b);return g.call(null,b,a,c,d,e)};Tb.O=5;var Ub=function Ub(a,c){if(a?a.Wd:a)return a.Wd(0,c);var d;d=Ub[ba(null==a?null:a)];if(!d&&(d=Ub._,!d))throw Ca("IVolatile.-vreset!",a);return d.call(null,a,c)},Vb=function Vb(a){if(a?a.Kc:a)return a.Kc(a);var c;c=Vb[ba(null==a?null:a)];if(!c&&(c=Vb._,!c))throw Ca("IIterable.-iterator",a);return c.call(null,a)};
function Wb(b){this.Ie=b;this.B=1073741824;this.H=0}Wb.prototype.Yd=function(b,a){return this.Ie.append(a)};function Xb(b){var a=new ia;b.K(null,new Wb(a),qa());return""+q(a)}var $b="undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(b,a){return Math.imul(b,a)}:function(b,a){var c=b&65535,d=a&65535;return c*d+((b>>>16&65535)*d+c*(a>>>16&65535)<<16>>>0)|0};function ac(b){b=$b(b|0,-862048943);return $b(b<<15|b>>>-15,461845907)}
function bc(b,a){var c=(b|0)^(a|0);return $b(c<<13|c>>>-13,5)+-430675100|0}function cc(b,a){var c=(b|0)^a,c=$b(c^c>>>16,-2048144789),c=$b(c^c>>>13,-1028477387);return c^c>>>16}function dc(b){var a;a:{a=1;for(var c=0;;)if(a<b.length){var d=a+2,c=bc(c,ac(b.charCodeAt(a-1)|b.charCodeAt(a)<<16));a=d}else{a=c;break a}}a=1===(b.length&1)?a^ac(b.charCodeAt(b.length-1)):a;return cc(a,$b(2,b.length))}var ec={},fc=0;
function gc(b){255<fc&&(ec={},fc=0);var a=ec[b];if("number"!==typeof a){a:if(null!=b)if(a=b.length,0<a)for(var c=0,d=0;;)if(c<a)var e=c+1,d=$b(31,d)+b.charCodeAt(c),c=e;else{a=d;break a}else a=0;else a=0;ec[b]=a;fc+=1}return b=a}function hc(b){b&&(b.B&4194304||b.Jc)?b=b.M(null):"number"===typeof b?b=Math.floor(b)%2147483647:!0===b?b=1:!1===b?b=0:"string"===typeof b?(b=gc(b),0!==b&&(b=ac(b),b=bc(0,b),b=cc(b,4))):b=b instanceof Date?b.valueOf():null==b?0:vb(b);return b}
function jc(b,a){return b^a+2654435769+(b<<6)+(b>>2)}function kc(b){return b instanceof y}function lc(b,a){if(b.Qa===a.Qa)return 0;var c=Aa(b.Pa);if(m(c?a.Pa:c))return-1;if(m(b.Pa)){if(Aa(a.Pa))return 1;c=ka(b.Pa,a.Pa);return 0===c?ka(b.name,a.name):c}return ka(b.name,a.name)}function y(b,a,c,d,e){this.Pa=b;this.name=a;this.Qa=c;this.zc=d;this.Sa=e;this.B=2154168321;this.H=4096}f=y.prototype;f.toString=function(){return this.Qa};f.equiv=function(b){return this.G(null,b)};
f.G=function(b,a){return a instanceof y?this.Qa===a.Qa:!1};f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return x.l(b,this,null);case 3:return x.l(b,this,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return x.l(b,this,null)};b.l=function(a,b,d){return x.l(b,this,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return x.l(b,this,null)};f.g=function(b,a){return x.l(b,this,a)};f.S=function(){return this.Sa};
f.T=function(b,a){return new y(this.Pa,this.name,this.Qa,this.zc,a)};f.M=function(){var b=this.zc;return null!=b?b:this.zc=b=jc(dc(this.name),gc(this.Pa))};f.K=function(b,a){return Db(a,this.Qa)};function mc(b){return b instanceof y?b:nc(null,b)}function nc(b,a){var c=null!=b?[q(b),q("/"),q(a)].join(""):a;return new y(b,a,c,null,null)}
function z(b){if(null==b)return null;if(b&&(b.B&8388608||b.sd))return b.R(null);if(za(b)||"string"===typeof b)return 0===b.length?null:new B(b,0);if(n(wb,b))return xb(b);throw Error([q(b),q(" is not ISeqable")].join(""));}function C(b){if(null==b)return null;if(b&&(b.B&64||b.Nc))return b.ya(null);b=z(b);return null==b?null:Ta(b)}function oc(b){return null!=b?b&&(b.B&64||b.Nc)?b.Ia(null):(b=z(b))?Va(b):pc:pc}function D(b){return null==b?null:b&&(b.B&128||b.ad)?b.Ha(null):z(oc(b))}
var F=function F(){switch(arguments.length){case 1:return F.h(arguments[0]);case 2:return F.g(arguments[0],arguments[1]);default:return F.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};F.h=function(){return!0};F.g=function(b,a){return null==b?null==a:b===a||ub(b,a)};F.w=function(b,a,c){for(;;)if(F.g(b,a))if(D(c))b=a,a=C(c),c=D(c);else return F.g(a,C(c));else return!1};F.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return F.w(a,b,c)};F.O=2;
function qc(b){this.ga=b}qc.prototype.next=function(){if(null!=this.ga){var b=C(this.ga);this.ga=D(this.ga);return{value:b,done:!1}}return{value:null,done:!0}};function rc(b){return new qc(z(b))}function sc(b,a){var c=ac(b),c=bc(0,c);return cc(c,a)}function tc(b){var a=0,c=1;for(b=z(b);;)if(null!=b)a+=1,c=$b(31,c)+hc(C(b))|0,b=D(b);else return sc(c,a)}var uc=sc(1,0);function vc(b){var a=0,c=0;for(b=z(b);;)if(null!=b)a+=1,c=c+hc(C(b))|0,b=D(b);else return sc(c,a)}var wc=sc(0,0);Ka["null"]=!0;
La["null"]=function(){return 0};Date.prototype.G=function(b,a){return a instanceof Date&&this.valueOf()===a.valueOf()};Date.prototype.rc=!0;Date.prototype.Hb=function(b,a){if(a instanceof Date)return ka(this.valueOf(),a.valueOf());throw Error([q("Cannot compare "),q(this),q(" to "),q(a)].join(""));};ub.number=function(b,a){return b===a};Ia["function"]=!0;mb["function"]=!0;nb["function"]=function(){return null};vb._=function(b){return b[da]||(b[da]=++ea)};function xc(b){return b+1}
function yc(b){this.L=b;this.B=32768;this.H=0}yc.prototype.Ic=function(){return this.L};function zc(b){return b instanceof yc}function H(b){return lb(b)}function Ac(b,a){var c=La(b);if(0===c)return a.X?a.X():a.call(null);for(var d=v.g(b,0),e=1;;)if(e<c){var g=v.g(b,e),d=a.g?a.g(d,g):a.call(null,d,g);if(zc(d))return lb(d);e+=1}else return d}function Bc(b,a,c){var d=La(b),e=c;for(c=0;;)if(c<d){var g=v.g(b,c),e=a.g?a.g(e,g):a.call(null,e,g);if(zc(e))return lb(e);c+=1}else return e}
function Cc(b,a){var c=b.length;if(0===b.length)return a.X?a.X():a.call(null);for(var d=b[0],e=1;;)if(e<c){var g=b[e],d=a.g?a.g(d,g):a.call(null,d,g);if(zc(d))return lb(d);e+=1}else return d}function Dc(b,a,c){var d=b.length,e=c;for(c=0;;)if(c<d){var g=b[c],e=a.g?a.g(e,g):a.call(null,e,g);if(zc(e))return lb(e);c+=1}else return e}function Fc(b,a,c,d){for(var e=b.length;;)if(d<e){var g=b[d];c=a.g?a.g(c,g):a.call(null,c,g);if(zc(c))return lb(c);d+=1}else return c}
function Gc(b){return b?b.B&2||b.qd?!0:b.B?!1:n(Ka,b):n(Ka,b)}function Hc(b){return b?b.B&16||b.Ud?!0:b.B?!1:n(Qa,b):n(Qa,b)}function Ic(b,a){this.A=b;this.P=a}Ic.prototype.fd=function(){return this.P<this.A.length};Ic.prototype.next=function(){var b=this.A[this.P];this.P+=1;return b};function B(b,a){this.A=b;this.P=a;this.B=166199550;this.H=8192}f=B.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};
f.ha=function(b,a){var c=a+this.P;return c<this.A.length?this.A[c]:null};f.Ta=function(b,a,c){b=a+this.P;return b<this.A.length?this.A[b]:c};f.Kc=function(){return new Ic(this.A,this.P)};f.Y=function(){return new B(this.A,this.P)};f.Ha=function(){return this.P+1<this.A.length?new B(this.A,this.P+1):null};f.U=function(){var b=this.A.length-this.P;return 0>b?0:b};f.yb=function(){var b=La(this);return 0<b?new Jc(this,b-1,null):null};f.M=function(){return tc(this)};
f.G=function(b,a){return Kc.g?Kc.g(this,a):Kc.call(null,this,a)};f.oa=function(){return pc};f.Aa=function(b,a){return Fc(this.A,a,this.A[this.P],this.P+1)};f.Ba=function(b,a,c){return Fc(this.A,a,c,this.P)};f.ya=function(){return this.A[this.P]};f.Ia=function(){return this.P+1<this.A.length?new B(this.A,this.P+1):pc};f.R=function(){return this.P<this.A.length?this:null};f.W=function(b,a){return Lc.g?Lc.g(a,this):Lc.call(null,a,this)};B.prototype[Ea]=function(){return rc(this)};
function Mc(b,a){return a<b.length?new B(b,a):null}function I(){switch(arguments.length){case 1:return Mc(arguments[0],0);case 2:return Mc(arguments[0],arguments[1]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}}function Jc(b,a,c){this.Hc=b;this.P=a;this.F=c;this.B=32374990;this.H=8192}f=Jc.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.F};f.Y=function(){return new Jc(this.Hc,this.P,this.F)};
f.Ha=function(){return 0<this.P?new Jc(this.Hc,this.P-1,null):null};f.U=function(){return this.P+1};f.M=function(){return tc(this)};f.G=function(b,a){return Kc.g?Kc.g(this,a):Kc.call(null,this,a)};f.oa=function(){var b=pc,a=this.F;return Nc.g?Nc.g(b,a):Nc.call(null,b,a)};f.Aa=function(b,a){return Oc?Oc(a,this):Pc.call(null,a,this)};f.Ba=function(b,a,c){return Qc?Qc(a,c,this):Pc.call(null,a,c,this)};f.ya=function(){return v.g(this.Hc,this.P)};
f.Ia=function(){return 0<this.P?new Jc(this.Hc,this.P-1,null):pc};f.R=function(){return this};f.T=function(b,a){return new Jc(this.Hc,this.P,a)};f.W=function(b,a){return Lc.g?Lc.g(a,this):Lc.call(null,a,this)};Jc.prototype[Ea]=function(){return rc(this)};function Rc(b){return C(D(b))}function Sc(b){return C(C(b))}function Tc(b){for(;;){var a=D(b);if(null!=a)b=a;else return C(b)}}ub._=function(b,a){return b===a};
var J=function J(){switch(arguments.length){case 0:return J.X();case 1:return J.h(arguments[0]);case 2:return J.g(arguments[0],arguments[1]);default:return J.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};J.X=function(){return Uc};J.h=function(b){return b};J.g=function(b,a){return null!=b?Oa(b,a):Oa(pc,a)};J.w=function(b,a,c){for(;;)if(m(c))b=J.g(b,a),a=C(c),c=D(c);else return J.g(b,a)};J.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return J.w(a,b,c)};J.O=2;
function K(b){if(null!=b)if(b&&(b.B&2||b.qd))b=b.U(null);else if(za(b))b=b.length;else if("string"===typeof b)b=b.length;else if(n(Ka,b))b=La(b);else a:{b=z(b);for(var a=0;;){if(Gc(b)){b=a+La(b);break a}b=D(b);a+=1}}else b=0;return b}function Vc(b,a){for(var c=null;;){if(null==b)return c;if(0===a)return z(b)?C(b):c;if(Hc(b))return v.l(b,a,c);if(z(b)){var d=D(b),e=a-1;b=d;a=e}else return c}}
function Wc(b,a){if("number"!==typeof a)throw Error("index argument to nth must be a number");if(null==b)return b;if(b&&(b.B&16||b.Ud))return b.ha(null,a);if(za(b)||"string"===typeof b)return a<b.length?b[a]:null;if(n(Qa,b))return v.g(b,a);if(b?b.B&64||b.Nc||(b.B?0:n(Sa,b)):n(Sa,b)){var c;a:{c=b;for(var d=a;;){if(null==c)throw Error("Index out of bounds");if(0===d){if(z(c)){c=C(c);break a}throw Error("Index out of bounds");}if(Hc(c)){c=v.g(c,d);break a}if(z(c))c=D(c),--d;else throw Error("Index out of bounds");
}}return c}throw Error([q("nth not supported on this type "),q(Da(Ba(b)))].join(""));}function L(b,a){if("number"!==typeof a)throw Error("index argument to nth must be a number.");if(null==b)return null;if(b&&(b.B&16||b.Ud))return b.Ta(null,a,null);if(za(b)||"string"===typeof b)return a<b.length?b[a]:null;if(n(Qa,b))return v.g(b,a);if(b?b.B&64||b.Nc||(b.B?0:n(Sa,b)):n(Sa,b))return Vc(b,a);throw Error([q("nth not supported on this type "),q(Da(Ba(b)))].join(""));}
function Xc(b,a){return null==b?null:b&&(b.B&256||b.rd)?b.J(null,a):za(b)?a<b.length?b[a|0]:null:"string"===typeof b?a<b.length?b[a|0]:null:n(Ya,b)?x.g(b,a):null}function Yc(b,a,c){return null!=b?b&&(b.B&256||b.rd)?b.I(null,a,c):za(b)?a<b.length?b[a]:c:"string"===typeof b?a<b.length?b[a]:c:n(Ya,b)?x.l(b,a,c):c:c}
var M=function M(){switch(arguments.length){case 3:return M.l(arguments[0],arguments[1],arguments[2]);default:return M.w(arguments[0],arguments[1],arguments[2],new B(Array.prototype.slice.call(arguments,3),0))}};M.l=function(b,a,c){return null!=b?$a(b,a,c):Zc([a],[c])};M.w=function(b,a,c,d){for(;;)if(b=M.l(b,a,c),m(d))a=C(d),c=Rc(d),d=D(D(d));else return b};M.N=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),d=D(d);return M.w(a,b,c,d)};M.O=3;
var N=function N(){switch(arguments.length){case 1:return N.h(arguments[0]);case 2:return N.g(arguments[0],arguments[1]);default:return N.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};N.h=function(b){return b};N.g=function(b,a){return null==b?null:bb(b,a)};N.w=function(b,a,c){for(;;){if(null==b)return null;b=N.g(b,a);if(m(c))a=C(c),c=D(c);else return b}};N.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return N.w(a,b,c)};N.O=2;
function $c(b){var a="function"==ba(b);return m(a)?a:b?m(m(null)?null:b.ie)?!0:b.zb?!1:n(Ia,b):n(Ia,b)}function ad(b,a){this.C=b;this.F=a;this.B=393217;this.H=0}f=ad.prototype;f.S=function(){return this.F};f.T=function(b,a){return new ad(this.C,a)};f.ie=!0;
f.call=function(){function b(a,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa,ca,xa,Z,eb){a=this.C;return bd.$c?bd.$c(a,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa,ca,xa,Z,eb):bd.call(null,a,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa,ca,xa,Z,eb)}function a(a,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa,ca,xa,Z){a=this;return a.C.Sb?a.C.Sb(b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa,ca,xa,Z):a.C.call(null,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa,ca,xa,Z)}function c(a,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa,ca,xa){a=this;return a.C.Rb?a.C.Rb(b,c,d,e,g,h,k,
r,p,u,w,A,E,G,S,Q,oa,ca,xa):a.C.call(null,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa,ca,xa)}function d(a,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa,ca){a=this;return a.C.Qb?a.C.Qb(b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa,ca):a.C.call(null,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa,ca)}function e(a,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa){a=this;return a.C.Pb?a.C.Pb(b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa):a.C.call(null,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q,oa)}function g(a,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q){a=this;return a.C.Ob?a.C.Ob(b,c,d,e,
g,h,k,r,p,u,w,A,E,G,S,Q):a.C.call(null,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S,Q)}function h(a,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S){a=this;return a.C.Nb?a.C.Nb(b,c,d,e,g,h,k,r,p,u,w,A,E,G,S):a.C.call(null,b,c,d,e,g,h,k,r,p,u,w,A,E,G,S)}function k(a,b,c,d,e,g,h,k,r,p,u,w,A,E,G){a=this;return a.C.Mb?a.C.Mb(b,c,d,e,g,h,k,r,p,u,w,A,E,G):a.C.call(null,b,c,d,e,g,h,k,r,p,u,w,A,E,G)}function p(a,b,c,d,e,g,h,k,r,p,u,w,A,E){a=this;return a.C.Lb?a.C.Lb(b,c,d,e,g,h,k,r,p,u,w,A,E):a.C.call(null,b,c,d,e,g,h,k,r,p,u,w,A,E)}function r(a,
b,c,d,e,g,h,k,r,p,u,w,A){a=this;return a.C.Kb?a.C.Kb(b,c,d,e,g,h,k,r,p,u,w,A):a.C.call(null,b,c,d,e,g,h,k,r,p,u,w,A)}function u(a,b,c,d,e,g,h,k,r,p,u,w){a=this;return a.C.Jb?a.C.Jb(b,c,d,e,g,h,k,r,p,u,w):a.C.call(null,b,c,d,e,g,h,k,r,p,u,w)}function w(a,b,c,d,e,g,h,k,r,p,u){a=this;return a.C.Ib?a.C.Ib(b,c,d,e,g,h,k,r,p,u):a.C.call(null,b,c,d,e,g,h,k,r,p,u)}function A(a,b,c,d,e,g,h,k,r,p){a=this;return a.C.Vb?a.C.Vb(b,c,d,e,g,h,k,r,p):a.C.call(null,b,c,d,e,g,h,k,r,p)}function E(a,b,c,d,e,g,h,k,r){a=
this;return a.C.Ub?a.C.Ub(b,c,d,e,g,h,k,r):a.C.call(null,b,c,d,e,g,h,k,r)}function G(a,b,c,d,e,g,h,k){a=this;return a.C.Tb?a.C.Tb(b,c,d,e,g,h,k):a.C.call(null,b,c,d,e,g,h,k)}function Q(a,b,c,d,e,g,h){a=this;return a.C.Ya?a.C.Ya(b,c,d,e,g,h):a.C.call(null,b,c,d,e,g,h)}function S(a,b,c,d,e,g){a=this;return a.C.ma?a.C.ma(b,c,d,e,g):a.C.call(null,b,c,d,e,g)}function ca(a,b,c,d,e){a=this;return a.C.V?a.C.V(b,c,d,e):a.C.call(null,b,c,d,e)}function oa(a,b,c,d){a=this;return a.C.l?a.C.l(b,c,d):a.C.call(null,
b,c,d)}function xa(a,b,c){a=this;return a.C.g?a.C.g(b,c):a.C.call(null,b,c)}function eb(a,b){a=this;return a.C.h?a.C.h(b):a.C.call(null,b)}function ob(a){a=this;return a.C.X?a.C.X():a.C.call(null)}var Z=null,Z=function(Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic,Zb,Id,fe,Je,yf,pg,kh,ti,Pj,Jl,ro,Qj){switch(arguments.length){case 1:return ob.call(this,Z);case 2:return eb.call(this,Z,Pa);case 3:return xa.call(this,Z,Pa,va);case 4:return oa.call(this,Z,Pa,va,Ra);case 5:return ca.call(this,Z,Pa,va,Ra,yb);case 6:return S.call(this,
Z,Pa,va,Ra,yb,Ua);case 7:return Q.call(this,Z,Pa,va,Ra,yb,Ua,zb);case 8:return G.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb);case 9:return E.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec);case 10:return A.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic);case 11:return w.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic,Zb);case 12:return u.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic,Zb,Id);case 13:return r.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic,Zb,Id,fe);case 14:return p.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic,Zb,Id,fe,Je);case 15:return k.call(this,
Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic,Zb,Id,fe,Je,yf);case 16:return h.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic,Zb,Id,fe,Je,yf,pg);case 17:return g.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic,Zb,Id,fe,Je,yf,pg,kh);case 18:return e.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic,Zb,Id,fe,Je,yf,pg,kh,ti);case 19:return d.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic,Zb,Id,fe,Je,yf,pg,kh,ti,Pj);case 20:return c.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic,Zb,Id,fe,Je,yf,pg,kh,ti,Pj,Jl);case 21:return a.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,
ic,Zb,Id,fe,Je,yf,pg,kh,ti,Pj,Jl,ro);case 22:return b.call(this,Z,Pa,va,Ra,yb,Ua,zb,Yb,Ec,ic,Zb,Id,fe,Je,yf,pg,kh,ti,Pj,Jl,ro,Qj)}throw Error("Invalid arity: "+arguments.length);};Z.h=ob;Z.g=eb;Z.l=xa;Z.V=oa;Z.ma=ca;Z.Ya=S;Z.Tb=Q;Z.Ub=G;Z.Vb=E;Z.Ib=A;Z.Jb=w;Z.Kb=u;Z.Lb=r;Z.Mb=p;Z.Nb=k;Z.Ob=h;Z.Pb=g;Z.Qb=e;Z.Rb=d;Z.Sb=c;Z.me=a;Z.$c=b;return Z}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.X=function(){return this.C.X?this.C.X():this.C.call(null)};
f.h=function(b){return this.C.h?this.C.h(b):this.C.call(null,b)};f.g=function(b,a){return this.C.g?this.C.g(b,a):this.C.call(null,b,a)};f.l=function(b,a,c){return this.C.l?this.C.l(b,a,c):this.C.call(null,b,a,c)};f.V=function(b,a,c,d){return this.C.V?this.C.V(b,a,c,d):this.C.call(null,b,a,c,d)};f.ma=function(b,a,c,d,e){return this.C.ma?this.C.ma(b,a,c,d,e):this.C.call(null,b,a,c,d,e)};f.Ya=function(b,a,c,d,e,g){return this.C.Ya?this.C.Ya(b,a,c,d,e,g):this.C.call(null,b,a,c,d,e,g)};
f.Tb=function(b,a,c,d,e,g,h){return this.C.Tb?this.C.Tb(b,a,c,d,e,g,h):this.C.call(null,b,a,c,d,e,g,h)};f.Ub=function(b,a,c,d,e,g,h,k){return this.C.Ub?this.C.Ub(b,a,c,d,e,g,h,k):this.C.call(null,b,a,c,d,e,g,h,k)};f.Vb=function(b,a,c,d,e,g,h,k,p){return this.C.Vb?this.C.Vb(b,a,c,d,e,g,h,k,p):this.C.call(null,b,a,c,d,e,g,h,k,p)};f.Ib=function(b,a,c,d,e,g,h,k,p,r){return this.C.Ib?this.C.Ib(b,a,c,d,e,g,h,k,p,r):this.C.call(null,b,a,c,d,e,g,h,k,p,r)};
f.Jb=function(b,a,c,d,e,g,h,k,p,r,u){return this.C.Jb?this.C.Jb(b,a,c,d,e,g,h,k,p,r,u):this.C.call(null,b,a,c,d,e,g,h,k,p,r,u)};f.Kb=function(b,a,c,d,e,g,h,k,p,r,u,w){return this.C.Kb?this.C.Kb(b,a,c,d,e,g,h,k,p,r,u,w):this.C.call(null,b,a,c,d,e,g,h,k,p,r,u,w)};f.Lb=function(b,a,c,d,e,g,h,k,p,r,u,w,A){return this.C.Lb?this.C.Lb(b,a,c,d,e,g,h,k,p,r,u,w,A):this.C.call(null,b,a,c,d,e,g,h,k,p,r,u,w,A)};
f.Mb=function(b,a,c,d,e,g,h,k,p,r,u,w,A,E){return this.C.Mb?this.C.Mb(b,a,c,d,e,g,h,k,p,r,u,w,A,E):this.C.call(null,b,a,c,d,e,g,h,k,p,r,u,w,A,E)};f.Nb=function(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G){return this.C.Nb?this.C.Nb(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G):this.C.call(null,b,a,c,d,e,g,h,k,p,r,u,w,A,E,G)};f.Ob=function(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q){return this.C.Ob?this.C.Ob(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q):this.C.call(null,b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q)};
f.Pb=function(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S){return this.C.Pb?this.C.Pb(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S):this.C.call(null,b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S)};f.Qb=function(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca){return this.C.Qb?this.C.Qb(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca):this.C.call(null,b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca)};
f.Rb=function(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa){return this.C.Rb?this.C.Rb(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa):this.C.call(null,b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa)};f.Sb=function(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa){return this.C.Sb?this.C.Sb(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa):this.C.call(null,b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa)};
f.me=function(b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa,eb){var ob=this.C;return bd.$c?bd.$c(ob,b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa,eb):bd.call(null,ob,b,a,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa,eb)};function Nc(b,a){return $c(b)&&!(b?b.B&262144||b.ye||(b.B?0:n(pb,b)):n(pb,b))?new ad(b,a):null==b?null:qb(b,a)}function cd(b){var a=null!=b;return(a?b?b.B&131072||b.pe||(b.B?0:n(mb,b)):n(mb,b):a)?nb(b):null}
var dd=function dd(){switch(arguments.length){case 1:return dd.h(arguments[0]);case 2:return dd.g(arguments[0],arguments[1]);default:return dd.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};dd.h=function(b){return b};dd.g=function(b,a){return null==b?null:hb(b,a)};dd.w=function(b,a,c){for(;;){if(null==b)return null;b=dd.g(b,a);if(m(c))a=C(c),c=D(c);else return b}};dd.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return dd.w(a,b,c)};dd.O=2;
function ed(b){return null==b||Aa(z(b))}function fd(b){return null==b?!1:b?b.B&8||b.Ne?!0:b.B?!1:n(Na,b):n(Na,b)}function gd(b){return null==b?!1:b?b.B&4096||b.Pe?!0:b.B?!1:n(gb,b):n(gb,b)}function hd(b){return b?b.B&16777216||b.Oe?!0:b.B?!1:n(Ab,b):n(Ab,b)}function id(b){return null==b?!1:b?b.B&1024||b.ne?!0:b.B?!1:n(ab,b):n(ab,b)}function jd(b){return b?b.B&16384||b.Qe?!0:b.B?!1:n(jb,b):n(jb,b)}function kd(b){return b?b.H&512||b.Me?!0:!1:!1}
function ld(b){var a=[];ha(b,function(a,b){return function(a,c){return b.push(c)}}(b,a));return a}function md(b,a,c,d,e){for(;0!==e;)c[d]=b[a],d+=1,--e,a+=1}var nd={};function od(b){return null==b?!1:b?b.B&64||b.Nc?!0:b.B?!1:n(Sa,b):n(Sa,b)}function pd(b){return b?b.B&8388608||b.sd?!0:b.B?!1:n(wb,b):n(wb,b)}function qd(b){return m(b)?!0:!1}function rd(b,a){return Yc(b,a,nd)===nd?!1:!0}
var sd=function sd(){switch(arguments.length){case 1:return sd.h(arguments[0]);case 2:return sd.g(arguments[0],arguments[1]);default:return sd.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};sd.h=function(){return!0};sd.g=function(b,a){return!F.g(b,a)};
sd.w=function(b,a,c){if(F.g(b,a))return!1;a:if(b=[b,a],a=b.length,a<=td)for(var d=0,e=Hb(O);;)if(d<a)var g=d+1,e=Kb(e,b[d],null),d=g;else{b=new ud(null,Jb(e),null);break a}else for(d=0,e=Hb(vd);;)if(d<a)g=d+1,e=Ib(e,b[d]),d=g;else{b=Jb(e);break a}for(a=c;;)if(d=C(a),c=D(a),m(a)){if(rd(b,d))return!1;b=J.g(b,d);a=c}else return!0};sd.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return sd.w(a,b,c)};sd.O=2;
function wd(b,a){if(b===a)return 0;if(null==b)return-1;if(null==a)return 1;if("number"===typeof b){if("number"===typeof a)return ka(b,a);throw Error([q("Cannot compare "),q(b),q(" to "),q(a)].join(""));}if(b?b.H&2048||b.rc||(b.H?0:n(Mb,b)):n(Mb,b))return Nb(b,a);if("string"!==typeof b&&!za(b)&&!0!==b&&!1!==b||Ba(b)!==Ba(a))throw Error([q("Cannot compare "),q(b),q(" to "),q(a)].join(""));return ka(b,a)}
function xd(b,a){var c=K(b),d=K(a);if(c<d)c=-1;else if(c>d)c=1;else if(0===c)c=0;else a:for(d=0;;){var e=wd(Wc(b,d),Wc(a,d));if(0===e&&d+1<c)d+=1;else{c=e;break a}}return c}function yd(b){return F.g(b,wd)?wd:function(a,c){var d=b.g?b.g(a,c):b.call(null,a,c);return"number"===typeof d?d:m(d)?-1:m(b.g?b.g(c,a):b.call(null,c,a))?1:0}}function zd(b,a){if(z(a)){var c=Ad.h?Ad.h(a):Ad.call(null,a),d=yd(b);la(c,d);return z(c)}return pc}
function Pc(){switch(arguments.length){case 2:return Oc(arguments[0],arguments[1]);case 3:return Qc(arguments[0],arguments[1],arguments[2]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}}function Oc(b,a){var c=z(a);if(c){var d=C(c),c=D(c);return t?t(b,d,c):Ha.call(null,b,d,c)}return b.X?b.X():b.call(null)}function Qc(b,a,c){for(c=z(c);;)if(c){var d=C(c);a=b.g?b.g(a,d):b.call(null,a,d);if(zc(a))return lb(a);c=D(c)}else return a}
function Ha(){switch(arguments.length){case 2:return Bd(arguments[0],arguments[1]);case 3:return t(arguments[0],arguments[1],arguments[2]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}}function Bd(b,a){return a&&(a.B&524288||a.re)?a.Aa(null,b):za(a)?Cc(a,b):"string"===typeof a?Cc(a,b):n(rb,a)?sb.g(a,b):Oc(b,a)}function t(b,a,c){return c&&(c.B&524288||c.re)?c.Ba(null,b,a):za(c)?Dc(c,b,a):"string"===typeof c?Dc(c,b,a):n(rb,c)?sb.l(c,b,a):Qc(b,a,c)}
function Cd(b,a,c){return null!=c?tb(c,b,a):a}function Dd(b){return b}function Ed(b,a,c,d){b=b.h?b.h(a):b.call(null,a);c=t(b,c,d);return b.h?b.h(c):b.call(null,c)}var Fd=function Fd(){switch(arguments.length){case 0:return Fd.X();case 1:return Fd.h(arguments[0]);case 2:return Fd.g(arguments[0],arguments[1]);default:return Fd.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Fd.X=function(){return 0};Fd.h=function(b){return b};Fd.g=function(b,a){return b+a};
Fd.w=function(b,a,c){return t(Fd,b+a,c)};Fd.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Fd.w(a,b,c)};Fd.O=2;var Gd=function Gd(){switch(arguments.length){case 1:return Gd.h(arguments[0]);case 2:return Gd.g(arguments[0],arguments[1]);default:return Gd.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Gd.h=function(b){return-b};Gd.g=function(b,a){return b-a};Gd.w=function(b,a,c){return t(Gd,b-a,c)};
Gd.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Gd.w(a,b,c)};Gd.O=2;var Hd=function Hd(){switch(arguments.length){case 0:return Hd.X();case 1:return Hd.h(arguments[0]);case 2:return Hd.g(arguments[0],arguments[1]);default:return Hd.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Hd.X=function(){return 1};Hd.h=function(b){return b};Hd.g=function(b,a){return b*a};Hd.w=function(b,a,c){return t(Hd,b*a,c)};
Hd.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Hd.w(a,b,c)};Hd.O=2;var Jd=function Jd(){switch(arguments.length){case 1:return Jd.h(arguments[0]);case 2:return Jd.g(arguments[0],arguments[1]);default:return Jd.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Jd.h=function(b){return 1/b};Jd.g=function(b,a){return b/a};Jd.w=function(b,a,c){return t(Jd,b/a,c)};Jd.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Jd.w(a,b,c)};Jd.O=2;
var Kd=function Kd(){switch(arguments.length){case 1:return Kd.h(arguments[0]);case 2:return Kd.g(arguments[0],arguments[1]);default:return Kd.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Kd.h=function(){return!0};Kd.g=function(b,a){return b<a};Kd.w=function(b,a,c){for(;;)if(b<a)if(D(c))b=a,a=C(c),c=D(c);else return a<C(c);else return!1};Kd.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Kd.w(a,b,c)};Kd.O=2;
var Ld=function Ld(){switch(arguments.length){case 1:return Ld.h(arguments[0]);case 2:return Ld.g(arguments[0],arguments[1]);default:return Ld.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Ld.h=function(){return!0};Ld.g=function(b,a){return b<=a};Ld.w=function(b,a,c){for(;;)if(b<=a)if(D(c))b=a,a=C(c),c=D(c);else return a<=C(c);else return!1};Ld.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Ld.w(a,b,c)};Ld.O=2;
var Md=function Md(){switch(arguments.length){case 1:return Md.h(arguments[0]);case 2:return Md.g(arguments[0],arguments[1]);default:return Md.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Md.h=function(){return!0};Md.g=function(b,a){return b>a};Md.w=function(b,a,c){for(;;)if(b>a)if(D(c))b=a,a=C(c),c=D(c);else return a>C(c);else return!1};Md.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Md.w(a,b,c)};Md.O=2;
var Nd=function Nd(){switch(arguments.length){case 1:return Nd.h(arguments[0]);case 2:return Nd.g(arguments[0],arguments[1]);default:return Nd.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Nd.h=function(){return!0};Nd.g=function(b,a){return b>=a};Nd.w=function(b,a,c){for(;;)if(b>=a)if(D(c))b=a,a=C(c),c=D(c);else return a>=C(c);else return!1};Nd.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Nd.w(a,b,c)};Nd.O=2;
var Od=function Od(){switch(arguments.length){case 1:return Od.h(arguments[0]);case 2:return Od.g(arguments[0],arguments[1]);default:return Od.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Od.h=function(b){return b};Od.g=function(b,a){return b>a?b:a};Od.w=function(b,a,c){return t(Od,b>a?b:a,c)};Od.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Od.w(a,b,c)};Od.O=2;
var Pd=function Pd(){switch(arguments.length){case 1:return Pd.h(arguments[0]);case 2:return Pd.g(arguments[0],arguments[1]);default:return Pd.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Pd.h=function(b){return b};Pd.g=function(b,a){return b<a?b:a};Pd.w=function(b,a,c){return t(Pd,b<a?b:a,c)};Pd.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Pd.w(a,b,c)};Pd.O=2;function Qd(b,a){return(b%a+a)%a}
function Rd(b,a){var c=(b-b%a)/a;return 0<=c?Math.floor(c):Math.ceil(c)}function Sd(b){b-=b>>1&1431655765;b=(b&858993459)+(b>>2&858993459);return 16843009*(b+(b>>4)&252645135)>>24}var Td=function Td(){switch(arguments.length){case 1:return Td.h(arguments[0]);case 2:return Td.g(arguments[0],arguments[1]);default:return Td.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Td.h=function(){return!0};Td.g=function(b,a){return ub(b,a)};
Td.w=function(b,a,c){for(;;)if(b===a)if(D(c))b=a,a=C(c),c=D(c);else return a===C(c);else return!1};Td.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Td.w(a,b,c)};Td.O=2;function Ud(b){return 0>b}function Vd(b,a){for(var c=a,d=z(b);;)if(d&&0<c)--c,d=D(d);else return d}var q=function q(){switch(arguments.length){case 0:return q.X();case 1:return q.h(arguments[0]);default:return q.w(arguments[0],new B(Array.prototype.slice.call(arguments,1),0))}};q.X=function(){return""};
q.h=function(b){return null==b?"":ga(b)};q.w=function(b,a){for(var c=new ia(""+q(b)),d=a;;)if(m(d))c=c.append(""+q(C(d))),d=D(d);else return c.toString()};q.N=function(b){var a=C(b);b=D(b);return q.w(a,b)};q.O=1;function Wd(b,a){return b.substring(a)}function Kc(b,a){var c;if(hd(a))if(Gc(b)&&Gc(a)&&K(b)!==K(a))c=!1;else a:{c=z(b);for(var d=z(a);;){if(null==c){c=null==d;break a}if(null!=d&&F.g(C(c),C(d)))c=D(c),d=D(d);else{c=!1;break a}}}else c=null;return qd(c)}
function Xd(b){var a=0;for(b=z(b);;)if(b){var c=C(b),a=(a+(hc(function(){var a=c;return Yd.h?Yd.h(a):Yd.call(null,a)}())^hc(function(){var a=c;return Zd.h?Zd.h(a):Zd.call(null,a)}())))%4503599627370496;b=D(b)}else return a}function $d(b,a,c,d,e){this.F=b;this.first=a;this.rb=c;this.count=d;this.s=e;this.B=65937646;this.H=8192}f=$d.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.F};
f.Y=function(){return new $d(this.F,this.first,this.rb,this.count,this.s)};f.Ha=function(){return 1===this.count?null:this.rb};f.U=function(){return this.count};f.ec=function(){return this.first};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return qb(pc,this.F)};f.Aa=function(b,a){return Oc(a,this)};f.Ba=function(b,a,c){return Qc(a,c,this)};f.ya=function(){return this.first};f.Ia=function(){return 1===this.count?pc:this.rb};
f.R=function(){return this};f.T=function(b,a){return new $d(a,this.first,this.rb,this.count,this.s)};f.W=function(b,a){return new $d(this.F,a,this,this.count+1,null)};$d.prototype[Ea]=function(){return rc(this)};function ae(b){this.F=b;this.B=65937614;this.H=8192}f=ae.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.F};f.Y=function(){return new ae(this.F)};f.Ha=function(){return null};f.U=function(){return 0};f.ec=function(){return null};
f.M=function(){return uc};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return this};f.Aa=function(b,a){return Oc(a,this)};f.Ba=function(b,a,c){return Qc(a,c,this)};f.ya=function(){return null};f.Ia=function(){return pc};f.R=function(){return null};f.T=function(b,a){return new ae(a)};f.W=function(b,a){return new $d(this.F,a,null,1,null)};var pc=new ae(null);ae.prototype[Ea]=function(){return rc(this)};function be(b){return(b?b.B&134217728||b.te||(b.B?0:n(Bb,b)):n(Bb,b))?Cb(b):t(J,pc,b)}
var ce=function ce(){return ce.w(0<arguments.length?new B(Array.prototype.slice.call(arguments,0),0):null)};ce.w=function(b){var a;if(b instanceof B&&0===b.P)a=b.A;else a:for(a=[];;)if(null!=b)a.push(b.ya(null)),b=b.Ha(null);else break a;b=a.length;for(var c=pc;;)if(0<b){var d=b-1,c=c.W(null,a[b-1]);b=d}else return c};ce.O=0;ce.N=function(b){return ce.w(z(b))};function de(b,a,c,d){this.F=b;this.first=a;this.rb=c;this.s=d;this.B=65929452;this.H=8192}f=de.prototype;f.toString=function(){return Xb(this)};
f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.F};f.Y=function(){return new de(this.F,this.first,this.rb,this.s)};f.Ha=function(){return null==this.rb?null:z(this.rb)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(pc,this.F)};f.Aa=function(b,a){return Oc(a,this)};f.Ba=function(b,a,c){return Qc(a,c,this)};f.ya=function(){return this.first};f.Ia=function(){return null==this.rb?pc:this.rb};f.R=function(){return this};
f.T=function(b,a){return new de(a,this.first,this.rb,this.s)};f.W=function(b,a){return new de(null,a,this,this.s)};de.prototype[Ea]=function(){return rc(this)};function Lc(b,a){var c=null==a;return(c?c:a&&(a.B&64||a.Nc))?new de(null,b,a,null):new de(null,b,z(a),null)}function ee(b,a){if(b.aa===a.aa)return 0;var c=Aa(b.Pa);if(m(c?a.Pa:c))return-1;if(m(b.Pa)){if(Aa(a.Pa))return 1;c=ka(b.Pa,a.Pa);return 0===c?ka(b.name,a.name):c}return ka(b.name,a.name)}
function P(b,a,c,d){this.Pa=b;this.name=a;this.aa=c;this.zc=d;this.B=2153775105;this.H=4096}f=P.prototype;f.toString=function(){return[q(":"),q(this.aa)].join("")};f.equiv=function(b){return this.G(null,b)};f.G=function(b,a){return a instanceof P?this.aa===a.aa:!1};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return Xc(b,this);case 3:return Yc(b,this,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return Xc(b,this)};b.l=function(a,b,d){return Yc(b,this,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return Xc(b,this)};f.g=function(b,a){return Yc(b,this,a)};
f.M=function(){var b=this.zc;return null!=b?b:this.zc=b=jc(dc(this.name),gc(this.Pa))+2654435769|0};f.K=function(b,a){return Db(a,[q(":"),q(this.aa)].join(""))};function R(b,a){return b===a?!0:b instanceof P&&a instanceof P?b.aa===a.aa:!1}function ge(b){if(b&&(b.H&4096||b.qe))return b.Pa;throw Error([q("Doesn't support namespace: "),q(b)].join(""));}
var he=function he(){switch(arguments.length){case 1:return he.h(arguments[0]);case 2:return he.g(arguments[0],arguments[1]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};he.h=function(b){if(b instanceof P)return b;if(b instanceof y)return new P(ge(b),ie.h?ie.h(b):ie.call(null,b),b.Qa,null);if("string"===typeof b){var a=b.split("/");return 2===a.length?new P(a[0],a[1],b,null):new P(null,a[0],b,null)}return null};
he.g=function(b,a){return new P(b,a,[q(m(b)?[q(b),q("/")].join(""):null),q(a)].join(""),null)};he.O=2;function je(b,a,c,d){this.F=b;this.fa=a;this.ga=c;this.s=d;this.B=32374988;this.H=0}f=je.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};function ke(b){null!=b.fa&&(b.ga=b.fa.X?b.fa.X():b.fa.call(null),b.fa=null);return b.ga}f.S=function(){return this.F};f.Ha=function(){xb(this);return null==this.ga?null:D(this.ga)};
f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(pc,this.F)};f.Aa=function(b,a){return Oc(a,this)};f.Ba=function(b,a,c){return Qc(a,c,this)};f.ya=function(){xb(this);return null==this.ga?null:C(this.ga)};f.Ia=function(){xb(this);return null!=this.ga?oc(this.ga):pc};f.R=function(){ke(this);if(null==this.ga)return null;for(var b=this.ga;;)if(b instanceof je)b=ke(b);else return this.ga=b,z(this.ga)};
f.T=function(b,a){return new je(a,this.fa,this.ga,this.s)};f.W=function(b,a){return Lc(a,this)};je.prototype[Ea]=function(){return rc(this)};function le(b,a){this.md=b;this.end=a;this.B=2;this.H=0}le.prototype.add=function(b){this.md[this.end]=b;return this.end+=1};le.prototype.la=function(){var b=new me(this.md,0,this.end);this.md=null;return b};le.prototype.U=function(){return this.end};function ne(b){return new le(Array(b),0)}
function me(b,a,c){this.A=b;this.Ka=a;this.end=c;this.B=524306;this.H=0}f=me.prototype;f.U=function(){return this.end-this.Ka};f.ha=function(b,a){return this.A[this.Ka+a]};f.Ta=function(b,a,c){return 0<=a&&a<this.end-this.Ka?this.A[this.Ka+a]:c};f.Td=function(){if(this.Ka===this.end)throw Error("-drop-first of empty chunk");return new me(this.A,this.Ka+1,this.end)};f.Aa=function(b,a){return Fc(this.A,a,this.A[this.Ka],this.Ka+1)};f.Ba=function(b,a,c){return Fc(this.A,a,c,this.Ka)};
function oe(b,a,c,d){this.la=b;this.Bb=a;this.F=c;this.s=d;this.B=31850732;this.H=1536}f=oe.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.F};f.Ha=function(){if(1<La(this.la))return new oe(Ob(this.la),this.Bb,this.F,null);var b=xb(this.Bb);return null==b?null:b};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(pc,this.F)};
f.ya=function(){return v.g(this.la,0)};f.Ia=function(){return 1<La(this.la)?new oe(Ob(this.la),this.Bb,this.F,null):null==this.Bb?pc:this.Bb};f.R=function(){return this};f.od=function(){return this.la};f.pd=function(){return null==this.Bb?pc:this.Bb};f.T=function(b,a){return new oe(this.la,this.Bb,a,this.s)};f.W=function(b,a){return Lc(a,this)};f.nd=function(){return null==this.Bb?null:this.Bb};oe.prototype[Ea]=function(){return rc(this)};
function pe(b,a){return 0===La(b)?a:new oe(b,a,null,null)}function qe(b,a){b.add(a)}function Ad(b){for(var a=[];;)if(z(b))a.push(C(b)),b=D(b);else return a}function re(b,a){if(Gc(b))return K(b);for(var c=b,d=a,e=0;;)if(0<d&&z(c))c=D(c),--d,e+=1;else return e}
var se=function se(a){return null==a?null:null==D(a)?z(C(a)):Lc(C(a),se(D(a)))},T=function T(){switch(arguments.length){case 0:return T.X();case 1:return T.h(arguments[0]);case 2:return T.g(arguments[0],arguments[1]);default:return T.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};T.X=function(){return new je(null,function(){return null},null,null)};T.h=function(b){return new je(null,function(){return b},null,null)};
T.g=function(b,a){return new je(null,function(){var c=z(b);return c?kd(c)?pe(Pb(c),T.g(Qb(c),a)):Lc(C(c),T.g(oc(c),a)):a},null,null)};T.w=function(b,a,c){return function e(a,b){return new je(null,function(){var c=z(a);return c?kd(c)?pe(Pb(c),e(Qb(c),b)):Lc(C(c),e(oc(c),b)):m(b)?e(C(b),D(b)):null},null,null)}(T.g(b,a),c)};T.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return T.w(a,b,c)};T.O=2;function te(b){return z(b)}function ue(b){return Hb(b)}function ve(b){return Jb(b)}
var we=function we(){switch(arguments.length){case 0:return we.X();case 1:return we.h(arguments[0]);case 2:return we.g(arguments[0],arguments[1]);default:return we.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};we.X=function(){return Hb(Uc)};we.h=function(b){return b};we.g=function(b,a){return Ib(b,a)};we.w=function(b,a,c){for(;;)if(b=Ib(b,a),m(c))a=C(c),c=D(c);else return b};we.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return we.w(a,b,c)};we.O=2;
var xe=function xe(){switch(arguments.length){case 3:return xe.l(arguments[0],arguments[1],arguments[2]);default:return xe.w(arguments[0],arguments[1],arguments[2],new B(Array.prototype.slice.call(arguments,3),0))}};xe.l=function(b,a,c){return Kb(b,a,c)};xe.w=function(b,a,c,d){for(;;)if(b=Kb(b,a,c),m(d))a=C(d),c=Rc(d),d=D(D(d));else return b};xe.N=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),d=D(d);return xe.w(a,b,c,d)};xe.O=3;
function ye(b,a,c){var d=z(c);if(0===a)return b.X?b.X():b.call(null);c=Ta(d);var e=Va(d);if(1===a)return b.h?b.h(c):b.h?b.h(c):b.call(null,c);var d=Ta(e),g=Va(e);if(2===a)return b.g?b.g(c,d):b.g?b.g(c,d):b.call(null,c,d);var e=Ta(g),h=Va(g);if(3===a)return b.l?b.l(c,d,e):b.l?b.l(c,d,e):b.call(null,c,d,e);var g=Ta(h),k=Va(h);if(4===a)return b.V?b.V(c,d,e,g):b.V?b.V(c,d,e,g):b.call(null,c,d,e,g);var h=Ta(k),p=Va(k);if(5===a)return b.ma?b.ma(c,d,e,g,h):b.ma?b.ma(c,d,e,g,h):b.call(null,c,d,e,g,h);var k=
Ta(p),r=Va(p);if(6===a)return b.Ya?b.Ya(c,d,e,g,h,k):b.Ya?b.Ya(c,d,e,g,h,k):b.call(null,c,d,e,g,h,k);var p=Ta(r),u=Va(r);if(7===a)return b.Tb?b.Tb(c,d,e,g,h,k,p):b.Tb?b.Tb(c,d,e,g,h,k,p):b.call(null,c,d,e,g,h,k,p);var r=Ta(u),w=Va(u);if(8===a)return b.Ub?b.Ub(c,d,e,g,h,k,p,r):b.Ub?b.Ub(c,d,e,g,h,k,p,r):b.call(null,c,d,e,g,h,k,p,r);var u=Ta(w),A=Va(w);if(9===a)return b.Vb?b.Vb(c,d,e,g,h,k,p,r,u):b.Vb?b.Vb(c,d,e,g,h,k,p,r,u):b.call(null,c,d,e,g,h,k,p,r,u);var w=Ta(A),E=Va(A);if(10===a)return b.Ib?b.Ib(c,
d,e,g,h,k,p,r,u,w):b.Ib?b.Ib(c,d,e,g,h,k,p,r,u,w):b.call(null,c,d,e,g,h,k,p,r,u,w);var A=Ta(E),G=Va(E);if(11===a)return b.Jb?b.Jb(c,d,e,g,h,k,p,r,u,w,A):b.Jb?b.Jb(c,d,e,g,h,k,p,r,u,w,A):b.call(null,c,d,e,g,h,k,p,r,u,w,A);var E=Ta(G),Q=Va(G);if(12===a)return b.Kb?b.Kb(c,d,e,g,h,k,p,r,u,w,A,E):b.Kb?b.Kb(c,d,e,g,h,k,p,r,u,w,A,E):b.call(null,c,d,e,g,h,k,p,r,u,w,A,E);var G=Ta(Q),S=Va(Q);if(13===a)return b.Lb?b.Lb(c,d,e,g,h,k,p,r,u,w,A,E,G):b.Lb?b.Lb(c,d,e,g,h,k,p,r,u,w,A,E,G):b.call(null,c,d,e,g,h,k,p,
r,u,w,A,E,G);var Q=Ta(S),ca=Va(S);if(14===a)return b.Mb?b.Mb(c,d,e,g,h,k,p,r,u,w,A,E,G,Q):b.Mb?b.Mb(c,d,e,g,h,k,p,r,u,w,A,E,G,Q):b.call(null,c,d,e,g,h,k,p,r,u,w,A,E,G,Q);var S=Ta(ca),oa=Va(ca);if(15===a)return b.Nb?b.Nb(c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S):b.Nb?b.Nb(c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S):b.call(null,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S);var ca=Ta(oa),xa=Va(oa);if(16===a)return b.Ob?b.Ob(c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca):b.Ob?b.Ob(c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca):b.call(null,c,d,e,g,h,k,p,r,u,w,A,E,G,
Q,S,ca);var oa=Ta(xa),eb=Va(xa);if(17===a)return b.Pb?b.Pb(c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa):b.Pb?b.Pb(c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa):b.call(null,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa);var xa=Ta(eb),ob=Va(eb);if(18===a)return b.Qb?b.Qb(c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa):b.Qb?b.Qb(c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa):b.call(null,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa);eb=Ta(ob);ob=Va(ob);if(19===a)return b.Rb?b.Rb(c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa,eb):b.Rb?b.Rb(c,d,e,g,h,k,p,r,
u,w,A,E,G,Q,S,ca,oa,xa,eb):b.call(null,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa,eb);var Z=Ta(ob);Va(ob);if(20===a)return b.Sb?b.Sb(c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa,eb,Z):b.Sb?b.Sb(c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa,eb,Z):b.call(null,c,d,e,g,h,k,p,r,u,w,A,E,G,Q,S,ca,oa,xa,eb,Z);throw Error("Only up to 20 arguments supported on functions");}
function bd(){switch(arguments.length){case 2:return ze(arguments[0],arguments[1]);case 3:return Ae(arguments[0],arguments[1],arguments[2]);case 4:return Be(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ce(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:return De(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],new B(Array.prototype.slice.call(arguments,5),0))}}
function ze(b,a){var c=b.O;if(b.N){var d=re(a,c+1);return d<=c?ye(b,d,a):b.N(a)}return b.apply(b,Ad(a))}function Ae(b,a,c){a=Lc(a,c);c=b.O;if(b.N){var d=re(a,c+1);return d<=c?ye(b,d,a):b.N(a)}return b.apply(b,Ad(a))}function Be(b,a,c,d){a=Lc(a,Lc(c,d));c=b.O;return b.N?(d=re(a,c+1),d<=c?ye(b,d,a):b.N(a)):b.apply(b,Ad(a))}function Ce(b,a,c,d,e){a=Lc(a,Lc(c,Lc(d,e)));c=b.O;return b.N?(d=re(a,c+1),d<=c?ye(b,d,a):b.N(a)):b.apply(b,Ad(a))}
function De(b,a,c,d,e,g){a=Lc(a,Lc(c,Lc(d,Lc(e,se(g)))));c=b.O;return b.N?(d=re(a,c+1),d<=c?ye(b,d,a):b.N(a)):b.apply(b,Ad(a))}var Ee=function Ee(){switch(arguments.length){case 1:return Ee.h(arguments[0]);case 2:return Ee.g(arguments[0],arguments[1]);default:return Ee.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Ee.h=function(){return!1};Ee.g=function(b,a){return!F.g(b,a)};Ee.w=function(b,a,c){return Aa(Be(F,b,a,c))};
Ee.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Ee.w(a,b,c)};Ee.O=2;function Fe(b){return z(b)?b:null}function Ge(b,a){for(;;){if(null==z(a))return!0;var c;c=C(a);c=b.h?b.h(c):b.call(null,c);if(m(c)){c=b;var d=D(a);b=c;a=d}else return!1}}function He(b,a){for(;;)if(z(a)){var c;c=C(a);c=b.h?b.h(c):b.call(null,c);if(m(c))return c;c=b;var d=D(a);b=c;a=d}else return null}
function Ie(b){if("number"===typeof b&&Aa(isNaN(b))&&Infinity!==b&&parseFloat(b)===parseInt(b,10))return 0===(b&1);throw Error([q("Argument must be an integer: "),q(b)].join(""));}function Ke(b){return!Ie(b)}
function Le(b){return function(){function a(a,c){return Aa(b.g?b.g(a,c):b.call(null,a,c))}function c(a){return Aa(b.h?b.h(a):b.call(null,a))}function d(){return Aa(b.X?b.X():b.call(null))}var e=null,g=function(){function a(b,d,e){var g=null;if(2<arguments.length){for(var g=0,h=Array(arguments.length-2);g<h.length;)h[g]=arguments[g+2],++g;g=new B(h,0)}return c.call(this,b,d,g)}function c(a,d,e){return Aa(Be(b,a,d,e))}a.O=2;a.N=function(a){var b=C(a);a=D(a);var d=C(a);a=oc(a);return c(b,d,a)};a.w=c;
return a}(),e=function(b,e,p){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,b);case 2:return a.call(this,b,e);default:var r=null;if(2<arguments.length){for(var r=0,u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new B(u,0)}return g.w(b,e,r)}throw Error("Invalid arity: "+arguments.length);};e.O=2;e.N=g.N;e.X=d;e.h=c;e.g=a;e.w=g.w;return e}()}
var Me=function Me(){switch(arguments.length){case 0:return Me.X();case 1:return Me.h(arguments[0]);case 2:return Me.g(arguments[0],arguments[1]);case 3:return Me.l(arguments[0],arguments[1],arguments[2]);default:return Me.w(arguments[0],arguments[1],arguments[2],new B(Array.prototype.slice.call(arguments,3),0))}};Me.X=function(){return Dd};Me.h=function(b){return b};
Me.g=function(b,a){return function(){function c(c,d,e){c=a.l?a.l(c,d,e):a.call(null,c,d,e);return b.h?b.h(c):b.call(null,c)}function d(c,d){var e=a.g?a.g(c,d):a.call(null,c,d);return b.h?b.h(e):b.call(null,e)}function e(c){c=a.h?a.h(c):a.call(null,c);return b.h?b.h(c):b.call(null,c)}function g(){var c=a.X?a.X():a.call(null);return b.h?b.h(c):b.call(null,c)}var h=null,k=function(){function c(a,b,e,g){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+
3],++h;h=new B(k,0)}return d.call(this,a,b,e,h)}function d(c,e,g,h){c=Ce(a,c,e,g,h);return b.h?b.h(c):b.call(null,c)}c.O=3;c.N=function(a){var b=C(a);a=D(a);var c=C(a);a=D(a);var e=C(a);a=oc(a);return d(b,c,e,a)};c.w=d;return c}(),h=function(a,b,h,w){switch(arguments.length){case 0:return g.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,h);default:var A=null;if(3<arguments.length){for(var A=0,E=Array(arguments.length-3);A<E.length;)E[A]=arguments[A+
3],++A;A=new B(E,0)}return k.w(a,b,h,A)}throw Error("Invalid arity: "+arguments.length);};h.O=3;h.N=k.N;h.X=g;h.h=e;h.g=d;h.l=c;h.w=k.w;return h}()};
Me.l=function(b,a,c){return function(){function d(d,e,g){d=c.l?c.l(d,e,g):c.call(null,d,e,g);d=a.h?a.h(d):a.call(null,d);return b.h?b.h(d):b.call(null,d)}function e(d,e){var g;g=c.g?c.g(d,e):c.call(null,d,e);g=a.h?a.h(g):a.call(null,g);return b.h?b.h(g):b.call(null,g)}function g(d){d=c.h?c.h(d):c.call(null,d);d=a.h?a.h(d):a.call(null,d);return b.h?b.h(d):b.call(null,d)}function h(){var d;d=c.X?c.X():c.call(null);d=a.h?a.h(d):a.call(null,d);return b.h?b.h(d):b.call(null,d)}var k=null,p=function(){function d(a,
b,c,g){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new B(k,0)}return e.call(this,a,b,c,h)}function e(d,g,h,k){d=Ce(c,d,g,h,k);d=a.h?a.h(d):a.call(null,d);return b.h?b.h(d):b.call(null,d)}d.O=3;d.N=function(a){var b=C(a);a=D(a);var c=C(a);a=D(a);var d=C(a);a=oc(a);return e(b,c,d,a)};d.w=e;return d}(),k=function(a,b,c,k){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,a);case 2:return e.call(this,a,b);
case 3:return d.call(this,a,b,c);default:var E=null;if(3<arguments.length){for(var E=0,G=Array(arguments.length-3);E<G.length;)G[E]=arguments[E+3],++E;E=new B(G,0)}return p.w(a,b,c,E)}throw Error("Invalid arity: "+arguments.length);};k.O=3;k.N=p.N;k.X=h;k.h=g;k.g=e;k.l=d;k.w=p.w;return k}()};
Me.w=function(b,a,c,d){return function(a){return function(){function b(a){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new B(e,0)}return c.call(this,d)}function c(b){b=ze(C(a),b);for(var d=D(a);;)if(d)b=C(d).call(null,b),d=D(d);else return b}b.O=0;b.N=function(a){a=z(a);return c(a)};b.w=c;return b}()}(be(Lc(b,Lc(a,Lc(c,d)))))};Me.N=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),d=D(d);return Me.w(a,b,c,d)};Me.O=3;
function Ne(b,a){return function(){function c(c,d,e){return b.V?b.V(a,c,d,e):b.call(null,a,c,d,e)}function d(c,d){return b.l?b.l(a,c,d):b.call(null,a,c,d)}function e(c){return b.g?b.g(a,c):b.call(null,a,c)}function g(){return b.h?b.h(a):b.call(null,a)}var h=null,k=function(){function c(a,b,e,g){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new B(k,0)}return d.call(this,a,b,e,h)}function d(c,e,g,h){return De(b,a,c,e,g,I([h],0))}c.O=
3;c.N=function(a){var b=C(a);a=D(a);var c=C(a);a=D(a);var e=C(a);a=oc(a);return d(b,c,e,a)};c.w=d;return c}(),h=function(a,b,h,w){switch(arguments.length){case 0:return g.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,h);default:var A=null;if(3<arguments.length){for(var A=0,E=Array(arguments.length-3);A<E.length;)E[A]=arguments[A+3],++A;A=new B(E,0)}return k.w(a,b,h,A)}throw Error("Invalid arity: "+arguments.length);};h.O=3;h.N=k.N;h.X=g;h.h=e;
h.g=d;h.l=c;h.w=k.w;return h}()}
function Oe(b,a){return function(){function c(c,d,e){c=null==c?a:c;return b.l?b.l(c,d,e):b.call(null,c,d,e)}function d(c,d){var e=null==c?a:c;return b.g?b.g(e,d):b.call(null,e,d)}function e(c){c=null==c?a:c;return b.h?b.h(c):b.call(null,c)}var g=null,h=function(){function c(a,b,e,g){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new B(k,0)}return d.call(this,a,b,e,h)}function d(c,e,g,h){return Ce(b,null==c?a:c,e,g,h)}c.O=3;c.N=function(a){var b=
C(a);a=D(a);var c=C(a);a=D(a);var e=C(a);a=oc(a);return d(b,c,e,a)};c.w=d;return c}(),g=function(a,b,g,u){switch(arguments.length){case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,g);default:var w=null;if(3<arguments.length){for(var w=0,A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new B(A,0)}return h.w(a,b,g,w)}throw Error("Invalid arity: "+arguments.length);};g.O=3;g.N=h.N;g.h=e;g.g=d;g.l=c;g.w=h.w;return g}()}
function Pe(b,a,c,d){this.state=b;this.F=a;this.Ke=c;this.ge=d;this.H=16386;this.B=6455296}f=Pe.prototype;f.equiv=function(b){return this.G(null,b)};f.G=function(b,a){return this===a};f.Ic=function(){return this.state};f.S=function(){return this.F};
f.Xd=function(b,a,c){for(var d=z(this.ge),e=null,g=0,h=0;;)if(h<g){b=e.ha(null,h);var k=L(b,0);b=L(b,1);var p=a,r=c;b.V?b.V(k,this,p,r):b.call(null,k,this,p,r);h+=1}else if(b=z(d))d=b,kd(d)?(e=Pb(d),d=Qb(d),b=e,g=K(e),e=b):(b=C(d),k=L(b,0),b=L(b,1),e=k,g=a,h=c,b.V?b.V(e,this,g,h):b.call(null,e,this,g,h),d=D(d),e=null,g=0),h=0;else return null};f.M=function(){return this[da]||(this[da]=++ea)};
function Qe(){switch(arguments.length){case 1:return Re(arguments[0]);default:var b=arguments[0],a=new B(Array.prototype.slice.call(arguments,1),0),c=od(a)?ze(Se,a):a,a=Xc(c,ta),c=Xc(c,Te);return new Pe(b,a,c,null)}}function Re(b){return new Pe(b,null,null,null)}
function Ue(b,a){if(b instanceof Pe){var c=b.Ke;if(null!=c&&!m(c.h?c.h(a):c.call(null,a)))throw Error([q("Assert failed: "),q("Validator rejected reference state"),q("\n"),q(function(){var a=ce(new y(null,"validate","validate",1439230700,null),new y(null,"new-value","new-value",-1567397401,null));return Ve.h?Ve.h(a):Ve.call(null,a)}())].join(""));c=b.state;b.state=a;null!=b.ge&&Gb(b,c,a);return a}return Sb(b,a)}
var We=function We(){switch(arguments.length){case 2:return We.g(arguments[0],arguments[1]);case 3:return We.l(arguments[0],arguments[1],arguments[2]);case 4:return We.V(arguments[0],arguments[1],arguments[2],arguments[3]);default:return We.w(arguments[0],arguments[1],arguments[2],arguments[3],new B(Array.prototype.slice.call(arguments,4),0))}};We.g=function(b,a){var c;b instanceof Pe?(c=b.state,c=a.h?a.h(c):a.call(null,c),c=Ue(b,c)):c=Tb.g(b,a);return c};
We.l=function(b,a,c){if(b instanceof Pe){var d=b.state;a=a.g?a.g(d,c):a.call(null,d,c);b=Ue(b,a)}else b=Tb.l(b,a,c);return b};We.V=function(b,a,c,d){if(b instanceof Pe){var e=b.state;a=a.l?a.l(e,c,d):a.call(null,e,c,d);b=Ue(b,a)}else b=Tb.V(b,a,c,d);return b};We.w=function(b,a,c,d,e){return b instanceof Pe?Ue(b,Ce(a,b.state,c,d,e)):Tb.ma(b,a,c,d,e)};We.N=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),e=D(d),d=C(e),e=D(e);return We.w(a,b,c,d,e)};We.O=4;
function Xe(b){this.state=b;this.B=32768;this.H=0}Xe.prototype.Wd=function(b,a){return this.state=a};Xe.prototype.Ic=function(){return this.state};function Ye(b,a){Ub(b,a)}
function Ze(){var b=$e,a=af;return function(){function c(c,d,e){var g=b.h?b.h(c):b.call(null,c);if(m(g))return g;g=b.h?b.h(d):b.call(null,d);if(m(g))return g;g=b.h?b.h(e):b.call(null,e);if(m(g))return g;c=a.h?a.h(c):a.call(null,c);if(m(c))return c;d=a.h?a.h(d):a.call(null,d);return m(d)?d:a.h?a.h(e):a.call(null,e)}function d(c,d){var e=b.h?b.h(c):b.call(null,c);if(m(e))return e;e=b.h?b.h(d):b.call(null,d);if(m(e))return e;e=a.h?a.h(c):a.call(null,c);return m(e)?e:a.h?a.h(d):a.call(null,d)}function e(c){var d=
b.h?b.h(c):b.call(null,c);return m(d)?d:a.h?a.h(c):a.call(null,c)}var g=null,h=function(){function c(a,b,e,g){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new B(k,0)}return d.call(this,a,b,e,h)}function d(c,e,h,k){c=g.l(c,e,h);return m(c)?c:He(function(){return function(c){var d=b.h?b.h(c):b.call(null,c);return m(d)?d:a.h?a.h(c):a.call(null,c)}}(c),k)}c.O=3;c.N=function(a){var b=C(a);a=D(a);var c=C(a);a=D(a);var e=C(a);a=oc(a);return d(b,
c,e,a)};c.w=d;return c}(),g=function(a,b,g,u){switch(arguments.length){case 0:return null;case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,g);default:var w=null;if(3<arguments.length){for(var w=0,A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new B(A,0)}return h.w(a,b,g,w)}throw Error("Invalid arity: "+arguments.length);};g.O=3;g.N=h.N;g.X=function(){return null};g.h=e;g.g=d;g.l=c;g.w=h.w;return g}()}
var bf=function bf(){switch(arguments.length){case 1:return bf.h(arguments[0]);case 2:return bf.g(arguments[0],arguments[1]);case 3:return bf.l(arguments[0],arguments[1],arguments[2]);case 4:return bf.V(arguments[0],arguments[1],arguments[2],arguments[3]);default:return bf.w(arguments[0],arguments[1],arguments[2],arguments[3],new B(Array.prototype.slice.call(arguments,4),0))}};
bf.h=function(b){return function(a){return function(){function c(c,d){var e=b.h?b.h(d):b.call(null,d);return a.g?a.g(c,e):a.call(null,c,e)}function d(b){return a.h?a.h(b):a.call(null,b)}function e(){return a.X?a.X():a.call(null)}var g=null,h=function(){function c(a,b,e){var g=null;if(2<arguments.length){for(var g=0,h=Array(arguments.length-2);g<h.length;)h[g]=arguments[g+2],++g;g=new B(h,0)}return d.call(this,a,b,g)}function d(c,e,g){e=Ae(b,e,g);return a.g?a.g(c,e):a.call(null,c,e)}c.O=2;c.N=function(a){var b=
C(a);a=D(a);var c=C(a);a=oc(a);return d(b,c,a)};c.w=d;return c}(),g=function(a,b,g){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b);default:var u=null;if(2<arguments.length){for(var u=0,w=Array(arguments.length-2);u<w.length;)w[u]=arguments[u+2],++u;u=new B(w,0)}return h.w(a,b,u)}throw Error("Invalid arity: "+arguments.length);};g.O=2;g.N=h.N;g.X=e;g.h=d;g.g=c;g.w=h.w;return g}()}};
bf.g=function(b,a){return new je(null,function(){var c=z(a);if(c){if(kd(c)){for(var d=Pb(c),e=K(d),g=ne(e),h=0;;)if(h<e)qe(g,function(){var a=v.g(d,h);return b.h?b.h(a):b.call(null,a)}()),h+=1;else break;return pe(g.la(),bf.g(b,Qb(c)))}return Lc(function(){var a=C(c);return b.h?b.h(a):b.call(null,a)}(),bf.g(b,oc(c)))}return null},null,null)};
bf.l=function(b,a,c){return new je(null,function(){var d=z(a),e=z(c);if(d&&e){var g=Lc,h;h=C(d);var k=C(e);h=b.g?b.g(h,k):b.call(null,h,k);d=g(h,bf.l(b,oc(d),oc(e)))}else d=null;return d},null,null)};bf.V=function(b,a,c,d){return new je(null,function(){var e=z(a),g=z(c),h=z(d);if(e&&g&&h){var k=Lc,p;p=C(e);var r=C(g),u=C(h);p=b.l?b.l(p,r,u):b.call(null,p,r,u);e=k(p,bf.V(b,oc(e),oc(g),oc(h)))}else e=null;return e},null,null)};
bf.w=function(b,a,c,d,e){var g=function k(a){return new je(null,function(){var b=bf.g(z,a);return Ge(Dd,b)?Lc(bf.g(C,b),k(bf.g(oc,b))):null},null,null)};return bf.g(function(){return function(a){return ze(b,a)}}(g),g(J.w(e,d,I([c,a],0))))};bf.N=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),e=D(d),d=C(e),e=D(e);return bf.w(a,b,c,d,e)};bf.O=4;
function cf(b){return function(a){return function(b){return function(){function d(d,e){var g=lb(b),h=Ub(b,lb(b)-1),g=0<g?a.g?a.g(d,e):a.call(null,d,e):d;return 0<h?g:zc(g)?g:new yc(g)}function e(b){return a.h?a.h(b):a.call(null,b)}function g(){return a.X?a.X():a.call(null)}var h=null,h=function(a,b){switch(arguments.length){case 0:return g.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};h.X=g;h.h=e;h.g=d;return h}()}(new Xe(b))}}
function df(b,a){return new je(null,function(){if(0<b){var c=z(a);return c?Lc(C(c),df(b-1,oc(c))):null}return null},null,null)}function ef(b,a){return new je(null,function(c){return function(){return c(b,a)}}(function(a,b){for(;;){var e=z(b);if(0<a&&e){var g=a-1,e=oc(e);a=g;b=e}else return e}}),null,null)}
function ff(b,a){return new je(null,function(c){return function(){return c(b,a)}}(function(a,b){for(;;){var e=z(b),g;if(g=e)g=C(e),g=a.h?a.h(g):a.call(null,g);if(m(g))g=a,e=oc(e),a=g,b=e;else return e}}),null,null)}function gf(b){return new je(null,function(){return Lc(b,gf(b))},null,null)}function hf(b){return new je(null,function(){return Lc(b.X?b.X():b.call(null),hf(b))},null,null)}function jf(b,a){return df(b,hf(a))}function kf(b,a){return ze(T,Ae(bf,b,a))}
function lf(b){return function(a){return function(){function c(c,d){return m(b.h?b.h(d):b.call(null,d))?a.g?a.g(c,d):a.call(null,c,d):c}function d(b){return a.h?a.h(b):a.call(null,b)}function e(){return a.X?a.X():a.call(null)}var g=null,g=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};g.X=e;g.h=d;g.g=c;return g}()}}
function mf(b,a){return new je(null,function(){var c=z(a);if(c){if(kd(c)){for(var d=Pb(c),e=K(d),g=ne(e),h=0;;)if(h<e){var k;k=v.g(d,h);k=b.h?b.h(k):b.call(null,k);m(k)&&(k=v.g(d,h),g.add(k));h+=1}else break;return pe(g.la(),mf(b,Qb(c)))}d=C(c);c=oc(c);return m(b.h?b.h(d):b.call(null,d))?Lc(d,mf(b,c)):mf(b,c)}return null},null,null)}function nf(b,a){return mf(Le(b),a)}
var of=function of(){switch(arguments.length){case 2:return of.g(arguments[0],arguments[1]);case 3:return of.l(arguments[0],arguments[1],arguments[2]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};of.g=function(b,a){return null!=b?b&&(b.H&4||b.je)?Nc(ve(t(Ib,Hb(b),a)),cd(b)):t(Oa,b,a):t(J,pc,a)};of.l=function(b,a,c){return b&&(b.H&4||b.je)?Nc(ve(Ed(a,we,Hb(b),c)),cd(b)):Ed(a,J,b,c)};of.O=3;
function pf(b,a){return ve(t(function(a,d){return we.g(a,b.h?b.h(d):b.call(null,d))},Hb(Uc),a))}function qf(b,a,c){return of.g(Uc,bf.l(b,a,c))}function rf(b,a,c){return of.g(Uc,bf.V(b,a,c,sf()))}function tf(b,a){return uf(b,a,null)}function uf(b,a,c){var d=nd;for(a=z(a);;)if(a){var e=b;if(e?e.B&256||e.rd||(e.B?0:n(Ya,e)):n(Ya,e)){b=Yc(b,C(a),d);if(d===b)return c;a=D(a)}else return c}else return b}
var vf=function vf(a,c,d){var e=L(c,0);c=Vd(c,1);return m(c)?M.l(a,e,vf(Xc(a,e),c,d)):M.l(a,e,d)},wf=function wf(){switch(arguments.length){case 3:return wf.l(arguments[0],arguments[1],arguments[2]);case 4:return wf.V(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return wf.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return wf.Ya(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:return wf.w(arguments[0],arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],new B(Array.prototype.slice.call(arguments,6),0))}};wf.l=function(b,a,c){var d=L(a,0);a=Vd(a,1);return m(a)?M.l(b,d,wf.l(Xc(b,d),a,c)):M.l(b,d,function(){var a=Xc(b,d);return c.h?c.h(a):c.call(null,a)}())};wf.V=function(b,a,c,d){var e=L(a,0);a=Vd(a,1);return m(a)?M.l(b,e,wf.V(Xc(b,e),a,c,d)):M.l(b,e,function(){var a=Xc(b,e);return c.g?c.g(a,d):c.call(null,a,d)}())};
wf.ma=function(b,a,c,d,e){var g=L(a,0);a=Vd(a,1);return m(a)?M.l(b,g,wf.ma(Xc(b,g),a,c,d,e)):M.l(b,g,function(){var a=Xc(b,g);return c.l?c.l(a,d,e):c.call(null,a,d,e)}())};wf.Ya=function(b,a,c,d,e,g){var h=L(a,0);a=Vd(a,1);return m(a)?M.l(b,h,wf.Ya(Xc(b,h),a,c,d,e,g)):M.l(b,h,function(){var a=Xc(b,h);return c.V?c.V(a,d,e,g):c.call(null,a,d,e,g)}())};wf.w=function(b,a,c,d,e,g,h){var k=L(a,0);a=Vd(a,1);return m(a)?M.l(b,k,De(wf,Xc(b,k),a,c,d,I([e,g,h],0))):M.l(b,k,De(c,Xc(b,k),d,e,g,I([h],0)))};
wf.N=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),e=D(d),d=C(e),g=D(e),e=C(g),h=D(g),g=C(h),h=D(h);return wf.w(a,b,c,d,e,g,h)};wf.O=6;function xf(b,a,c){return M.l(b,a,function(){var d=Xc(b,a);return c.h?c.h(d):c.call(null,d)}())}function zf(b,a,c,d){return M.l(b,a,function(){var e=Xc(b,a);return c.g?c.g(e,d):c.call(null,e,d)}())}function Af(b,a,c,d,e){return M.l(b,a,function(){var g=Xc(b,a);return c.l?c.l(g,d,e):c.call(null,g,d,e)}())}function Bf(b,a){this.pa=b;this.A=a}
function Cf(b){return new Bf(b,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Df(b){b=b.D;return 32>b?0:b-1>>>5<<5}function Ef(b,a,c){for(;;){if(0===a)return c;var d=Cf(b);d.A[0]=c;c=d;a-=5}}var Ff=function Ff(a,c,d,e){var g=new Bf(d.pa,Fa(d.A)),h=a.D-1>>>c&31;5===c?g.A[h]=e:(d=d.A[h],a=null!=d?Ff(a,c-5,d,e):Ef(null,c-5,e),g.A[h]=a);return g};
function Gf(b,a){throw Error([q("No item "),q(b),q(" in vector of length "),q(a)].join(""));}function Hf(b,a){if(a>=Df(b))return b.Ra;for(var c=b.root,d=b.shift;;)if(0<d)var e=d-5,c=c.A[a>>>d&31],d=e;else return c.A}function If(b,a){return 0<=a&&a<b.D?Hf(b,a):Gf(a,b.D)}var Jf=function Jf(a,c,d,e,g){var h=new Bf(d.pa,Fa(d.A));if(0===c)h.A[e&31]=g;else{var k=e>>>c&31;a=Jf(a,c-5,d.A[k],e,g);h.A[k]=a}return h};function Kf(b,a,c,d,e,g){this.P=b;this.ld=a;this.A=c;this.v=d;this.start=e;this.end=g}
Kf.prototype.fd=function(){return this.P<this.end};Kf.prototype.next=function(){32===this.P-this.ld&&(this.A=Hf(this.v,this.P),this.ld+=32);var b=this.A[this.P&31];this.P+=1;return b};function U(b,a,c,d,e,g){this.F=b;this.D=a;this.shift=c;this.root=d;this.Ra=e;this.s=g;this.B=167668511;this.H=8196}f=U.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){return"number"===typeof a?v.l(this,a,c):c};
f.Dc=function(b,a,c){b=0;for(var d=c;;)if(b<this.D){var e=Hf(this,b);c=e.length;a:for(var g=0;;)if(g<c){var h=g+b,k=e[g],d=a.l?a.l(d,h,k):a.call(null,d,h,k);if(zc(d)){e=d;break a}g+=1}else{e=d;break a}if(zc(e))return a=e,H.h?H.h(a):H.call(null,a);b+=c;d=e}else return d};f.ha=function(b,a){return If(this,a)[a&31]};f.Ta=function(b,a,c){return 0<=a&&a<this.D?Hf(this,a)[a&31]:c};
f.tc=function(b,a,c){if(0<=a&&a<this.D)return Df(this)<=a?(b=Fa(this.Ra),b[a&31]=c,new U(this.F,this.D,this.shift,this.root,b,null)):new U(this.F,this.D,this.shift,Jf(this,this.shift,this.root,a,c),this.Ra,null);if(a===this.D)return Oa(this,c);throw Error([q("Index "),q(a),q(" out of bounds  [0,"),q(this.D),q("]")].join(""));};f.Kc=function(){var b=this.D;return new Kf(0,0,0<K(this)?Hf(this,0):null,this,0,b)};f.S=function(){return this.F};
f.Y=function(){return new U(this.F,this.D,this.shift,this.root,this.Ra,this.s)};f.U=function(){return this.D};f.Lc=function(){return v.g(this,0)};f.Mc=function(){return v.g(this,1)};f.ec=function(){return 0<this.D?v.g(this,this.D-1):null};f.yb=function(){return 0<this.D?new Jc(this,this.D-1,null):null};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};
f.G=function(b,a){if(a instanceof U)if(this.D===K(a))for(var c=Vb(this),d=Vb(a);;)if(m(c.fd())){var e=c.next(),g=d.next();if(!F.g(e,g))return!1}else return!0;else return!1;else return Kc(this,a)};f.Cc=function(){var b=this;return new Lf(b.D,b.shift,function(){var a=b.root;return Mf.h?Mf.h(a):Mf.call(null,a)}(),function(){var a=b.Ra;return Nf.h?Nf.h(a):Nf.call(null,a)}())};f.oa=function(){return Nc(Uc,this.F)};f.Aa=function(b,a){return Ac(this,a)};
f.Ba=function(b,a,c){b=0;for(var d=c;;)if(b<this.D){var e=Hf(this,b);c=e.length;a:for(var g=0;;)if(g<c){var h=e[g],d=a.g?a.g(d,h):a.call(null,d,h);if(zc(d)){e=d;break a}g+=1}else{e=d;break a}if(zc(e))return a=e,H.h?H.h(a):H.call(null,a);b+=c;d=e}else return d};f.Z=function(b,a,c){if("number"===typeof a)return kb(this,a,c);throw Error("Vector's key for assoc must be a number.");};
f.R=function(){if(0===this.D)return null;if(32>=this.D)return new B(this.Ra,0);var b;a:{b=this.root;for(var a=this.shift;;)if(0<a)a-=5,b=b.A[0];else{b=b.A;break a}}return Of?Of(this,b,0,0):Pf.call(null,this,b,0,0)};f.T=function(b,a){return new U(a,this.D,this.shift,this.root,this.Ra,this.s)};
f.W=function(b,a){if(32>this.D-Df(this)){for(var c=this.Ra.length,d=Array(c+1),e=0;;)if(e<c)d[e]=this.Ra[e],e+=1;else break;d[c]=a;return new U(this.F,this.D+1,this.shift,this.root,d,null)}c=(d=this.D>>>5>1<<this.shift)?this.shift+5:this.shift;d?(d=Cf(null),d.A[0]=this.root,e=Ef(null,this.shift,new Bf(null,this.Ra)),d.A[1]=e):d=Ff(this,this.shift,this.root,new Bf(null,this.Ra));return new U(this.F,this.D+1,c,d,[a],null)};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.ha(null,b);case 3:return this.Ta(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return this.ha(null,b)};b.l=function(a,b,d){return this.Ta(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return this.ha(null,b)};f.g=function(b,a){return this.Ta(null,b,a)};
var V=new Bf(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Uc=new U(null,0,5,V,[],uc);function Qf(b,a){var c=b.length,d=a?b:Fa(b);if(32>c)return new U(null,c,5,V,d,null);for(var e=32,g=(new U(null,32,5,V,d.slice(0,32),null)).Cc(null);;)if(e<c)var h=e+1,g=we.g(g,d[e]),e=h;else return Jb(g)}U.prototype[Ea]=function(){return rc(this)};
function Rf(b){return za(b)?Qf(b,!0):Jb(t(Ib,Hb(Uc),b))}var Sf=function Sf(){return Sf.w(0<arguments.length?new B(Array.prototype.slice.call(arguments,0),0):null)};Sf.w=function(b){return b instanceof B&&0===b.P?Qf(b.A,!0):Rf(b)};Sf.O=0;Sf.N=function(b){return Sf.w(z(b))};function Tf(b,a,c,d,e,g){this.fb=b;this.node=a;this.P=c;this.Ka=d;this.F=e;this.s=g;this.B=32375020;this.H=1536}f=Tf.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.F};
f.Ha=function(){if(this.Ka+1<this.node.length){var b;b=this.fb;var a=this.node,c=this.P,d=this.Ka+1;b=Of?Of(b,a,c,d):Pf.call(null,b,a,c,d);return null==b?null:b}return Rb(this)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(Uc,this.F)};f.Aa=function(b,a){var c;c=this.fb;var d=this.P+this.Ka,e=K(this.fb);c=Uf?Uf(c,d,e):Vf.call(null,c,d,e);return Ac(c,a)};
f.Ba=function(b,a,c){b=this.fb;var d=this.P+this.Ka,e=K(this.fb);b=Uf?Uf(b,d,e):Vf.call(null,b,d,e);return Bc(b,a,c)};f.ya=function(){return this.node[this.Ka]};f.Ia=function(){if(this.Ka+1<this.node.length){var b;b=this.fb;var a=this.node,c=this.P,d=this.Ka+1;b=Of?Of(b,a,c,d):Pf.call(null,b,a,c,d);return null==b?pc:b}return Qb(this)};f.R=function(){return this};f.od=function(){var b=this.node;return new me(b,this.Ka,b.length)};
f.pd=function(){var b=this.P+this.node.length;if(b<La(this.fb)){var a=this.fb,c=Hf(this.fb,b);return Of?Of(a,c,b,0):Pf.call(null,a,c,b,0)}return pc};f.T=function(b,a){var c=this.fb,d=this.node,e=this.P,g=this.Ka;return Wf?Wf(c,d,e,g,a):Pf.call(null,c,d,e,g,a)};f.W=function(b,a){return Lc(a,this)};f.nd=function(){var b=this.P+this.node.length;if(b<La(this.fb)){var a=this.fb,c=Hf(this.fb,b);return Of?Of(a,c,b,0):Pf.call(null,a,c,b,0)}return null};Tf.prototype[Ea]=function(){return rc(this)};
function Pf(){switch(arguments.length){case 3:var b=arguments[0],a=arguments[1],c=arguments[2];return new Tf(b,If(b,a),a,c,null,null);case 4:return Of(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}}function Of(b,a,c,d){return new Tf(b,a,c,d,null,null)}function Wf(b,a,c,d,e){return new Tf(b,a,c,d,e,null)}
function Xf(b,a,c,d,e){this.F=b;this.v=a;this.start=c;this.end=d;this.s=e;this.B=167666463;this.H=8192}f=Xf.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){return"number"===typeof a?v.l(this,a,c):c};f.Dc=function(b,a,c){b=this.start;for(var d=0;;)if(b<this.end){var e=d,g=v.g(this.v,b);c=a.l?a.l(c,e,g):a.call(null,c,e,g);if(zc(c))return a=c,H.h?H.h(a):H.call(null,a);d+=1;b+=1}else return c};
f.ha=function(b,a){return 0>a||this.end<=this.start+a?Gf(a,this.end-this.start):v.g(this.v,this.start+a)};f.Ta=function(b,a,c){return 0>a||this.end<=this.start+a?c:v.l(this.v,this.start+a,c)};f.tc=function(b,a,c){var d=this.start+a;b=this.F;c=M.l(this.v,d,c);a=this.start;var e=this.end,d=d+1,d=e>d?e:d;return Yf.ma?Yf.ma(b,c,a,d,null):Yf.call(null,b,c,a,d,null)};f.S=function(){return this.F};f.Y=function(){return new Xf(this.F,this.v,this.start,this.end,this.s)};f.U=function(){return this.end-this.start};
f.ec=function(){return v.g(this.v,this.end-1)};f.yb=function(){return this.start!==this.end?new Jc(this,this.end-this.start-1,null):null};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(Uc,this.F)};f.Aa=function(b,a){return Ac(this,a)};f.Ba=function(b,a,c){return Bc(this,a,c)};f.Z=function(b,a,c){if("number"===typeof a)return kb(this,a,c);throw Error("Subvec's key for assoc must be a number.");};
f.R=function(){var b=this;return function(a){return function d(e){return e===b.end?null:Lc(v.g(b.v,e),new je(null,function(){return function(){return d(e+1)}}(a),null,null))}}(this)(b.start)};f.T=function(b,a){var c=this.v,d=this.start,e=this.end,g=this.s;return Yf.ma?Yf.ma(a,c,d,e,g):Yf.call(null,a,c,d,e,g)};f.W=function(b,a){var c=this.F,d=kb(this.v,this.end,a),e=this.start,g=this.end+1;return Yf.ma?Yf.ma(c,d,e,g,null):Yf.call(null,c,d,e,g,null)};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.ha(null,b);case 3:return this.Ta(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return this.ha(null,b)};b.l=function(a,b,d){return this.Ta(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return this.ha(null,b)};f.g=function(b,a){return this.Ta(null,b,a)};Xf.prototype[Ea]=function(){return rc(this)};
function Yf(b,a,c,d,e){for(;;)if(a instanceof Xf)c=a.start+c,d=a.start+d,a=a.v;else{var g=K(a);if(0>c||0>d||c>g||d>g)throw Error("Index out of bounds");return new Xf(b,a,c,d,e)}}function Vf(){switch(arguments.length){case 2:var b=arguments[0];return Uf(b,arguments[1],K(b));case 3:return Uf(arguments[0],arguments[1],arguments[2]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}}function Uf(b,a,c){return Yf(null,b,a,c,null)}
function Zf(b,a){return b===a.pa?a:new Bf(b,Fa(a.A))}function Mf(b){return new Bf({},Fa(b.A))}function Nf(b){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];md(b,0,a,0,b.length);return a}var $f=function $f(a,c,d,e){d=Zf(a.root.pa,d);var g=a.D-1>>>c&31;if(5===c)a=e;else{var h=d.A[g];a=null!=h?$f(a,c-5,h,e):Ef(a.root.pa,c-5,e)}d.A[g]=a;return d};
function Lf(b,a,c,d){this.D=b;this.shift=a;this.root=c;this.Ra=d;this.H=88;this.B=275}f=Lf.prototype;
f.sc=function(b,a){if(this.root.pa){if(32>this.D-Df(this))this.Ra[this.D&31]=a;else{var c=new Bf(this.root.pa,this.Ra),d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];d[0]=a;this.Ra=d;if(this.D>>>5>1<<this.shift){var d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],e=this.shift+
5;d[0]=this.root;d[1]=Ef(this.root.pa,this.shift,c);this.root=new Bf(this.root.pa,d);this.shift=e}else this.root=$f(this,this.shift,this.root,c)}this.D+=1;return this}throw Error("conj! after persistent!");};f.Ec=function(){if(this.root.pa){this.root.pa=null;var b=this.D-Df(this),a=Array(b);md(this.Ra,0,a,0,b);return new U(null,this.D,this.shift,this.root,a,null)}throw Error("persistent! called twice");};
f.Oc=function(b,a,c){if("number"===typeof a)return Lb(this,a,c);throw Error("TransientVector's key for assoc! must be a number.");};
f.Vd=function(b,a,c){var d=this;if(d.root.pa){if(0<=a&&a<d.D)return Df(this)<=a?d.Ra[a&31]=c:(b=function(){return function g(b,k){var p=Zf(d.root.pa,k);if(0===b)p.A[a&31]=c;else{var r=a>>>b&31,u=g(b-5,p.A[r]);p.A[r]=u}return p}}(this).call(null,d.shift,d.root),d.root=b),this;if(a===d.D)return Ib(this,c);throw Error([q("Index "),q(a),q(" out of bounds for TransientVector of length"),q(d.D)].join(""));}throw Error("assoc! after persistent!");};
f.U=function(){if(this.root.pa)return this.D;throw Error("count after persistent!");};f.ha=function(b,a){if(this.root.pa)return If(this,a)[a&31];throw Error("nth after persistent!");};f.Ta=function(b,a,c){return 0<=a&&a<this.D?v.g(this,a):c};f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){return"number"===typeof a?v.l(this,a,c):c};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.J(null,b);case 3:return this.I(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return this.J(null,b)};b.l=function(a,b,d){return this.I(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return this.J(null,b)};f.g=function(b,a){return this.I(null,b,a)};
function ag(b,a,c,d){this.F=b;this.ab=a;this.Zb=c;this.s=d;this.B=31850572;this.H=0}f=ag.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.F};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(pc,this.F)};f.ya=function(){return C(this.ab)};
f.Ia=function(){var b=D(this.ab);return b?new ag(this.F,b,this.Zb,null):null==this.Zb?Ma(this):new ag(this.F,this.Zb,null,null)};f.R=function(){return this};f.T=function(b,a){return new ag(a,this.ab,this.Zb,this.s)};f.W=function(b,a){return Lc(a,this)};ag.prototype[Ea]=function(){return rc(this)};function bg(b,a,c,d,e){this.F=b;this.count=a;this.ab=c;this.Zb=d;this.s=e;this.B=31858766;this.H=8192}f=bg.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};
f.S=function(){return this.F};f.Y=function(){return new bg(this.F,this.count,this.ab,this.Zb,this.s)};f.U=function(){return this.count};f.ec=function(){return C(this.ab)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(cg,this.F)};f.ya=function(){return C(this.ab)};f.Ia=function(){return oc(z(this))};f.R=function(){var b=z(this.Zb),a=this.ab;return m(m(a)?a:b)?new ag(null,this.ab,z(b),null):null};
f.T=function(b,a){return new bg(a,this.count,this.ab,this.Zb,this.s)};f.W=function(b,a){var c;m(this.ab)?(c=this.Zb,c=new bg(this.F,this.count+1,this.ab,J.g(m(c)?c:Uc,a),null)):c=new bg(this.F,this.count+1,J.g(this.ab,a),Uc,null);return c};var cg=new bg(null,0,null,Uc,uc);bg.prototype[Ea]=function(){return rc(this)};function dg(){this.B=2097152;this.H=0}dg.prototype.equiv=function(b){return this.G(null,b)};dg.prototype.G=function(){return!1};var eg=new dg;
function fg(b,a){return qd(id(a)?K(b)===K(a)?Ge(Dd,bf.g(function(b){return F.g(Yc(a,C(b),eg),Rc(b))},b)):null:null)}function gg(b){this.ga=b}gg.prototype.next=function(){if(null!=this.ga){var b=C(this.ga),a=L(b,0),b=L(b,1);this.ga=D(this.ga);return{value:[a,b],done:!1}}return{value:null,done:!0}};function hg(b){return new gg(z(b))}function ig(b){this.ga=b}ig.prototype.next=function(){if(null!=this.ga){var b=C(this.ga);this.ga=D(this.ga);return{value:[b,b],done:!1}}return{value:null,done:!0}};
function jg(b){return new ig(z(b))}
function kg(b,a){var c;if(a instanceof P)a:{c=b.length;for(var d=a.aa,e=0;;){if(c<=e){c=-1;break a}var g=b[e];if(g instanceof P&&d===g.aa){c=e;break a}e+=2}}else if(c="string"==typeof a,m(m(c)?c:"number"===typeof a))a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(a===b[d]){c=d;break a}d+=2}else if(a instanceof y)a:for(c=b.length,d=a.Qa,e=0;;){if(c<=e){c=-1;break a}g=b[e];if(g instanceof y&&d===g.Qa){c=e;break a}e+=2}else if(null==a)a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(null==b[d]){c=d;
break a}d+=2}else a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(F.g(a,b[d])){c=d;break a}d+=2}return c}function lg(b,a,c){this.A=b;this.P=a;this.Sa=c;this.B=32374990;this.H=0}f=lg.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.Sa};f.Ha=function(){return this.P<this.A.length-2?new lg(this.A,this.P+2,this.Sa):null};f.U=function(){return(this.A.length-this.P)/2};f.M=function(){return tc(this)};
f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(pc,this.Sa)};f.Aa=function(b,a){return Oc(a,this)};f.Ba=function(b,a,c){return Qc(a,c,this)};f.ya=function(){return new U(null,2,5,V,[this.A[this.P],this.A[this.P+1]],null)};f.Ia=function(){return this.P<this.A.length-2?new lg(this.A,this.P+2,this.Sa):pc};f.R=function(){return this};f.T=function(b,a){return new lg(this.A,this.P,a)};f.W=function(b,a){return Lc(a,this)};lg.prototype[Ea]=function(){return rc(this)};
function mg(b,a,c){this.A=b;this.P=a;this.D=c}mg.prototype.fd=function(){return this.P<this.D};mg.prototype.next=function(){var b=new U(null,2,5,V,[this.A[this.P],this.A[this.P+1]],null);this.P+=2;return b};function l(b,a,c,d){this.F=b;this.D=a;this.A=c;this.s=d;this.B=16647951;this.H=8196}f=l.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.keys=function(){return rc(ng.h?ng.h(this):ng.call(null,this))};f.entries=function(){return hg(z(this))};
f.values=function(){return rc(og.h?og.h(this):og.call(null,this))};f.has=function(b){return rd(this,b)};f.get=function(b,a){return this.I(null,b,a)};f.forEach=function(b){for(var a=z(this),c=null,d=0,e=0;;)if(e<d){var g=c.ha(null,e),h=L(g,0),g=L(g,1);b.g?b.g(g,h):b.call(null,g,h);e+=1}else if(a=z(a))kd(a)?(c=Pb(a),a=Qb(a),h=c,d=K(c),c=h):(c=C(a),h=L(c,0),c=g=L(c,1),b.g?b.g(c,h):b.call(null,c,h),a=D(a),c=null,d=0),e=0;else return null};f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){b=kg(this.A,a);return-1===b?c:this.A[b+1]};f.Dc=function(b,a,c){b=this.A.length;for(var d=0;;)if(d<b){var e=this.A[d],g=this.A[d+1];c=a.l?a.l(c,e,g):a.call(null,c,e,g);if(zc(c))return a=c,H.h?H.h(a):H.call(null,a);d+=2}else return c};f.Kc=function(){return new mg(this.A,0,2*this.D)};f.S=function(){return this.F};f.Y=function(){return new l(this.F,this.D,this.A,this.s)};f.U=function(){return this.D};f.M=function(){var b=this.s;return null!=b?b:this.s=b=vc(this)};
f.G=function(b,a){if(a&&(a.B&1024||a.ne)){var c=this.A.length;if(this.D===a.U(null))for(var d=0;;)if(d<c){var e=a.I(null,this.A[d],nd);if(e!==nd)if(F.g(this.A[d+1],e))d+=2;else return!1;else return!1}else return!0;else return!1}else return fg(this,a)};f.Cc=function(){return new qg({},this.A.length,Fa(this.A))};f.oa=function(){return qb(O,this.F)};f.Aa=function(b,a){return Oc(a,this)};f.Ba=function(b,a,c){return Qc(a,c,this)};
f.da=function(b,a){if(0<=kg(this.A,a)){var c=this.A.length,d=c-2;if(0===d)return Ma(this);for(var d=Array(d),e=0,g=0;;){if(e>=c)return new l(this.F,this.D-1,d,null);F.g(a,this.A[e])||(d[g]=this.A[e],d[g+1]=this.A[e+1],g+=2);e+=2}}else return this};
f.Z=function(b,a,c){b=kg(this.A,a);if(-1===b){if(this.D<td){b=this.A;for(var d=b.length,e=Array(d+2),g=0;;)if(g<d)e[g]=b[g],g+=1;else break;e[d]=a;e[d+1]=c;return new l(this.F,this.D+1,e,null)}return qb($a(of.g(rg,this),a,c),this.F)}if(c===this.A[b+1])return this;a=Fa(this.A);a[b+1]=c;return new l(this.F,this.D,a,null)};f.qc=function(b,a){return-1!==kg(this.A,a)};f.R=function(){var b=this.A;return 0<=b.length-2?new lg(b,0,null):null};f.T=function(b,a){return new l(a,this.D,this.A,this.s)};
f.W=function(b,a){if(jd(a))return $a(this,v.g(a,0),v.g(a,1));for(var c=this,d=z(a);;){if(null==d)return c;var e=C(d);if(jd(e))c=$a(c,v.g(e,0),v.g(e,1)),d=D(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.J(null,b);case 3:return this.I(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return this.J(null,b)};b.l=function(a,b,d){return this.I(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return this.J(null,b)};f.g=function(b,a){return this.I(null,b,a)};var O=new l(null,0,[],wc),td=8;
function sg(b,a,c){b=a?b:Fa(b);if(!c){c=[];for(a=0;;)if(a<b.length){var d=b[a],e=b[a+1];-1===kg(c,d)&&(c.push(d),c.push(e));a+=2}else break;b=c}return new l(null,b.length/2,b,null)}l.prototype[Ea]=function(){return rc(this)};function qg(b,a,c){this.Fc=b;this.bb=a;this.A=c;this.B=258;this.H=56}f=qg.prototype;f.U=function(){if(m(this.Fc))return Rd(this.bb,2);throw Error("count after persistent!");};f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){if(m(this.Fc))return b=kg(this.A,a),-1===b?c:this.A[b+1];throw Error("lookup after persistent!");};
f.sc=function(b,a){if(m(this.Fc)){if(a?a.B&2048||a.oe||(a.B?0:n(cb,a)):n(cb,a))return Kb(this,Yd.h?Yd.h(a):Yd.call(null,a),Zd.h?Zd.h(a):Zd.call(null,a));for(var c=z(a),d=this;;){var e=C(c);if(m(e))var g=e,c=D(c),d=Kb(d,function(){var a=g;return Yd.h?Yd.h(a):Yd.call(null,a)}(),function(){var a=g;return Zd.h?Zd.h(a):Zd.call(null,a)}());else return d}}else throw Error("conj! after persistent!");};
f.Ec=function(){if(m(this.Fc))return this.Fc=!1,new l(null,Rd(this.bb,2),this.A,null);throw Error("persistent! called twice");};f.Oc=function(b,a,c){var d=this;if(m(d.Fc)){b=kg(this.A,a);if(-1===b)return d.bb+2<=2*td?(d.bb+=2,d.A.push(a),d.A.push(c),this):xe.l(function(){var a=d.bb,b=d.A;return tg.g?tg.g(a,b):tg.call(null,a,b)}(),a,c);c!==d.A[b+1]&&(d.A[b+1]=c);return this}throw Error("assoc! after persistent!");};
function tg(b,a){for(var c=Hb(rg),d=0;;)if(d<b)c=xe.l(c,a[d],a[d+1]),d+=2;else return c}function ug(){this.L=!1}function vg(b,a){return b===a?!0:R(b,a)?!0:F.g(b,a)}function wg(b,a,c){b=Fa(b);b[a]=c;return b}function xg(b,a){var c=Array(b.length-2);md(b,0,c,0,2*a);md(b,2*(a+1),c,2*a,c.length-2*a);return c}function yg(b,a,c,d){b=b.uc(a);b.A[c]=d;return b}
function zg(b,a,c){for(var d=b.length,e=0,g=c;;)if(e<d){c=b[e];if(null!=c){var h=b[e+1];c=a.l?a.l(g,c,h):a.call(null,g,c,h)}else c=b[e+1],c=null!=c?c.yc(a,g):g;if(zc(c))return b=c,H.h?H.h(b):H.call(null,b);e+=2;g=c}else return g}function Ag(b,a,c){this.pa=b;this.xa=a;this.A=c}f=Ag.prototype;f.uc=function(b){if(b===this.pa)return this;var a=Sd(this.xa),c=Array(0>a?4:2*(a+1));md(this.A,0,c,0,2*a);return new Ag(b,this.xa,c)};f.Vc=function(){var b=this.A;return Bg?Bg(b):Cg.call(null,b)};
f.yc=function(b,a){return zg(this.A,b,a)};f.jc=function(b,a,c,d){var e=1<<(a>>>b&31);if(0===(this.xa&e))return d;var g=Sd(this.xa&e-1),e=this.A[2*g],g=this.A[2*g+1];return null==e?g.jc(b+5,a,c,d):vg(c,e)?g:d};
f.qb=function(b,a,c,d,e,g){var h=1<<(c>>>a&31),k=Sd(this.xa&h-1);if(0===(this.xa&h)){var p=Sd(this.xa);if(2*p<this.A.length){b=this.uc(b);a=b.A;g.L=!0;a:for(c=2*(p-k),g=2*k+(c-1),p=2*(k+1)+(c-1);;){if(0===c)break a;a[p]=a[g];--p;--c;--g}a[2*k]=d;a[2*k+1]=e;b.xa|=h;return b}if(16<=p){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>a&31]=Dg.qb(b,a+5,c,d,e,g);for(e=d=0;;)if(32>d)0!==
(this.xa>>>d&1)&&(k[d]=null!=this.A[e]?Dg.qb(b,a+5,hc(this.A[e]),this.A[e],this.A[e+1],g):this.A[e+1],e+=2),d+=1;else break;return new Eg(b,p+1,k)}a=Array(2*(p+4));md(this.A,0,a,0,2*k);a[2*k]=d;a[2*k+1]=e;md(this.A,2*k,a,2*(k+1),2*(p-k));g.L=!0;b=this.uc(b);b.A=a;b.xa|=h;return b}p=this.A[2*k];h=this.A[2*k+1];if(null==p)return p=h.qb(b,a+5,c,d,e,g),p===h?this:yg(this,b,2*k+1,p);if(vg(d,p))return e===h?this:yg(this,b,2*k+1,e);g.L=!0;g=a+5;d=Fg?Fg(b,g,p,h,c,d,e):Gg.call(null,b,g,p,h,c,d,e);e=2*k;k=
2*k+1;b=this.uc(b);b.A[e]=null;b.A[k]=d;return b};
f.pb=function(b,a,c,d,e){var g=1<<(a>>>b&31),h=Sd(this.xa&g-1);if(0===(this.xa&g)){var k=Sd(this.xa);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[a>>>b&31]=Dg.pb(b+5,a,c,d,e);for(d=c=0;;)if(32>c)0!==(this.xa>>>c&1)&&(h[c]=null!=this.A[d]?Dg.pb(b+5,hc(this.A[d]),this.A[d],this.A[d+1],e):this.A[d+1],d+=2),c+=1;else break;return new Eg(null,k+1,h)}b=Array(2*(k+1));md(this.A,
0,b,0,2*h);b[2*h]=c;b[2*h+1]=d;md(this.A,2*h,b,2*(h+1),2*(k-h));e.L=!0;return new Ag(null,this.xa|g,b)}var p=this.A[2*h],g=this.A[2*h+1];if(null==p)return k=g.pb(b+5,a,c,d,e),k===g?this:new Ag(null,this.xa,wg(this.A,2*h+1,k));if(vg(c,p))return d===g?this:new Ag(null,this.xa,wg(this.A,2*h+1,d));e.L=!0;e=this.xa;k=this.A;b+=5;b=Hg?Hg(b,p,g,a,c,d):Gg.call(null,b,p,g,a,c,d);c=2*h;h=2*h+1;d=Fa(k);d[c]=null;d[h]=b;return new Ag(null,e,d)};
f.Wc=function(b,a,c){var d=1<<(a>>>b&31);if(0===(this.xa&d))return this;var e=Sd(this.xa&d-1),g=this.A[2*e],h=this.A[2*e+1];return null==g?(b=h.Wc(b+5,a,c),b===h?this:null!=b?new Ag(null,this.xa,wg(this.A,2*e+1,b)):this.xa===d?null:new Ag(null,this.xa^d,xg(this.A,e))):vg(c,g)?new Ag(null,this.xa^d,xg(this.A,e)):this};var Dg=new Ag(null,0,[]);function Eg(b,a,c){this.pa=b;this.D=a;this.A=c}f=Eg.prototype;f.uc=function(b){return b===this.pa?this:new Eg(b,this.D,Fa(this.A))};
f.Vc=function(){var b=this.A;return Ig?Ig(b):Jg.call(null,b)};f.yc=function(b,a){for(var c=this.A.length,d=0,e=a;;)if(d<c){var g=this.A[d];if(null!=g&&(e=g.yc(b,e),zc(e)))return c=e,H.h?H.h(c):H.call(null,c);d+=1}else return e};f.jc=function(b,a,c,d){var e=this.A[a>>>b&31];return null!=e?e.jc(b+5,a,c,d):d};f.qb=function(b,a,c,d,e,g){var h=c>>>a&31,k=this.A[h];if(null==k)return b=yg(this,b,h,Dg.qb(b,a+5,c,d,e,g)),b.D+=1,b;a=k.qb(b,a+5,c,d,e,g);return a===k?this:yg(this,b,h,a)};
f.pb=function(b,a,c,d,e){var g=a>>>b&31,h=this.A[g];if(null==h)return new Eg(null,this.D+1,wg(this.A,g,Dg.pb(b+5,a,c,d,e)));b=h.pb(b+5,a,c,d,e);return b===h?this:new Eg(null,this.D,wg(this.A,g,b))};
f.Wc=function(b,a,c){var d=a>>>b&31,e=this.A[d];if(null!=e){b=e.Wc(b+5,a,c);if(b===e)d=this;else if(null==b)if(8>=this.D)a:{e=this.A;b=e.length;a=Array(2*(this.D-1));c=0;for(var g=1,h=0;;)if(c<b)c!==d&&null!=e[c]&&(a[g]=e[c],g+=2,h|=1<<c),c+=1;else{d=new Ag(null,h,a);break a}}else d=new Eg(null,this.D-1,wg(this.A,d,b));else d=new Eg(null,this.D,wg(this.A,d,b));return d}return this};function Kg(b,a,c){a*=2;for(var d=0;;)if(d<a){if(vg(c,b[d]))return d;d+=2}else return-1}
function Lg(b,a,c,d){this.pa=b;this.Wb=a;this.D=c;this.A=d}f=Lg.prototype;f.uc=function(b){if(b===this.pa)return this;var a=Array(2*(this.D+1));md(this.A,0,a,0,2*this.D);return new Lg(b,this.Wb,this.D,a)};f.Vc=function(){var b=this.A;return Bg?Bg(b):Cg.call(null,b)};f.yc=function(b,a){return zg(this.A,b,a)};f.jc=function(b,a,c,d){b=Kg(this.A,this.D,c);return 0>b?d:vg(c,this.A[b])?this.A[b+1]:d};
f.qb=function(b,a,c,d,e,g){if(c===this.Wb){a=Kg(this.A,this.D,d);if(-1===a){if(this.A.length>2*this.D)return a=2*this.D,c=2*this.D+1,b=this.uc(b),b.A[a]=d,b.A[c]=e,g.L=!0,b.D+=1,b;c=this.A.length;a=Array(c+2);md(this.A,0,a,0,c);a[c]=d;a[c+1]=e;g.L=!0;d=this.D+1;b===this.pa?(this.A=a,this.D=d,b=this):b=new Lg(this.pa,this.Wb,d,a);return b}return this.A[a+1]===e?this:yg(this,b,a+1,e)}return(new Ag(b,1<<(this.Wb>>>a&31),[null,this,null,null])).qb(b,a,c,d,e,g)};
f.pb=function(b,a,c,d,e){return a===this.Wb?(b=Kg(this.A,this.D,c),-1===b?(b=2*this.D,a=Array(b+2),md(this.A,0,a,0,b),a[b]=c,a[b+1]=d,e.L=!0,new Lg(null,this.Wb,this.D+1,a)):F.g(this.A[b],d)?this:new Lg(null,this.Wb,this.D,wg(this.A,b+1,d))):(new Ag(null,1<<(this.Wb>>>b&31),[null,this])).pb(b,a,c,d,e)};f.Wc=function(b,a,c){b=Kg(this.A,this.D,c);return-1===b?this:1===this.D?null:new Lg(null,this.Wb,this.D-1,xg(this.A,Rd(b,2)))};
function Gg(){switch(arguments.length){case 6:return Hg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Fg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}}function Hg(b,a,c,d,e,g){var h=hc(a);if(h===d)return new Lg(null,h,2,[a,c,e,g]);var k=new ug;return Dg.pb(b,h,a,c,k).pb(b,d,e,g,k)}
function Fg(b,a,c,d,e,g,h){var k=hc(c);if(k===e)return new Lg(null,k,2,[c,d,g,h]);var p=new ug;return Dg.qb(b,a,k,c,d,p).qb(b,a,e,g,h,p)}function Mg(b,a,c,d,e){this.F=b;this.kc=a;this.P=c;this.ga=d;this.s=e;this.B=32374860;this.H=0}f=Mg.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.F};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(pc,this.F)};
f.Aa=function(b,a){return Oc(a,this)};f.Ba=function(b,a,c){return Qc(a,c,this)};f.ya=function(){return null==this.ga?new U(null,2,5,V,[this.kc[this.P],this.kc[this.P+1]],null):C(this.ga)};f.Ia=function(){if(null==this.ga){var b=this.kc,a=this.P+2;return Ng?Ng(b,a,null):Cg.call(null,b,a,null)}var b=this.kc,a=this.P,c=D(this.ga);return Ng?Ng(b,a,c):Cg.call(null,b,a,c)};f.R=function(){return this};f.T=function(b,a){return new Mg(a,this.kc,this.P,this.ga,this.s)};f.W=function(b,a){return Lc(a,this)};
Mg.prototype[Ea]=function(){return rc(this)};function Cg(){switch(arguments.length){case 1:return Bg(arguments[0]);case 3:return Ng(arguments[0],arguments[1],arguments[2]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}}function Bg(b){return Ng(b,0,null)}
function Ng(b,a,c){if(null==c)for(c=b.length;;)if(a<c){if(null!=b[a])return new Mg(null,b,a,null,null);var d=b[a+1];if(m(d)&&(d=d.Vc(),m(d)))return new Mg(null,b,a+2,d,null);a+=2}else return null;else return new Mg(null,b,a,c,null)}function Og(b,a,c,d,e){this.F=b;this.kc=a;this.P=c;this.ga=d;this.s=e;this.B=32374860;this.H=0}f=Og.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.F};
f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(pc,this.F)};f.Aa=function(b,a){return Oc(a,this)};f.Ba=function(b,a,c){return Qc(a,c,this)};f.ya=function(){return C(this.ga)};f.Ia=function(){var b=this.kc,a=this.P,c=D(this.ga);return Pg?Pg(null,b,a,c):Jg.call(null,null,b,a,c)};f.R=function(){return this};f.T=function(b,a){return new Og(a,this.kc,this.P,this.ga,this.s)};f.W=function(b,a){return Lc(a,this)};
Og.prototype[Ea]=function(){return rc(this)};function Jg(){switch(arguments.length){case 1:return Ig(arguments[0]);case 4:return Pg(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}}function Ig(b){return Pg(null,b,0,null)}function Pg(b,a,c,d){if(null==d)for(d=a.length;;)if(c<d){var e=a[c];if(m(e)&&(e=e.Vc(),m(e)))return new Og(b,a,c+1,e,null);c+=1}else return null;else return new Og(b,a,c,d,null)}
function Qg(b,a,c,d,e,g){this.F=b;this.D=a;this.root=c;this.La=d;this.Va=e;this.s=g;this.B=16123663;this.H=8196}f=Qg.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.keys=function(){return rc(ng.h?ng.h(this):ng.call(null,this))};f.entries=function(){return hg(z(this))};f.values=function(){return rc(og.h?og.h(this):og.call(null,this))};f.has=function(b){return rd(this,b)};f.get=function(b,a){return this.I(null,b,a)};
f.forEach=function(b){for(var a=z(this),c=null,d=0,e=0;;)if(e<d){var g=c.ha(null,e),h=L(g,0),g=L(g,1);b.g?b.g(g,h):b.call(null,g,h);e+=1}else if(a=z(a))kd(a)?(c=Pb(a),a=Qb(a),h=c,d=K(c),c=h):(c=C(a),h=L(c,0),c=g=L(c,1),b.g?b.g(c,h):b.call(null,c,h),a=D(a),c=null,d=0),e=0;else return null};f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){return null==a?this.La?this.Va:c:null==this.root?c:this.root.jc(0,hc(a),a,c)};
f.Dc=function(b,a,c){this.La&&(b=this.Va,c=a.l?a.l(c,null,b):a.call(null,c,null,b));return zc(c)?H.h?H.h(c):H.call(null,c):null!=this.root?this.root.yc(a,c):c};f.S=function(){return this.F};f.Y=function(){return new Qg(this.F,this.D,this.root,this.La,this.Va,this.s)};f.U=function(){return this.D};f.M=function(){var b=this.s;return null!=b?b:this.s=b=vc(this)};f.G=function(b,a){return fg(this,a)};f.Cc=function(){return new Rg({},this.root,this.D,this.La,this.Va)};f.oa=function(){return qb(rg,this.F)};
f.da=function(b,a){if(null==a)return this.La?new Qg(this.F,this.D-1,this.root,!1,null,null):this;if(null==this.root)return this;var c=this.root.Wc(0,hc(a),a);return c===this.root?this:new Qg(this.F,this.D-1,c,this.La,this.Va,null)};f.Z=function(b,a,c){if(null==a)return this.La&&c===this.Va?this:new Qg(this.F,this.La?this.D:this.D+1,this.root,!0,c,null);b=new ug;a=(null==this.root?Dg:this.root).pb(0,hc(a),a,c,b);return a===this.root?this:new Qg(this.F,b.L?this.D+1:this.D,a,this.La,this.Va,null)};
f.qc=function(b,a){return null==a?this.La:null==this.root?!1:this.root.jc(0,hc(a),a,nd)!==nd};f.R=function(){if(0<this.D){var b=null!=this.root?this.root.Vc():null;return this.La?Lc(new U(null,2,5,V,[null,this.Va],null),b):b}return null};f.T=function(b,a){return new Qg(a,this.D,this.root,this.La,this.Va,this.s)};
f.W=function(b,a){if(jd(a))return $a(this,v.g(a,0),v.g(a,1));for(var c=this,d=z(a);;){if(null==d)return c;var e=C(d);if(jd(e))c=$a(c,v.g(e,0),v.g(e,1)),d=D(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.J(null,b);case 3:return this.I(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return this.J(null,b)};b.l=function(a,b,d){return this.I(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return this.J(null,b)};f.g=function(b,a){return this.I(null,b,a)};var rg=new Qg(null,0,null,!1,null,wc);
function Zc(b,a){for(var c=b.length,d=0,e=Hb(rg);;)if(d<c)var g=d+1,e=e.Oc(null,b[d],a[d]),d=g;else return Jb(e)}Qg.prototype[Ea]=function(){return rc(this)};function Rg(b,a,c,d,e){this.pa=b;this.root=a;this.count=c;this.La=d;this.Va=e;this.B=258;this.H=56}
function Sg(b,a){if(b.pa){if(a?a.B&2048||a.oe||(a.B?0:n(cb,a)):n(cb,a))return Tg(b,Yd.h?Yd.h(a):Yd.call(null,a),Zd.h?Zd.h(a):Zd.call(null,a));for(var c=z(a),d=b;;){var e=C(c);if(m(e))var g=e,c=D(c),d=Tg(d,function(){var a=g;return Yd.h?Yd.h(a):Yd.call(null,a)}(),function(){var a=g;return Zd.h?Zd.h(a):Zd.call(null,a)}());else return d}}else throw Error("conj! after persistent");}
function Tg(b,a,c){if(b.pa){if(null==a)b.Va!==c&&(b.Va=c),b.La||(b.count+=1,b.La=!0);else{var d=new ug;a=(null==b.root?Dg:b.root).qb(b.pa,0,hc(a),a,c,d);a!==b.root&&(b.root=a);d.L&&(b.count+=1)}return b}throw Error("assoc! after persistent!");}f=Rg.prototype;f.U=function(){if(this.pa)return this.count;throw Error("count after persistent!");};f.J=function(b,a){return null==a?this.La?this.Va:null:null==this.root?null:this.root.jc(0,hc(a),a)};
f.I=function(b,a,c){return null==a?this.La?this.Va:c:null==this.root?c:this.root.jc(0,hc(a),a,c)};f.sc=function(b,a){return Sg(this,a)};f.Ec=function(){var b;if(this.pa)this.pa=null,b=new Qg(null,this.count,this.root,this.La,this.Va,null);else throw Error("persistent! called twice");return b};f.Oc=function(b,a,c){return Tg(this,a,c)};function Ug(b,a,c){for(var d=a;;)if(null!=b)a=c?b.left:b.right,d=J.g(d,b),b=a;else return d}
function Vg(b,a,c,d,e){this.F=b;this.stack=a;this.Zc=c;this.D=d;this.s=e;this.B=32374862;this.H=0}f=Vg.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.F};f.U=function(){return 0>this.D?K(D(this))+1:this.D};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(pc,this.F)};f.Aa=function(b,a){return Oc(a,this)};f.Ba=function(b,a,c){return Qc(a,c,this)};
f.ya=function(){var b=this.stack;return null==b?null:ib(b)};f.Ia=function(){var b=C(this.stack),b=Ug(this.Zc?b.right:b.left,D(this.stack),this.Zc);return null!=b?new Vg(null,b,this.Zc,this.D-1,null):pc};f.R=function(){return this};f.T=function(b,a){return new Vg(a,this.stack,this.Zc,this.D,this.s)};f.W=function(b,a){return Lc(a,this)};Vg.prototype[Ea]=function(){return rc(this)};function Wg(b,a,c){return new Vg(null,Ug(b,null,a),a,c,null)}
function Xg(b,a,c,d){return c instanceof Yg?c.left instanceof Yg?new Yg(c.key,c.L,c.left.Gb(),new Zg(b,a,c.right,d,null),null):c.right instanceof Yg?new Yg(c.right.key,c.right.L,new Zg(c.key,c.L,c.left,c.right.left,null),new Zg(b,a,c.right.right,d,null),null):new Zg(b,a,c,d,null):new Zg(b,a,c,d,null)}
function $g(b,a,c,d){return d instanceof Yg?d.right instanceof Yg?new Yg(d.key,d.L,new Zg(b,a,c,d.left,null),d.right.Gb(),null):d.left instanceof Yg?new Yg(d.left.key,d.left.L,new Zg(b,a,c,d.left.left,null),new Zg(d.key,d.L,d.left.right,d.right,null),null):new Zg(b,a,c,d,null):new Zg(b,a,c,d,null)}
function ah(b,a,c,d){if(c instanceof Yg)return new Yg(b,a,c.Gb(),d,null);if(d instanceof Zg)return $g(b,a,c,d.Xc());if(d instanceof Yg&&d.left instanceof Zg)return new Yg(d.left.key,d.left.L,new Zg(b,a,c,d.left.left,null),$g(d.key,d.L,d.left.right,d.right.Xc()),null);throw Error("red-black tree invariant violation");}
var bh=function bh(a,c,d){d=null!=a.left?bh(a.left,c,d):d;if(zc(d))return H.h?H.h(d):H.call(null,d);var e=a.key,g=a.L;d=c.l?c.l(d,e,g):c.call(null,d,e,g);if(zc(d))return H.h?H.h(d):H.call(null,d);a=null!=a.right?bh(a.right,c,d):d;return zc(a)?H.h?H.h(a):H.call(null,a):a};function Zg(b,a,c,d,e){this.key=b;this.L=a;this.left=c;this.right=d;this.s=e;this.B=32402207;this.H=0}f=Zg.prototype;f.Pd=function(b){return b.Rd(this)};f.Xc=function(){return new Yg(this.key,this.L,this.left,this.right,null)};
f.Gb=function(){return this};f.Od=function(b){return b.Qd(this)};f.replace=function(b,a,c,d){return new Zg(b,a,c,d,null)};f.Qd=function(b){return new Zg(b.key,b.L,this,b.right,null)};f.Rd=function(b){return new Zg(b.key,b.L,b.left,this,null)};f.yc=function(b,a){return bh(this,b,a)};f.J=function(b,a){return v.l(this,a,null)};f.I=function(b,a,c){return v.l(this,a,c)};f.ha=function(b,a){return 0===a?this.key:1===a?this.L:null};f.Ta=function(b,a,c){return 0===a?this.key:1===a?this.L:c};
f.tc=function(b,a,c){return(new U(null,2,5,V,[this.key,this.L],null)).tc(null,a,c)};f.S=function(){return null};f.U=function(){return 2};f.Lc=function(){return this.key};f.Mc=function(){return this.L};f.ec=function(){return this.L};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Uc};f.Aa=function(b,a){return Ac(this,a)};f.Ba=function(b,a,c){return Bc(this,a,c)};
f.Z=function(b,a,c){return M.l(new U(null,2,5,V,[this.key,this.L],null),a,c)};f.R=function(){return Oa(Oa(pc,this.L),this.key)};f.T=function(b,a){return Nc(new U(null,2,5,V,[this.key,this.L],null),a)};f.W=function(b,a){return new U(null,3,5,V,[this.key,this.L,a],null)};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.J(null,b);case 3:return this.I(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return this.J(null,b)};b.l=function(a,b,d){return this.I(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return this.J(null,b)};f.g=function(b,a){return this.I(null,b,a)};Zg.prototype[Ea]=function(){return rc(this)};
function Yg(b,a,c,d,e){this.key=b;this.L=a;this.left=c;this.right=d;this.s=e;this.B=32402207;this.H=0}f=Yg.prototype;f.Pd=function(b){return new Yg(this.key,this.L,this.left,b,null)};f.Xc=function(){throw Error("red-black tree invariant violation");};f.Gb=function(){return new Zg(this.key,this.L,this.left,this.right,null)};f.Od=function(b){return new Yg(this.key,this.L,b,this.right,null)};f.replace=function(b,a,c,d){return new Yg(b,a,c,d,null)};
f.Qd=function(b){return this.left instanceof Yg?new Yg(this.key,this.L,this.left.Gb(),new Zg(b.key,b.L,this.right,b.right,null),null):this.right instanceof Yg?new Yg(this.right.key,this.right.L,new Zg(this.key,this.L,this.left,this.right.left,null),new Zg(b.key,b.L,this.right.right,b.right,null),null):new Zg(b.key,b.L,this,b.right,null)};
f.Rd=function(b){return this.right instanceof Yg?new Yg(this.key,this.L,new Zg(b.key,b.L,b.left,this.left,null),this.right.Gb(),null):this.left instanceof Yg?new Yg(this.left.key,this.left.L,new Zg(b.key,b.L,b.left,this.left.left,null),new Zg(this.key,this.L,this.left.right,this.right,null),null):new Zg(b.key,b.L,b.left,this,null)};f.yc=function(b,a){return bh(this,b,a)};f.J=function(b,a){return v.l(this,a,null)};f.I=function(b,a,c){return v.l(this,a,c)};
f.ha=function(b,a){return 0===a?this.key:1===a?this.L:null};f.Ta=function(b,a,c){return 0===a?this.key:1===a?this.L:c};f.tc=function(b,a,c){return(new U(null,2,5,V,[this.key,this.L],null)).tc(null,a,c)};f.S=function(){return null};f.U=function(){return 2};f.Lc=function(){return this.key};f.Mc=function(){return this.L};f.ec=function(){return this.L};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Uc};
f.Aa=function(b,a){return Ac(this,a)};f.Ba=function(b,a,c){return Bc(this,a,c)};f.Z=function(b,a,c){return M.l(new U(null,2,5,V,[this.key,this.L],null),a,c)};f.R=function(){return Oa(Oa(pc,this.L),this.key)};f.T=function(b,a){return Nc(new U(null,2,5,V,[this.key,this.L],null),a)};f.W=function(b,a){return new U(null,3,5,V,[this.key,this.L,a],null)};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.J(null,b);case 3:return this.I(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return this.J(null,b)};b.l=function(a,b,d){return this.I(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return this.J(null,b)};f.g=function(b,a){return this.I(null,b,a)};Yg.prototype[Ea]=function(){return rc(this)};
var ch=function ch(a,c,d,e,g){if(null==c)return new Yg(d,e,null,null,null);var h;h=c.key;h=a.g?a.g(d,h):a.call(null,d,h);if(0===h)return g[0]=c,null;if(0>h)return a=ch(a,c.left,d,e,g),null!=a?c.Od(a):null;a=ch(a,c.right,d,e,g);return null!=a?c.Pd(a):null},dh=function dh(a,c){if(null==a)return c;if(null==c)return a;if(a instanceof Yg){if(c instanceof Yg){var d=dh(a.right,c.left);return d instanceof Yg?new Yg(d.key,d.L,new Yg(a.key,a.L,a.left,d.left,null),new Yg(c.key,c.L,d.right,c.right,null),null):
new Yg(a.key,a.L,a.left,new Yg(c.key,c.L,d,c.right,null),null)}return new Yg(a.key,a.L,a.left,dh(a.right,c),null)}if(c instanceof Yg)return new Yg(c.key,c.L,dh(a,c.left),c.right,null);d=dh(a.right,c.left);return d instanceof Yg?new Yg(d.key,d.L,new Zg(a.key,a.L,a.left,d.left,null),new Zg(c.key,c.L,d.right,c.right,null),null):ah(a.key,a.L,a.left,new Zg(c.key,c.L,d,c.right,null))},eh=function eh(a,c,d,e){if(null!=c){var g;g=c.key;g=a.g?a.g(d,g):a.call(null,d,g);if(0===g)return e[0]=c,dh(c.left,c.right);
if(0>g)return a=eh(a,c.left,d,e),null!=a||null!=e[0]?c.left instanceof Zg?ah(c.key,c.L,a,c.right):new Yg(c.key,c.L,a,c.right,null):null;a=eh(a,c.right,d,e);if(null!=a||null!=e[0])if(c.right instanceof Zg)if(e=c.key,d=c.L,c=c.left,a instanceof Yg)c=new Yg(e,d,c,a.Gb(),null);else if(c instanceof Zg)c=Xg(e,d,c.Xc(),a);else if(c instanceof Yg&&c.right instanceof Zg)c=new Yg(c.right.key,c.right.L,Xg(c.key,c.L,c.left.Xc(),c.right.left),new Zg(e,d,c.right.right,a,null),null);else throw Error("red-black tree invariant violation");
else c=new Yg(c.key,c.L,c.left,a,null);else c=null;return c}return null},fh=function fh(a,c,d,e){var g=c.key,h=a.g?a.g(d,g):a.call(null,d,g);return 0===h?c.replace(g,e,c.left,c.right):0>h?c.replace(g,c.L,fh(a,c.left,d,e),c.right):c.replace(g,c.L,c.left,fh(a,c.right,d,e))};function gh(b,a,c,d,e){this.$a=b;this.Db=a;this.D=c;this.F=d;this.s=e;this.B=418776847;this.H=8192}f=gh.prototype;
f.forEach=function(b){for(var a=z(this),c=null,d=0,e=0;;)if(e<d){var g=c.ha(null,e),h=L(g,0),g=L(g,1);b.g?b.g(g,h):b.call(null,g,h);e+=1}else if(a=z(a))kd(a)?(c=Pb(a),a=Qb(a),h=c,d=K(c),c=h):(c=C(a),h=L(c,0),c=g=L(c,1),b.g?b.g(c,h):b.call(null,c,h),a=D(a),c=null,d=0),e=0;else return null};f.get=function(b,a){return this.I(null,b,a)};f.entries=function(){return hg(z(this))};f.toString=function(){return Xb(this)};f.keys=function(){return rc(ng.h?ng.h(this):ng.call(null,this))};
f.values=function(){return rc(og.h?og.h(this):og.call(null,this))};f.equiv=function(b){return this.G(null,b)};function hh(b,a){for(var c=b.Db;;)if(null!=c){var d;d=c.key;d=b.$a.g?b.$a.g(a,d):b.$a.call(null,a,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}f.has=function(b){return rd(this,b)};f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){b=hh(this,a);return null!=b?b.L:c};f.Dc=function(b,a,c){return null!=this.Db?bh(this.Db,a,c):c};f.S=function(){return this.F};
f.Y=function(){return new gh(this.$a,this.Db,this.D,this.F,this.s)};f.U=function(){return this.D};f.yb=function(){return 0<this.D?Wg(this.Db,!1,this.D):null};f.M=function(){var b=this.s;return null!=b?b:this.s=b=vc(this)};f.G=function(b,a){return fg(this,a)};f.oa=function(){return new gh(this.$a,null,0,this.F,0)};f.da=function(b,a){var c=[null],d=eh(this.$a,this.Db,a,c);return null==d?null==Wc(c,0)?this:new gh(this.$a,null,0,this.F,null):new gh(this.$a,d.Gb(),this.D-1,this.F,null)};
f.Z=function(b,a,c){b=[null];var d=ch(this.$a,this.Db,a,c,b);return null==d?(b=Wc(b,0),F.g(c,b.L)?this:new gh(this.$a,fh(this.$a,this.Db,a,c),this.D,this.F,null)):new gh(this.$a,d.Gb(),this.D+1,this.F,null)};f.qc=function(b,a){return null!=hh(this,a)};f.R=function(){return 0<this.D?Wg(this.Db,!0,this.D):null};f.T=function(b,a){return new gh(this.$a,this.Db,this.D,a,this.s)};
f.W=function(b,a){if(jd(a))return $a(this,v.g(a,0),v.g(a,1));for(var c=this,d=z(a);;){if(null==d)return c;var e=C(d);if(jd(e))c=$a(c,v.g(e,0),v.g(e,1)),d=D(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.J(null,b);case 3:return this.I(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return this.J(null,b)};b.l=function(a,b,d){return this.I(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return this.J(null,b)};f.g=function(b,a){return this.I(null,b,a)};var ih=new gh(wd,null,0,null,wc);gh.prototype[Ea]=function(){return rc(this)};
var Se=function Se(){return Se.w(0<arguments.length?new B(Array.prototype.slice.call(arguments,0),0):null)};Se.w=function(b){b=z(b);for(var a=Hb(rg);;)if(b){var c=D(D(b)),a=xe.l(a,C(b),Rc(b));b=c}else return Jb(a)};Se.O=0;Se.N=function(b){return Se.w(z(b))};function lh(b,a){this.Oa=b;this.Sa=a;this.B=32374988;this.H=0}f=lh.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.Sa};
f.Ha=function(){var b=this.Oa,b=(b?b.B&128||b.ad||(b.B?0:n(Wa,b)):n(Wa,b))?this.Oa.Ha(null):D(this.Oa);return null==b?null:new lh(b,this.Sa)};f.M=function(){return tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(pc,this.Sa)};f.Aa=function(b,a){return Oc(a,this)};f.Ba=function(b,a,c){return Qc(a,c,this)};f.ya=function(){return this.Oa.ya(null).Lc(null)};
f.Ia=function(){var b=this.Oa,b=(b?b.B&128||b.ad||(b.B?0:n(Wa,b)):n(Wa,b))?this.Oa.Ha(null):D(this.Oa);return null!=b?new lh(b,this.Sa):pc};f.R=function(){return this};f.T=function(b,a){return new lh(this.Oa,a)};f.W=function(b,a){return Lc(a,this)};lh.prototype[Ea]=function(){return rc(this)};function ng(b){return(b=z(b))?new lh(b,null):null}function Yd(b){return db(b)}function mh(b,a){this.Oa=b;this.Sa=a;this.B=32374988;this.H=0}f=mh.prototype;f.toString=function(){return Xb(this)};
f.equiv=function(b){return this.G(null,b)};f.S=function(){return this.Sa};f.Ha=function(){var b=this.Oa,b=(b?b.B&128||b.ad||(b.B?0:n(Wa,b)):n(Wa,b))?this.Oa.Ha(null):D(this.Oa);return null==b?null:new mh(b,this.Sa)};f.M=function(){return tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(pc,this.Sa)};f.Aa=function(b,a){return Oc(a,this)};f.Ba=function(b,a,c){return Qc(a,c,this)};f.ya=function(){return this.Oa.ya(null).Mc(null)};
f.Ia=function(){var b=this.Oa,b=(b?b.B&128||b.ad||(b.B?0:n(Wa,b)):n(Wa,b))?this.Oa.Ha(null):D(this.Oa);return null!=b?new mh(b,this.Sa):pc};f.R=function(){return this};f.T=function(b,a){return new mh(this.Oa,a)};f.W=function(b,a){return Lc(a,this)};mh.prototype[Ea]=function(){return rc(this)};function og(b){return(b=z(b))?new mh(b,null):null}function Zd(b){return fb(b)}var nh=function nh(){return nh.w(0<arguments.length?new B(Array.prototype.slice.call(arguments,0),0):null)};
nh.w=function(b){return m(He(Dd,b))?Bd(function(a,b){return J.g(m(a)?a:O,b)},b):null};nh.O=0;nh.N=function(b){return nh.w(z(b))};function oh(b,a){for(var c=O,d=z(a);;)if(d)var e=C(d),g=Yc(b,e,ph),c=Ee.g(g,ph)?M.l(c,e,g):c,d=D(d);else return Nc(c,cd(b))}function ud(b,a,c){this.F=b;this.ic=a;this.s=c;this.B=15077647;this.H=8196}f=ud.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.keys=function(){return rc(z(this))};f.entries=function(){return jg(z(this))};
f.values=function(){return rc(z(this))};f.has=function(b){return rd(this,b)};f.forEach=function(b){for(var a=z(this),c=null,d=0,e=0;;)if(e<d){var g=c.ha(null,e),h=L(g,0),g=L(g,1);b.g?b.g(g,h):b.call(null,g,h);e+=1}else if(a=z(a))kd(a)?(c=Pb(a),a=Qb(a),h=c,d=K(c),c=h):(c=C(a),h=L(c,0),c=g=L(c,1),b.g?b.g(c,h):b.call(null,c,h),a=D(a),c=null,d=0),e=0;else return null};f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){return Za(this.ic,a)?a:c};f.S=function(){return this.F};
f.Y=function(){return new ud(this.F,this.ic,this.s)};f.U=function(){return La(this.ic)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=vc(this)};f.G=function(b,a){return gd(a)&&K(this)===K(a)&&Ge(function(a){return function(b){return rd(a,b)}}(this),a)};f.Cc=function(){return new qh(Hb(this.ic))};f.oa=function(){return Nc(vd,this.F)};f.bd=function(b,a){return new ud(this.F,bb(this.ic,a),null)};f.R=function(){return ng(this.ic)};f.T=function(b,a){return new ud(a,this.ic,this.s)};
f.W=function(b,a){return new ud(this.F,M.l(this.ic,a,null),null)};f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.J(null,b);case 3:return this.I(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return this.J(null,b)};b.l=function(a,b,d){return this.I(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return this.J(null,b)};f.g=function(b,a){return this.I(null,b,a)};
var vd=new ud(null,O,wc);ud.prototype[Ea]=function(){return rc(this)};function qh(b){this.bc=b;this.H=136;this.B=259}f=qh.prototype;f.sc=function(b,a){this.bc=xe.l(this.bc,a,null);return this};f.Ec=function(){return new ud(null,Jb(this.bc),null)};f.U=function(){return K(this.bc)};f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){return x.l(this.bc,a,nd)===nd?c:a};
f.call=function(){function b(a,b,c){return x.l(this.bc,b,nd)===nd?c:b}function a(a,b){return x.l(this.bc,b,nd)===nd?null:b}var c=null,c=function(c,e,g){switch(arguments.length){case 2:return a.call(this,c,e);case 3:return b.call(this,c,e,g)}throw Error("Invalid arity: "+arguments.length);};c.g=a;c.l=b;return c}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return x.l(this.bc,b,nd)===nd?null:b};f.g=function(b,a){return x.l(this.bc,b,nd)===nd?a:b};
function rh(b,a,c){this.F=b;this.Eb=a;this.s=c;this.B=417730831;this.H=8192}f=rh.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.keys=function(){return rc(z(this))};f.entries=function(){return jg(z(this))};f.values=function(){return rc(z(this))};f.has=function(b){return rd(this,b)};
f.forEach=function(b){for(var a=z(this),c=null,d=0,e=0;;)if(e<d){var g=c.ha(null,e),h=L(g,0),g=L(g,1);b.g?b.g(g,h):b.call(null,g,h);e+=1}else if(a=z(a))kd(a)?(c=Pb(a),a=Qb(a),h=c,d=K(c),c=h):(c=C(a),h=L(c,0),c=g=L(c,1),b.g?b.g(c,h):b.call(null,c,h),a=D(a),c=null,d=0),e=0;else return null};f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){b=hh(this.Eb,a);return null!=b?b.key:c};f.S=function(){return this.F};f.Y=function(){return new rh(this.F,this.Eb,this.s)};f.U=function(){return K(this.Eb)};
f.yb=function(){return 0<K(this.Eb)?bf.g(Yd,Cb(this.Eb)):null};f.M=function(){var b=this.s;return null!=b?b:this.s=b=vc(this)};f.G=function(b,a){return gd(a)&&K(this)===K(a)&&Ge(function(a){return function(b){return rd(a,b)}}(this),a)};f.oa=function(){return new rh(this.F,Ma(this.Eb),0)};f.bd=function(b,a){return new rh(this.F,N.g(this.Eb,a),null)};f.R=function(){return ng(this.Eb)};f.T=function(b,a){return new rh(a,this.Eb,this.s)};f.W=function(b,a){return new rh(this.F,M.l(this.Eb,a,null),null)};
f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.J(null,b);case 3:return this.I(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return this.J(null,b)};b.l=function(a,b,d){return this.I(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return this.J(null,b)};f.g=function(b,a){return this.I(null,b,a)};rh.prototype[Ea]=function(){return rc(this)};
function sh(b){b=z(b);if(null==b)return vd;if(b instanceof B&&0===b.P){b=b.A;a:for(var a=0,c=Hb(vd);;)if(a<b.length)var d=a+1,c=c.sc(null,b[a]),a=d;else break a;return c.Ec(null)}for(d=Hb(vd);;)if(null!=b)a=D(b),d=d.sc(null,b.ya(null)),b=a;else return Jb(d)}var th=function th(){switch(arguments.length){case 0:return th.X();case 1:return th.h(arguments[0]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};
th.X=function(){return function(b){return function(a){return function(){function c(c,d){if(rd(H.h?H.h(a):H.call(null,a),d))return c;Ub(a,J.g(lb(a),d));return b.g?b.g(c,d):b.call(null,c,d)}function d(a){return b.h?b.h(a):b.call(null,a)}function e(){return b.X?b.X():b.call(null)}var g=null,g=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};g.X=e;g.h=d;g.g=c;return g}()}(new Xe(vd))}};
th.h=function(b){return function c(b,e){return new je(null,function(){return function(b,d){for(;;){var e=b,p=L(e,0);if(e=z(e))if(rd(d,p))p=oc(e),e=d,b=p,d=e;else return Lc(p,c(oc(e),J.g(d,p)));else return null}}.call(null,b,e)},null,null)}(b,vd)};th.O=1;function uh(b){for(var a=Uc;;)if(D(b))a=J.g(a,C(b)),b=D(b);else return z(a)}function ie(b){if(b&&(b.H&4096||b.qe))return b.name;if("string"===typeof b)return b;throw Error([q("Doesn't support name: "),q(b)].join(""));}
function vh(b,a){for(var c=Hb(O),d=z(b),e=z(a);;)if(d&&e)c=xe.l(c,C(d),C(e)),d=D(d),e=D(e);else return Jb(c)}var wh=function wh(){switch(arguments.length){case 2:return wh.g(arguments[0],arguments[1]);case 3:return wh.l(arguments[0],arguments[1],arguments[2]);default:return wh.w(arguments[0],arguments[1],arguments[2],new B(Array.prototype.slice.call(arguments,3),0))}};wh.g=function(b,a){return a};wh.l=function(b,a,c){return(b.h?b.h(a):b.call(null,a))>(b.h?b.h(c):b.call(null,c))?a:c};
wh.w=function(b,a,c,d){return t(function(a,c){return wh.l(b,a,c)},wh.l(b,a,c),d)};wh.N=function(b){var a=C(b),c=D(b);b=C(c);var d=D(c),c=C(d),d=D(d);return wh.w(a,b,c,d)};wh.O=3;function xh(b,a){return new je(null,function(){var c=z(a);if(c){var d;d=C(c);d=b.h?b.h(d):b.call(null,d);c=m(d)?Lc(C(c),xh(b,oc(c))):null}else c=null;return c},null,null)}function yh(b,a,c){this.P=b;this.end=a;this.step=c}yh.prototype.fd=function(){return 0<this.step?this.P<this.end:this.P>this.end};
yh.prototype.next=function(){var b=this.P;this.P+=this.step;return b};function zh(b,a,c,d,e){this.F=b;this.start=a;this.end=c;this.step=d;this.s=e;this.B=32375006;this.H=8192}f=zh.prototype;f.toString=function(){return Xb(this)};f.equiv=function(b){return this.G(null,b)};f.ha=function(b,a){if(a<La(this))return this.start+a*this.step;if(this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
f.Ta=function(b,a,c){return a<La(this)?this.start+a*this.step:this.start>this.end&&0===this.step?this.start:c};f.Kc=function(){return new yh(this.start,this.end,this.step)};f.S=function(){return this.F};f.Y=function(){return new zh(this.F,this.start,this.end,this.step,this.s)};f.Ha=function(){return 0<this.step?this.start+this.step<this.end?new zh(this.F,this.start+this.step,this.end,this.step,null):null:this.start+this.step>this.end?new zh(this.F,this.start+this.step,this.end,this.step,null):null};
f.U=function(){return Aa(xb(this))?0:Math.ceil((this.end-this.start)/this.step)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=tc(this)};f.G=function(b,a){return Kc(this,a)};f.oa=function(){return Nc(pc,this.F)};f.Aa=function(b,a){return Ac(this,a)};f.Ba=function(b,a,c){for(b=this.start;;)if(0<this.step?b<this.end:b>this.end){var d=b;c=a.g?a.g(c,d):a.call(null,c,d);if(zc(c))return a=c,H.h?H.h(a):H.call(null,a);b+=this.step}else return c};f.ya=function(){return null==xb(this)?null:this.start};
f.Ia=function(){return null!=xb(this)?new zh(this.F,this.start+this.step,this.end,this.step,null):pc};f.R=function(){return 0<this.step?this.start<this.end?this:null:this.start>this.end?this:null};f.T=function(b,a){return new zh(a,this.start,this.end,this.step,this.s)};f.W=function(b,a){return Lc(a,this)};zh.prototype[Ea]=function(){return rc(this)};function sf(){return new zh(null,0,Number.MAX_VALUE,1,null)}function Ah(b,a){return new U(null,2,5,V,[xh(b,a),ff(b,a)],null)}
function Bh(b,a){return new je(null,function(){var c=z(a);if(c){var d=C(c),e=b.h?b.h(d):b.call(null,d),d=Lc(d,xh(function(a,c){return function(a){return F.g(c,b.h?b.h(a):b.call(null,a))}}(d,e,c,c),D(c)));return Lc(d,Bh(b,z(ef(K(d),c))))}return null},null,null)}function Ch(b,a){if("string"===typeof a){var c=b.exec(a);return F.g(C(c),a)?1===K(c)?C(c):Rf(c):null}throw new TypeError("re-matches must match against a string.");}
function Dh(b){if(b instanceof RegExp)return b;var a;var c=/^\(\?([idmsux]*)\)/;if("string"===typeof b)c=c.exec(b),a=null==c?null:1===K(c)?C(c):Rf(c);else throw new TypeError("re-find must match against a string.");c=L(a,0);a=L(a,1);b=Wd(b,K(c));return new RegExp(b,m(a)?a:"")}
function W(b,a,c,d,e,g,h){var k=na;na=null==na?null:na-1;try{if(null!=na&&0>na)return Db(b,"#");Db(b,c);if(0===wa.h(g))z(h)&&Db(b,function(){var a=Eh.h(g);return m(a)?a:"..."}());else{if(z(h)){var p=C(h);a.l?a.l(p,b,g):a.call(null,p,b,g)}for(var r=D(h),u=wa.h(g)-1;;)if(!r||null!=u&&0===u){z(r)&&0===u&&(Db(b,d),Db(b,function(){var a=Eh.h(g);return m(a)?a:"..."}()));break}else{Db(b,d);var w=C(r);c=b;h=g;a.l?a.l(w,c,h):a.call(null,w,c,h);var A=D(r);c=u-1;r=A;u=c}}return Db(b,e)}finally{na=k}}
function Fh(b,a){for(var c=z(a),d=null,e=0,g=0;;)if(g<e){var h=d.ha(null,g);Db(b,h);g+=1}else if(c=z(c))d=c,kd(d)?(c=Pb(d),e=Qb(d),d=c,h=K(c),c=e,e=h):(h=C(d),Db(b,h),c=D(d),d=null,e=0),g=0;else return null}var Gh={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Hh(b){return[q('"'),q(b.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(a){return Gh[a]})),q('"')].join("")}
function Ih(b,a,c){if(null==b)return Db(a,"nil");if(void 0===b)return Db(a,"#\x3cundefined\x3e");if(m(function(){var a=Xc(c,ta);return m(a)?(a=b?b.B&131072||b.pe?!0:b.B?!1:n(mb,b):n(mb,b))?cd(b):a:a}())){Db(a,"^");var d=cd(b);X.l?X.l(d,a,c):X.call(null,d,a,c);Db(a," ")}return null==b?Db(a,"nil"):b.ud?b.Zd(b,a,c):b&&(b.B&2147483648||b.ka)?b.K(null,a,c):Ba(b)===Boolean||"number"===typeof b?Db(a,""+q(b)):null!=b&&b.constructor===Object?(Db(a,"#js "),d=bf.g(function(a){return new U(null,2,5,V,[he.h(a),
b[a]],null)},ld(b)),Jh.V?Jh.V(d,X,a,c):Jh.call(null,d,X,a,c)):za(b)?W(a,X,"#js ["," ","]",c,b):m("string"==typeof b)?m(sa.h(c))?Db(a,Hh(b)):Db(a,b):$c(b)?Fh(a,I(["#\x3c",""+q(b),"\x3e"],0)):b instanceof Date?(d=function(a,b){for(var c=""+q(a);;)if(K(c)<b)c=[q("0"),q(c)].join("");else return c},Fh(a,I(['#inst "',""+q(b.getUTCFullYear()),"-",d(b.getUTCMonth()+1,2),"-",d(b.getUTCDate(),2),"T",d(b.getUTCHours(),2),":",d(b.getUTCMinutes(),2),":",d(b.getUTCSeconds(),2),".",d(b.getUTCMilliseconds(),3),"-",
'00:00"'],0))):m(b instanceof RegExp)?Fh(a,I(['#"',b.source,'"'],0)):(b?b.B&2147483648||b.ka||(b.B?0:n(Eb,b)):n(Eb,b))?Fb(b,a,c):Fh(a,I(["#\x3c",""+q(b),"\x3e"],0))}function X(b,a,c){var d=Kh.h(c);return m(d)?(c=M.l(c,Lh,Ih),d.l?d.l(b,a,c):d.call(null,b,a,c)):Ih(b,a,c)}function Ve(){return Mh(0<arguments.length?new B(Array.prototype.slice.call(arguments,0),0):null)}
function Mh(b){var a=qa();if(ed(b))a="";else{var c=q,d=new ia;a:{var e=new Wb(d);X(C(b),e,a);b=z(D(b));for(var g=null,h=0,k=0;;)if(k<h){var p=g.ha(null,k);Db(e," ");X(p,e,a);k+=1}else if(b=z(b))g=b,kd(g)?(b=Pb(g),h=Qb(g),g=b,p=K(b),b=h,h=p):(p=C(g),Db(e," "),X(p,e,a),b=D(g),g=null,h=0),k=0;else break a}a=""+c(d)}return a}function Jh(b,a,c,d){return W(c,function(b,c,d){var k=db(b);a.l?a.l(k,c,d):a.call(null,k,c,d);Db(c," ");b=fb(b);return a.l?a.l(b,c,d):a.call(null,b,c,d)},"{",", ","}",d,z(b))}
Xe.prototype.ka=!0;Xe.prototype.K=function(b,a,c){Db(a,"#\x3cVolatile: ");X(this.state,a,c);return Db(a,"\x3e")};B.prototype.ka=!0;B.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};je.prototype.ka=!0;je.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};Vg.prototype.ka=!0;Vg.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};Mg.prototype.ka=!0;Mg.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};Zg.prototype.ka=!0;
Zg.prototype.K=function(b,a,c){return W(a,X,"["," ","]",c,this)};lg.prototype.ka=!0;lg.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};rh.prototype.ka=!0;rh.prototype.K=function(b,a,c){return W(a,X,"#{"," ","}",c,this)};Tf.prototype.ka=!0;Tf.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};de.prototype.ka=!0;de.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};Jc.prototype.ka=!0;Jc.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};
Qg.prototype.ka=!0;Qg.prototype.K=function(b,a,c){return Jh(this,X,a,c)};Og.prototype.ka=!0;Og.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};Xf.prototype.ka=!0;Xf.prototype.K=function(b,a,c){return W(a,X,"["," ","]",c,this)};gh.prototype.ka=!0;gh.prototype.K=function(b,a,c){return Jh(this,X,a,c)};ud.prototype.ka=!0;ud.prototype.K=function(b,a,c){return W(a,X,"#{"," ","}",c,this)};oe.prototype.ka=!0;oe.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};Pe.prototype.ka=!0;
Pe.prototype.K=function(b,a,c){Db(a,"#\x3cAtom: ");X(this.state,a,c);return Db(a,"\x3e")};mh.prototype.ka=!0;mh.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};Yg.prototype.ka=!0;Yg.prototype.K=function(b,a,c){return W(a,X,"["," ","]",c,this)};U.prototype.ka=!0;U.prototype.K=function(b,a,c){return W(a,X,"["," ","]",c,this)};ag.prototype.ka=!0;ag.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};ae.prototype.ka=!0;ae.prototype.K=function(b,a){return Db(a,"()")};
bg.prototype.ka=!0;bg.prototype.K=function(b,a,c){return W(a,X,"#queue ["," ","]",c,z(this))};l.prototype.ka=!0;l.prototype.K=function(b,a,c){return Jh(this,X,a,c)};zh.prototype.ka=!0;zh.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};lh.prototype.ka=!0;lh.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};$d.prototype.ka=!0;$d.prototype.K=function(b,a,c){return W(a,X,"("," ",")",c,this)};y.prototype.rc=!0;
y.prototype.Hb=function(b,a){if(a instanceof y)return lc(this,a);throw Error([q("Cannot compare "),q(this),q(" to "),q(a)].join(""));};P.prototype.rc=!0;P.prototype.Hb=function(b,a){if(a instanceof P)return ee(this,a);throw Error([q("Cannot compare "),q(this),q(" to "),q(a)].join(""));};Xf.prototype.rc=!0;Xf.prototype.Hb=function(b,a){if(jd(a))return xd(this,a);throw Error([q("Cannot compare "),q(this),q(" to "),q(a)].join(""));};U.prototype.rc=!0;
U.prototype.Hb=function(b,a){if(jd(a))return xd(this,a);throw Error([q("Cannot compare "),q(this),q(" to "),q(a)].join(""));};function Nh(b){return function(a,c){var d=b.g?b.g(a,c):b.call(null,a,c);return zc(d)?new yc(d):d}}
function Oh(b){return function(a){return function(){function c(b,c){return t(a,b,c)}function d(a){return b.h?b.h(a):b.call(null,a)}function e(){return b.X?b.X():b.call(null)}var g=null,g=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};g.X=e;g.h=d;g.g=c;return g}()}(Nh(b))}
var Ph={},Qh=function Qh(a){if(a?a.le:a)return a.le(a);var c;c=Qh[ba(null==a?null:a)];if(!c&&(c=Qh._,!c))throw Ca("IEncodeJS.-clj-\x3ejs",a);return c.call(null,a)};function Rh(b){return(b?m(m(null)?null:b.ke)||(b.zb?0:n(Ph,b)):n(Ph,b))?Qh(b):"string"===typeof b||"number"===typeof b||b instanceof P||b instanceof y?Sh.h?Sh.h(b):Sh.call(null,b):Mh(I([b],0))}
var Sh=function Sh(a){if(null==a)return null;if(a?m(m(null)?null:a.ke)||(a.zb?0:n(Ph,a)):n(Ph,a))return Qh(a);if(a instanceof P)return ie(a);if(a instanceof y)return""+q(a);if(id(a)){var c={};a=z(a);for(var d=null,e=0,g=0;;)if(g<e){var h=d.ha(null,g),k=L(h,0),h=L(h,1);c[Rh(k)]=Sh(h);g+=1}else if(a=z(a))kd(a)?(e=Pb(a),a=Qb(a),d=e,e=K(e)):(e=C(a),d=L(e,0),e=L(e,1),c[Rh(d)]=Sh(e),a=D(a),d=null,e=0),g=0;else break;return c}if(fd(a)){c=[];a=z(bf.g(Sh,a));d=null;for(g=e=0;;)if(g<e)k=d.ha(null,g),c.push(k),
g+=1;else if(a=z(a))d=a,kd(d)?(a=Pb(d),g=Qb(d),d=a,e=K(a),a=g):(a=C(d),c.push(a),a=D(d),d=null,e=0),g=0;else break;return c}return a};function Th(b){return Math.floor(Math.random()*b)}function Uh(b,a){return ve(t(function(a,d){var e=b.h?b.h(d):b.call(null,d);return xe.l(a,e,J.g(Yc(a,e,Uc),d))},Hb(O),a))}function Vh(b,a){this.wb=b;this.s=a;this.B=2153775104;this.H=2048}f=Vh.prototype;f.toString=function(){return this.wb};f.equiv=function(b){return this.G(null,b)};
f.G=function(b,a){return a instanceof Vh&&this.wb===a.wb};f.K=function(b,a){return Db(a,[q('#uuid "'),q(this.wb),q('"')].join(""))};f.M=function(){if(null==this.s){for(var b=this.wb,a=0,c=0;c<b.length;++c)a=31*a+b.charCodeAt(c),a%=4294967296;this.s=a}return this.s};f.Hb=function(b,a){return ka(this.wb,a.wb)};
function Wh(b,a,c){var d=Error();this.message=b;this.data=a;this.Sd=c;this.name=d.name;this.description=d.description;this.Ge=d.Ge;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}Wh.prototype.__proto__=Error.prototype;Wh.prototype.ka=!0;Wh.prototype.K=function(b,a,c){Db(a,"#ExceptionInfo{:message ");X(this.message,a,c);m(this.data)&&(Db(a,", :data "),X(this.data,a,c));m(this.Sd)&&(Db(a,", :cause "),X(this.Sd,a,c));return Db(a,"}")};
Wh.prototype.toString=function(){return Xb(this)};function Xh(b,a){return new Wh(b,a,null)};var Yh=new P("transact","unique","transact/unique",-940992320),Zh=new P(null,"used-args","used-args",23596256),$h=new P(null,"args","args",1315556576),ai=new P("parser","in","parser/in",1617442048),bi=new P(null,"find","find",496279456),ci=new P(null,"tempids","tempids",1767509089),di=new P(null,"schema","schema",-1582001791),ei=new P(null,"tuples","tuples",-676032639),fi=new P("parser","find","parser/find",-801023103),gi=new P(null,"attribute","attribute",-2074029119),hi=new P("transact","cas","transact/cas",
816687170),ii=new P("lookup-ref","unique","lookup-ref/unique",-960647710),ji=new P(null,"expand-kvps","expand-kvps",44141154),ki=new P("db.unique","identity","db.unique/identity",1675950722),li=new P(null,"*","*",-1294732318),mi=new P("datascript.pull-api","expand-rev","datascript.pull-api/expand-rev",2143627459),ni=new P(null,"max-tx","max-tx",1119558339),oi=new P(null,"multi?","multi?",-749311069),pi=new P(null,"where","where",-2044795965),qi=new P(null,"v","v",21465059),ri=new P(null,"fn","fn",
-1175266204),si=new P("db","unique","db/unique",329396388),ui=new P(null,"wildcard","wildcard",-622473020),vi=new P(null,"done","done",-889844188),ta=new P(null,"meta","meta",1499536964),wi=new P(null,"variable","variable",-281346492),ua=new P(null,"dup","dup",556298533),xi=new P(null,"aevt","aevt",-585148059),yi=new P(null,"pred","pred",1927423397),zi=new P(null,"rattr","rattr",-1122345563),Ai=new P(null,"key","key",-1516042587),Bi=new P(null,"element","element",1974019749),Ci=new P(null,"limit",
"limit",-1355822363),Di=new P("parser","where","parser/where",-966053850),Ei=new P(null,"datom","datom",-371556090),Fi=new P(null,"db-after","db-after",-571884666),Gi=new P("parser","rule-vars","parser/rule-vars",-1493174969),Te=new P(null,"validator","validator",-1966190681),Hi=new P(null,"fragment","fragment",826775688),Ii=new P(null,"default","default",-1987822328),Ji=new P(null,"rule-vars","rule-vars",1665972520),Ki=new P(null,"free","free",801364328),Li=new P(null,"added","added",2057651688),
Mi=new P(null,"new","new",-2085437848),Ni=new P(null,"other","other",995793544),Oi=new P(null,"bindings","bindings",1271397192),Pi=new P("db","valueType","db/valueType",1827971944),Qi=new P(null,"symbol","symbol",-1038572696),Ri=new P(null,"avet","avet",1383857032),Si=new P(null,"sources","sources",-321166424),Ti=new P(null,"name","name",1843675177),Ui=new P("query","binding","query/binding",698240489),Vi=new P("db.type","ref","db.type/ref",-1728373079),Wi=new P(null,"value","value",305978217),Xi=
new P(null,"prefix-context","prefix-context",-1269613591),Yi=new P("datascript.pull-api","recursion","datascript.pull-api/recursion",-1897884534),Zi=new P(null,"expand-rev","expand-rev",1249112650),$i=new P(null,"operation","operation",-1267664310),aj=new P(null,"max-eid","max-eid",2134868075),bj=new P(null,"eids","eids",1546550700),cj=new P(null,"state","state",-1988618099),dj=new P(null,"entity-id","entity-id",1485898093),Lh=new P(null,"fallback-impl","fallback-impl",-1501286995),ej=new P(null,
"source","source",-433931539),fj=new P("transaction","filtered","transaction/filtered",1699706605),gj=new P(null,"handlers","handlers",79528781),ra=new P(null,"flush-on-newline","flush-on-newline",-151457939),hj=new P("db","isComponent","db/isComponent",423352398),ij=new P("db.fn","call","db.fn/call",-151594418),jj=new P("transact","upsert","transact/upsert",412688078),kj=new P(null,"e","e",1381269198),lj=new P(null,"rules","rules",1198912366),mj=new P(null,"elements","elements",657646735),nj=new P(null,
"eavt","eavt",-666437073),oj=new P("db.fn","retractEntity","db.fn/retractEntity",-1423535441),pj=new P("db.unique","value","db.unique/value",276903088),qj=new P(null,"db-before","db-before",-553691536),sa=new P(null,"readably","readably",1129599760),Eh=new P(null,"more-marker","more-marker",-14717935),rj=new P(null,"tx-data","tx-data",934159761),sj=new P(null,"rels","rels",1770187185),tj=new P("db","retract","db/retract",-1549825231),uj=new P(null,"binding","binding",539932593),vj=new P(null,"tx",
"tx",466630418),wj=new P(null,"porrl","porrl",-1693905102),xj=new P(null,"success","success",1890645906),yj=new P("parser","with","parser/with",-386255821),zj=new P(null,"recursion","recursion",-749738765),Aj=new P(null,"seen","seen",-518999789),Bj=new P(null,"with","with",-1536296876),Cj=new P(null,"pending-guards","pending-guards",-1255527308),Dj=new P("db","current-tx","db/current-tx",1600722132),wa=new P(null,"print-length","print-length",1931866356),Ej=new P("db.fn","retractAttribute","db.fn/retractAttribute",
937402164),Fj=new P("lookup-ref","syntax","lookup-ref/syntax",-317304012),Gj=new P("db.fn","cas","db.fn/cas",-379352172),Hj=new P("entity-id","syntax","entity-id/syntax",1921317045),Ij=new P(null,"specs","specs",1426570741),Jj=new P("db","cardinality","db/cardinality",-104975659),Kj=new P(null,"expected","expected",1583670997),Lj=new P("db","id","db/id",-1388397098),Mj=new P("entity-id","missing","entity-id/missing",1234588374),Nj=new P(null,"attrs","attrs",-2090668713),Oj=new P(null,"context","context",
-830191113),Rj=new P("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353),Sj=new P(null,"subpattern","subpattern",45002743),Tj=new P(null,"error","error",-978969032),Uj=new P(null,"depth","depth",1768663640),Vj=new P("parser","binding","parser/binding",-346395752),Wj=new P("schema","validation","schema/validation",1178447161),Xj=new P("db","add","db/add",235286841),Yj=new P(null,"clauses","clauses",1454841241),Zj=new P(null,"form","form",-1624062471),ak=new P(null,"tag","tag",-1290361223),
bk=new P(null,"unfiltered-db","unfiltered-db",-1363720391),ck=new P(null,"eid","eid",559519930),dk=new P(null,"json","json",1279968570),ek=new P(null,"rschema","rschema",-1196134054),fk=new P(null,"tx-meta","tx-meta",1159283194),gk=new P("db.cardinality","many","db.cardinality/many",772806234),hk=new P("transact","syntax","transact/syntax",-299207078),ik=new P(null,"wildcard?","wildcard?",-686044101),Kh=new P(null,"alt-impl","alt-impl",670969595),jk=new P("parser","pull","parser/pull",-2147427204),
kk=new P(null,"entity","entity",-450970276),lk=new P(null,"prefix-clauses","prefix-clauses",1294180028),mk=new P(null,"expand","expand",595248157),nk=new P(null,"listeners","listeners",394544445),ok=new P(null,"map","map",1371690461),pk=new P(null,"kvps","kvps",65308317),qk=new P("db.cardinality","one","db.cardinality/one",1428352190),rk=new P(null,"required","required",1807647006),sk=new P(null,"apparent-success","apparent-success",242592222),tk=new P(null,"a","a",-2123407586),uk=new P(null,"datoms",
"datoms",-290874434),vk=new P(null,"old","old",-1825222690),wk=new P(null,"in","in",-1531184865),xk=new P(null,"vars","vars",-2046957217),yk=new P(null,"pattern","pattern",242135423),ph=new P("cljs.core","not-found","cljs.core/not-found",-1572889185),zk=new P("parser","query","parser/query",1877320671),Ak=new P(null,"attr","attr",-604132353),Bk=new P(null,"results","results",-1134170113);var Ck,Dk,Ek=C(mf(function(b){return 0!=(128&1<<b)},new zh(null,31,-1,-1,null)))+1,Fk=(1<<Ek)-1;function Gk(b,a){return 0===(Dk.g?Dk.g(b,a):Dk.call(null,b,a))}function Hk(b,a,c){for(var d=0;;)if(d<=a){var e=d+a>>>1,g=b[e],h=c;0>(Dk.g?Dk.g(g,h):Dk.call(null,g,h))?d=e+1:a=e-1}else return d}function Ik(b,a,c){for(var d=0;;)if(d<=a){var e=d+a>>>1,g=b[e],h=c;0<(Dk.g?Dk.g(g,h):Dk.call(null,g,h))?a=e-1:d=e+1}else return d}
function Jk(b,a){var c=b.length,d=Hk(b,c-1,a),c=(c=d<c)?Gk(b[d],a):c;return m(c)?d:-1}function Kk(b,a){var c=b.length,d=Hk(b,c-1,a);return d===c?-1:d}function Lk(b){return b[b.length-1]}function Mk(b,a,c,d,e,g){var h=g.length;d-=a;c-=e;for(var k=d+h,p=Array(d+h+c),r=0;;)if(r<d)p[r]=b[a+r],r+=1;else break;for(a=0;;)if(a<h)p[a+d]=g[a],a+=1;else break;for(g=0;;)if(g<c)p[g+k]=b[e+g],g+=1;else break;return p}function Nk(b,a,c,d){return Mk(b,0,b.length,a,c,d)}
function Ok(b,a){for(var c=b.length,d=c+a.length,e=d>>>1,g=Array(e),h=Array(d-e),k=0;;)if(k<d)(k<e?g:h)[k<e?k:k-e]=(k<c?b:a)[k<c?k:k-c],k+=1;else break;return[g,h]}function Pk(b,a,c,d){var e;a:{e=c-a;var g=e===d.length-0;if(g)for(g=0;;){if(g===e){e=!0;break a}var h;h=b[g+a];var k=d[g+0];h=Gk.g?Gk.g(h,k):Gk.call(null,h,k);if(Aa(h)){e=!1;break a}g+=1}else e=g}return e?b:Nk(b,a,c,d)}
function Qk(b,a){for(var c=a.length,d=0;;)if(d<c){var e=d,g;g=a[d];g=b.h?b.h(g):b.call(null,g);a[e]=g;d+=1}else break;return a}function Rk(b){var a=b.length,c=[];if(0<a)for(var d=0;;){var e=a-d;if(128>=e){c.push(b.slice(d));break}else 160<=e?(c.push(b.slice(d,d+96)),d+=96):(e>>>=1,c.push(b.slice(d,d+e)),d+=e)}return c}function Sk(b){return Lk(b.keys)}function Tk(b,a){return m(b)?m(a)?[b,a]:[b]:[a]}function Uk(b,a,c){return m(b)?m(a)?m(c)?[b,a,c]:[b,a]:m(c)?[b,c]:[b]:m(a)?m(c)?[a,c]:[a]:[c]}
function Vk(b,a,c,d){if(m(a))return[b];if(64<b.bb())return Uk(c,b,d);if(m(m(c)?64>=c.bb():c))return Tk(c.Id(b),d);if(m(m(d)?64>=d.bb():d))return Tk(c,b.Id(d));if(m(m(c)?null==d||c.bb()<d.bb():c))return b=c.Jd(b),Uk(b[0],b[1],d);b=b.Jd(d);return Uk(c,b[0],b[1])}function Wk(b,a){this.keys=b;this.Ca=a}f=Wk.prototype;f.bb=function(){return this.keys.length};f.Id=function(b){return new Wk(this.keys.concat(b.keys),this.Ca.concat(b.Ca))};
f.Jd=function(b){var a=Ok(this.keys,b.keys);b=Ok(this.Ca,b.Ca);return Tk(new Wk(a[0],b[0]),new Wk(a[1],b[1]))};f.Gd=function(b){var a=Kk(this.keys,b);return-1===a?null:this.Ca[a].Gd(b)};f.vd=function(b){var a=Hk(this.keys,this.keys.length-2,b),c=this.Ca[a].vd(b);if(m(c)){b=Pk(this.keys,a,a+1,c.map(Sk));a=Nk(this.Ca,a,a+1,c);if(128>=a.length)return[new Wk(b,a)];c=a.length>>>1;return[new Wk(b.slice(0,c),a.slice(0,c)),new Wk(b.slice(c),a.slice(c))]}return null};
f.Cd=function(b,a,c,d){var e=Kk(this.keys,b);if(-1===e)return null;var g=0<=e-1?this.Ca[e-1]:null,h=e+1<this.Ca.length?this.Ca[e+1]:null;b=this.Ca[e].Cd(b,!1,g,h);return m(b)?(g=m(g)?e-1:e,h=m(h)?2+e:1+e,e=Pk(this.keys,g,h,b.map(Sk)),b=Nk(this.Ca,g,h,b),Vk(new Wk(e,b),a,c,d)):null};function Xk(b){this.keys=b}f=Xk.prototype;f.toString=function(){return Xb(Rf(this.keys))};f.bb=function(){return this.keys.length};f.Id=function(b){return new Xk(this.keys.concat(b.keys))};
f.Jd=function(b){b=Ok(this.keys,b.keys);return Tk(new Xk(b[0]),new Xk(b[1]))};f.Gd=function(b){b=Jk(this.keys,b);return-1===b?null:this.keys[b]};f.vd=function(b){var a=Hk(this.keys,this.keys.length-1,b),c=this.keys.length,d;d=(d=a<c)?Gk(b,this.keys[a]):d;return m(d)?null:128===c?(d=c+1>>>1,a>d?[new Xk(this.keys.slice(0,d)),new Xk(Mk(this.keys,d,c,a,a,[b]))]:[new Xk(Mk(this.keys,0,d,a,a,[b])),new Xk(this.keys.slice(d,c))]):[new Xk(Nk(this.keys,a,a,[b]))]};
f.Cd=function(b,a,c,d){b=Jk(this.keys,b);if(-1===b)return null;b=Nk(this.keys,b,b+1,[]);return Vk(new Xk(b),a,c,d)};function Yk(b){return new Xk(b)}function Zk(b,a){for(var c=b.shift,d=b.root;;)if(0<c)d=d.Ca[Fk&a>>>c],c-=Ek;else return d.keys}
function $k(b,a,c){var d=Dk;Dk=c;try{var e=b.root.vd(a);if(null==e)return b;if(1===e.length){var g=e[0],h=b.shift,k=b.D+1;return al.V?al.V(b,g,h,k):al.call(null,b,g,h,k)}var p=new Wk(e.map(Sk),e),r=b.shift+Ek,u=b.D+1;return al.V?al.V(b,p,r,u):al.call(null,b,p,r,u)}finally{Dk=d}}
function bl(b,a,c){var d=Dk;Dk=c;try{var e=b.root.Cd(a,!0,null,null);if(null==e)return b;var g=e[0];if(g instanceof Wk&&1===g.Ca.length){var h=g.Ca[0],k=b.shift-Ek,p=b.D-1;return al.V?al.V(b,h,k,p):al.call(null,b,h,k,p)}var r=b.shift,u=b.D-1;return al.V?al.V(b,g,r,u):al.call(null,b,g,r,u)}finally{Dk=d}}var cl=function cl(a,c,d){var e=Fk&c>>>d;return 0<d?(c=cl(a.Ca[e],c,d-Ek),-1===c?e+1<a.Ca.length?0|e+1<<d:-1:c|e<<d):e+1<a.keys.length?0|e+1<<0:-1};function dl(b,a){return cl(b.root,a,b.shift)}
function el(b,a){for(var c=b,d=0,e=a;;)if(0<e)d|=c.Ca.length-1<<e,e-=Ek,c=Lk(c.Ca);else return d|c.keys.length-1<<0}var fl=function fl(a,c,d){var e=Fk&c>>>d;if(0<d){var g=d-Ek;c=fl(a.Ca[e],c,g);return-1===c?0<=e-1?(--e,el(a.Ca[e],g)|e<<d):-1:c|e<<d}return 0<=e-1?0|e-1<<0:-1};function gl(b,a){return fl(b.root,a,b.shift)}function hl(b,a,c,d,e){this.set=b;this.left=a;this.right=c;this.keys=d;this.ea=e;this.B=143130816;this.H=0}f=hl.prototype;f.R=function(){return m(this.keys)?this:null};
f.ya=function(){return m(this.keys)?this.keys[this.ea]:null};f.Ia=function(){var b=Xa(this);return m(b)?b:new hl(this.set,-1,-1,null,-1)};f.Ha=function(){if(m(this.keys)){if(this.ea+1<this.keys.length)return this.left+1<this.right?new hl(this.set,this.left+1,this.right,this.keys,this.ea+1):null;var b=dl(this.set,this.left);if(Ee.g(-1,b)&&b<this.right){var a=this.set,c=this.right;return il.l?il.l(a,b,c):il.call(null,a,b,c)}}return null};
f.Aa=function(b,a){if(null==this.keys)return a.X?a.X():a.call(null);var c=this.keys[this.ea],d=Xa(this);return m(d)?sb.l(d,a,c):c};f.Ba=function(b,a,c){b=this.left;for(var d=this.keys,e=this.ea;;){if(zc(c))return a=c,H.h?H.h(a):H.call(null,a);if(null==d)return c;var g=d[e];c=a.g?a.g(c,g):a.call(null,c,g);if(e+1<d.length)if(b+1<this.right)e+=1,b+=1;else return c;else if(b=dl(this.set,b),Ee.g(-1,b)&&b<this.right)d=Zk(this.set,b),e=Fk&b>>>0;else return c}};
f.yb=function(){if(m(this.keys)){var b=this.set,a=gl(this.set,this.left),c=gl(this.set,this.right);return jl.l?jl.l(b,a,c):jl.call(null,b,a,c)}return null};function il(b,a,c){return new hl(b,a,c,Zk(b,a),Fk&a>>>0)}function kl(b,a,c,d,e){this.set=b;this.left=a;this.right=c;this.keys=d;this.ea=e;this.B=142606528;this.H=0}f=kl.prototype;f.R=function(){return m(this.keys)?this:null};f.ya=function(){return m(this.keys)?this.keys[this.ea]:null};
f.Ia=function(){var b=Xa(this);return m(b)?b:new kl(this.set,-1,-1,null,-1)};f.Ha=function(){if(m(this.keys)){if(0<=this.ea-1)return this.right-1>this.left?new kl(this.set,this.left,this.right-1,this.keys,this.ea-1):null;var b=gl(this.set,this.right);if(Ee.g(-1,b)&&b>this.left){var a=this.set,c=this.left;return jl.l?jl.l(a,c,b):jl.call(null,a,c,b)}}return null};
f.yb=function(){if(m(this.keys)){var b=dl(this.set,this.right);return il(this.set,-1===this.left?0:dl(this.set,this.left),-1===b?this.right+1:b)}return null};function jl(b,a,c){return new kl(b,a,c,Zk(b,c),Fk&c>>>0)}function ll(b){return 0<b.root.keys.length?il(b,0,el(b.root,b.shift)+1):null}
function ml(b,a){var c;a:{var d=Dk;Dk=b.fc;try{var e;c:for(var g=b.root,h=0,k=b.shift;;){var p=g.keys,r=p.length;if(0===k){var u=Hk(p,r-1,a);e=r===u?-1:h|u<<0;break c}var u=Hk(p,r-2,a),w=h|u<<k,A=k-Ek,g=g.Ca[u],h=w,k=A}if(0>e)c=null;else{var E;c:for(var G=b.root,g=0,Q=b.shift;;){var S=G.keys,ca=S.length;if(0===Q){var oa=Ik(S,ca-1,a);E=g|oa<<0;break c}oa=Ik(S,ca-2,a);h=g|oa<<Q;k=Q-Ek;G=G.Ca[oa];g=h;Q=k}c=E>e?new hl(b,e,E,Zk(b,e),Fk&e>>>0):null}break a}finally{Dk=d}c=void 0}return c}
function nl(b,a,c,d,e,g){this.root=b;this.shift=a;this.D=c;this.fc=d;this.F=e;this.s=g;this.B=2296779023;this.H=8192}f=nl.prototype;f.toString=function(){return Xb(this)};f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){b=Dk;Dk=this.fc;try{var d=this.root.Gd(a);return m(d)?d:c}finally{Dk=b}};f.K=function(b,a,c){return W(a,X,"#{"," ","}",c,z(this))};f.S=function(){return this.F};f.Y=function(){return new nl(this.root,this.shift,this.D,this.fc,this.F,this.s)};f.U=function(){return this.D};
f.yb=function(){return be(ll(this))};f.M=function(){var b=this.s;if(null!=b)return b;a:for(var b=0,a=z(this);;)if(a)var c=C(a),b=(b+hc(c))%4503599627370496,a=D(a);else break a;return this.s=b};f.G=function(b,a){return gd(a)&&this.D===K(a)&&Ge(function(a){return function(b){return rd(a,b)}}(this),a)};f.oa=function(){return new nl(new Xk([]),0,0,this.fc,this.F,0)};f.bd=function(b,a){return bl(this,a,this.fc)};f.R=function(){return ll(this)};
f.T=function(b,a){return new nl(this.root,this.shift,this.D,this.fc,a,this.s)};f.W=function(b,a){return $k(this,a,this.fc)};f.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.J(null,b);case 3:return this.I(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.g=function(a,b){return this.J(null,b)};b.l=function(a,b,d){return this.I(null,b,d)};return b}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};
f.h=function(b){return this.J(null,b)};f.g=function(b,a){return this.I(null,b,a)};function al(b,a,c,d){return new nl(a,c,d,b.fc,b.F,null)}function ol(b,a){for(var c=Qk(Yk,Rk(b)),d=c,e=0;;){var g=K(d);switch(g){case 0:return new nl(new Xk([]),0,0,a,null,0);case 1:return new nl(C(d),e,b.length,a,null,0);default:d=Qk(function(){return function(a){return new Wk(a.map(Sk),a)}}(d,e,g,c),Rk(d)),e+=Ek}}}function pl(b){return new nl(new Xk([]),0,0,b,null,0)};var ql=function ql(a,c){var d;d=Ne(ql,a);if(od(c)){for(var e=d=bf.g(d,c);;)if(z(e))e=D(e);else break;d=a.h?a.h(d):a.call(null,d)}else fd(c)?(d=of.g(null==c?null:Ma(c),bf.g(d,c)),d=a.h?a.h(d):a.call(null,d)):d=a.h?a.h(c):a.call(null,c);return d};var rl=function(b,a){return function(){function c(c,d,e){return qd(function(){var g=b.h?b.h(c):b.call(null,c);return m(g)&&(g=b.h?b.h(d):b.call(null,d),m(g)&&(g=b.h?b.h(e):b.call(null,e),m(g)&&(g=a.h?a.h(c):a.call(null,c),m(g))))?(g=a.h?a.h(d):a.call(null,d),m(g)?a.h?a.h(e):a.call(null,e):g):g}())}function d(c,d){return qd(function(){var e=b.h?b.h(c):b.call(null,c);return m(e)&&(e=b.h?b.h(d):b.call(null,d),m(e))?(e=a.h?a.h(c):a.call(null,c),m(e)?a.h?a.h(d):a.call(null,d):e):e}())}function e(c){var d=
b.h?b.h(c):b.call(null,c);c=m(d)?a.h?a.h(c):a.call(null,c):d;return qd(c)}var g=null,h=function(){function c(a,b,e,g){var h=null;if(3<arguments.length){for(var h=0,k=Array(arguments.length-3);h<k.length;)k[h]=arguments[h+3],++h;h=new B(k,0)}return d.call(this,a,b,e,h)}function d(c,e,h,k){return qd(function(){var d=g.l(c,e,h);return m(d)?Ge(function(){return function(c){var d=b.h?b.h(c):b.call(null,c);return m(d)?a.h?a.h(c):a.call(null,c):d}}(d),k):d}())}c.O=3;c.N=function(a){var b=C(a);a=D(a);var c=
C(a);a=D(a);var e=C(a);a=oc(a);return d(b,c,e,a)};c.w=d;return c}(),g=function(a,b,g,u){switch(arguments.length){case 0:return!0;case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,g);default:var w=null;if(3<arguments.length){for(var w=0,A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new B(A,0)}return h.w(a,b,g,w)}throw Error("Invalid arity: "+arguments.length);};g.O=3;g.N=h.N;g.X=function(){return!0};g.h=e;g.g=d;g.l=c;g.w=h.w;return g}()}(function(b){return"number"===
typeof b},Ud),sl=Error;function tl(b,a,c,d,e){this.e=b;this.a=a;this.v=c;this.tx=d;this.added=e;this.B=2162164480;this.H=0}f=tl.prototype;f.M=function(){var b=this.s;return m(b)?b:this.s=ul.h?ul.h(this):ul.call(null,this)};f.G=function(b,a){var c=a instanceof tl;return c?vl.g?vl.g(this,a):vl.call(null,this,a):c};f.R=function(){return wl.h?wl.h(this):wl.call(null,this)};f.J=function(b,a){return xl.l?xl.l(this,a,null):xl.call(null,this,a,null)};
f.I=function(b,a,c){return xl.l?xl.l(this,a,c):xl.call(null,this,a,c)};f.Z=function(b,a){return yl.h?yl.h(a):yl.call(null,a)};f.K=function(b,a,c){return W(a,X,"#datascript/Datom ["," ","]",c,new U(null,5,5,V,[this.e,this.a,this.v,this.tx,this.added],null))};
var zl=function zl(){switch(arguments.length){case 3:return zl.l(arguments[0],arguments[1],arguments[2]);case 4:return zl.V(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return zl.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};zl.l=function(b,a,c){return new tl(b,a,c,536870912,!0)};zl.V=function(b,a,c,d){return new tl(b,a,c,d,!0)};zl.ma=function(b,a,c,d,e){return new tl(b,a,c,d,e)};
zl.O=5;function ul(b){return jc(jc(hc(b.e),hc(b.a)),hc(b.v))}function vl(b,a){return F.g(b.e,a.e)&&F.g(b.a,a.a)&&F.g(b.v,a.v)}function wl(b){return Oa(Oa(Oa(Oa(Oa(pc,b.added),b.tx),b.v),b.a),b.e)}function xl(b,a,c){return F.g(qi,a)?b.v:F.g("e",a)?b.e:F.g(Li,a)?b.added:F.g("v",a)?b.v:F.g(kj,a)?b.e:F.g("a",a)?b.a:F.g(vj,a)?b.tx:F.g("added",a)?b.added:F.g("tx",a)?b.tx:F.g(tk,a)?b.a:c}
function yl(b,a,c){switch(a instanceof P?a.aa:null){case "e":return new tl(c,b.a,b.v,b.tx,b.added);case "a":return new tl(b.e,c,b.v,b.tx,b.added);case "v":return new tl(b.e,b.a,c,b.tx,b.added);case "tx":return new tl(b.e,b.a,b.v,c,b.added);case "added":return new tl(b.e,b.a,b.v,b.tx,c);default:throw new sl([q("invalid key for #datascript/Datom: "),q(a)].join(""));}}function Al(b,a){return m(m(b)?a:b)?wd(b,a):0}function Bl(b,a){return m(m(b)?a:b)?b-a:0}
function Cl(b,a){if(null!=b&&null!=a){var c=Ba(b),d=Ba(a);return c===d?wd(b,a):ka(c,d)}return 0}function Dl(b,a){var c=Bl(b.e,a.e);return 0===c&&(c=Al(b.a,a.a),0===c&&(c=Cl(b.v,a.v),0===c))?(c=Bl(b.tx,a.tx),0===c?0:c):c}function El(b,a){var c=Al(b.a,a.a);return 0===c&&(c=Bl(b.e,a.e),0===c&&(c=Cl(b.v,a.v),0===c))?(c=Bl(b.tx,a.tx),0===c?0:c):c}function Fl(b,a){var c=Al(b.a,a.a);return 0===c&&(c=Cl(b.v,a.v),0===c&&(c=Bl(b.e,a.e),0===c))?(c=Bl(b.tx,a.tx),0===c?0:c):c}
function Gl(b,a){return b instanceof P?Nb(b,a):ka(b,a)}function Hl(b,a){var c=Ba(b),d=Ba(a);return c===d?wd(b,a):ka(c,d)}function Il(b,a){var c=b.e-a.e;return 0===c&&(c=Gl(b.a,a.a),0===c&&(c=Hl(b.v,a.v),0===c))?(c=b.tx-a.tx,0===c?0:c):c}function Kl(b,a){var c=Gl(b.a,a.a);return 0===c&&(c=b.e-a.e,0===c&&(c=Hl(b.v,a.v),0===c))?(c=b.tx-a.tx,0===c?0:c):c}function Ll(b,a){var c=Gl(b.a,a.a);return 0===c&&(c=Hl(b.v,a.v),0===c&&(c=b.e-a.e,0===c))?(c=b.tx-a.tx,0===c?0:c):c}
var Ml={},Nl=function Nl(a,c){if(a?a.Ad:a)return a.Ad(a,c);var d;d=Nl[ba(null==a?null:a)];if(!d&&(d=Nl._,!d))throw Ca("ISearch.-search",a);return d.call(null,a,c)},Ol={},Pl=function Pl(a,c,d){if(a?a.yd:a)return a.yd(a,c,d);var e;e=Pl[ba(null==a?null:a)];if(!e&&(e=Pl._,!e))throw Ca("IIndexAccess.-datoms",a);return e.call(null,a,c,d)},Ql={},Rl=function Rl(a){if(a?a.xd:a)return a.xd(a);var c;c=Rl[ba(null==a?null:a)];if(!c&&(c=Rl._,!c))throw Ca("IDB.-schema",a);return c.call(null,a)},Sl=function Sl(a,
c){if(a?a.wd:a)return a.wd(a,c);var d;d=Sl[ba(null==a?null:a)];if(!d&&(d=Sl._,!d))throw Ca("IDB.-attrs-by",a);return d.call(null,a,c)};function Tl(b,a,c,d,e,g,h,k,p,r){this.Ua=b;this.Na=a;this.Wa=c;this.Xa=d;this.cb=e;this.eb=g;this.Za=h;this.o=k;this.j=p;this.s=r;this.B=2229667594;this.H=8192}f=Tl.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "schema":return this.Ua;case "eavt":return this.Na;case "aevt":return this.Wa;case "avet":return this.Xa;case "max-eid":return this.cb;case "max-tx":return this.eb;case "rschema":return this.Za;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.core.DB{",", ","}",c,T.g(new U(null,7,5,V,[new U(null,2,5,V,[di,this.Ua],null),new U(null,2,5,V,[nj,this.Na],null),new U(null,2,5,V,[xi,this.Wa],null),new U(null,2,5,V,[Ri,this.Xa],null),new U(null,2,5,V,[aj,this.cb],null),new U(null,2,5,V,[ni,this.eb],null),new U(null,2,5,V,[ek,this.Za],null)],null),this.j))};f.S=function(){return this.o};
f.Y=function(){return new Tl(this.Ua,this.Na,this.Wa,this.Xa,this.cb,this.eb,this.Za,this.o,this.j,this.s)};f.U=function(){return 7+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};
f.da=function(b,a){return rd(new ud(null,new l(null,7,[di,null,ni,null,xi,null,Ri,null,aj,null,nj,null,ek,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new Tl(this.Ua,this.Na,this.Wa,this.Xa,this.cb,this.eb,this.Za,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(di,a):R.call(null,di,a))?new Tl(c,this.Na,this.Wa,this.Xa,this.cb,this.eb,this.Za,this.o,this.j,null):m(R.g?R.g(nj,a):R.call(null,nj,a))?new Tl(this.Ua,c,this.Wa,this.Xa,this.cb,this.eb,this.Za,this.o,this.j,null):m(R.g?R.g(xi,a):R.call(null,xi,a))?new Tl(this.Ua,this.Na,c,this.Xa,this.cb,this.eb,this.Za,this.o,this.j,null):m(R.g?R.g(Ri,a):R.call(null,Ri,a))?new Tl(this.Ua,this.Na,this.Wa,c,this.cb,this.eb,this.Za,this.o,this.j,null):m(R.g?R.g(aj,a):R.call(null,
aj,a))?new Tl(this.Ua,this.Na,this.Wa,this.Xa,c,this.eb,this.Za,this.o,this.j,null):m(R.g?R.g(ni,a):R.call(null,ni,a))?new Tl(this.Ua,this.Na,this.Wa,this.Xa,this.cb,c,this.Za,this.o,this.j,null):m(R.g?R.g(ek,a):R.call(null,ek,a))?new Tl(this.Ua,this.Na,this.Wa,this.Xa,this.cb,this.eb,c,this.o,this.j,null):new Tl(this.Ua,this.Na,this.Wa,this.Xa,this.cb,this.eb,this.Za,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,7,5,V,[new U(null,2,5,V,[di,this.Ua],null),new U(null,2,5,V,[nj,this.Na],null),new U(null,2,5,V,[xi,this.Wa],null),new U(null,2,5,V,[Ri,this.Xa],null),new U(null,2,5,V,[aj,this.cb],null),new U(null,2,5,V,[ni,this.eb],null),new U(null,2,5,V,[ek,this.Za],null)],null),this.j))};f.T=function(b,a){return new Tl(this.Ua,this.Na,this.Wa,this.Xa,this.cb,this.eb,this.Za,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};
function Ul(b){return new Tl(di.h(b),nj.h(b),xi.h(b),Ri.h(b),aj.h(b),ni.h(b),ek.h(b),null,N.w(b,di,I([nj,xi,Ri,aj,ni,ek],0)),null)}f.ka=!0;f.K=function(b,a,c){return Vl.l?Vl.l(this,a,c):Vl.call(null,this,a,c)};f.qd=!0;f.U=function(){return K(this.Na)};f.te=!0;f.yb=function(){return Cb(this.Na)};f.Jc=!0;f.M=function(){return Wl.h?Wl.h(this):Wl.call(null,this)};f.G=function(b,a){return Xl.g?Xl.g(this,a):Xl.call(null,this,a)};f.oa=function(){var b=this.Ua;return Yl?Yl(b):Zl.call(null,b)};f.sd=!0;
f.R=function(){return xb(this.Na)};f.be=!0;f.yd=function(b,a,c){return ml(Xc(this,a),$l.l?$l.l(this,a,c):$l.call(null,this,a,c))};f.cd=!0;f.xd=function(){return this.Ua};f.wd=function(b,a){return this.Za.call(null,a)};f.zd=!0;
f.Ad=function(b,a){var c=L(a,0),d=L(a,1),e=L(a,2),g=L(a,3),h=this.Na,k=this.Wa,p=this.Xa;return m(c)?m(d)?null!=e?m(g)?ml(h,new tl(c,d,e,g,null)):ml(h,new tl(c,d,e,null,null)):m(g)?mf(function(a,b,c,d,e){return function(a){return F.g(e,a.tx)}}(a,c,d,e,g,h,k,p,this),ml(h,new tl(c,d,null,null,null))):ml(h,new tl(c,d,null,null,null)):null!=e?m(g)?mf(function(a,b,c,d,e){return function(a){return F.g(d,a.v)&&F.g(e,a.tx)}}(a,c,d,e,g,h,k,p,this),ml(h,new tl(c,null,null,null,null))):mf(function(a,b,c,d){return function(a){return F.g(d,
a.v)}}(a,c,d,e,g,h,k,p,this),ml(h,new tl(c,null,null,null,null))):m(g)?mf(function(a,b,c,d,e){return function(a){return F.g(e,a.tx)}}(a,c,d,e,g,h,k,p,this),ml(h,new tl(c,null,null,null,null))):ml(h,new tl(c,null,null,null,null)):m(d)?null!=e?m(g)?mf(function(a,b,c,d,e){return function(a){return F.g(e,a.tx)}}(a,c,d,e,g,h,k,p,this),ml(p,new tl(null,d,e,null,null))):ml(p,new tl(null,d,e,null,null)):m(g)?mf(function(a,b,c,d,e){return function(a){return F.g(e,a.tx)}}(a,c,d,e,g,h,k,p,this),ml(p,new tl(null,
d,null,null,null))):ml(p,new tl(null,d,null,null,null)):null!=e?m(g)?mf(function(a,b,c,d,e){return function(a){return F.g(d,a.v)&&F.g(e,a.tx)}}(a,c,d,e,g,h,k,p,this),h):mf(function(a,b,c,d){return function(a){return F.g(d,a.v)}}(a,c,d,e,g,h,k,p,this),h):m(g)?mf(function(a,b,c,d,e){return function(a){return F.g(e,a.tx)}}(a,c,d,e,g,h,k,p,this),h):h};function am(b,a,c,d,e){this.jb=b;this.Cb=a;this.o=c;this.j=d;this.s=e;this.B=2229667594;this.H=8192}f=am.prototype;
f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "unfiltered-db":return this.jb;case "pred":return this.Cb;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.core.FilteredDB{",", ","}",c,T.g(new U(null,2,5,V,[new U(null,2,5,V,[bk,this.jb],null),new U(null,2,5,V,[yi,this.Cb],null)],null),this.j))};f.S=function(){return this.o};
f.Y=function(){return new am(this.jb,this.Cb,this.o,this.j,this.s)};f.U=function(){return 2+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,2,[yi,null,bk,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new am(this.jb,this.Cb,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(bk,a):R.call(null,bk,a))?new am(c,this.Cb,this.o,this.j,null):m(R.g?R.g(yi,a):R.call(null,yi,a))?new am(this.jb,c,this.o,this.j,null):new am(this.jb,this.Cb,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,2,5,V,[new U(null,2,5,V,[bk,this.jb],null),new U(null,2,5,V,[yi,this.Cb],null)],null),this.j))};f.T=function(b,a){return new am(this.jb,this.Cb,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};
f.rd=!0;f.J=function(){throw Error("-lookup is not supported on FilteredDB");};f.I=function(){throw Error("-lookup is not supported on FilteredDB");};f.ka=!0;f.K=function(b,a,c){return Vl.l?Vl.l(this,a,c):Vl.call(null,this,a,c)};f.qd=!0;f.U=function(){return K(Pl(this,nj,Uc))};f.Jc=!0;f.M=function(){return bm.h?bm.h(this):bm.call(null,this)};f.G=function(b,a){return Xl.g?Xl.g(this,a):Xl.call(null,this,a)};f.oa=function(){throw Error("-empty is not supported on FilteredDB");};
f.qc=function(){throw Error("-contains-key? is not supported on FilteredDB");};f.Z=function(){throw Error("-assoc is not supported on FilteredDB");};f.sd=!0;f.R=function(){return Pl(this,nj,Uc)};f.be=!0;f.yd=function(b,a,c){return mf(this.Cb,Pl(this.jb,a,c))};f.cd=!0;f.xd=function(){return Rl(this.jb)};f.wd=function(b,a){return Sl(this.jb,a)};f.zd=!0;f.Ad=function(b,a){return mf(this.Cb,Nl(this.jb,a))};
function cm(b,a){return F.g(new U(null,2,5,V,[b,a],null),new U(null,2,5,V,[hj,!0],null))?new U(null,1,5,V,[hj],null):F.g(a,Vi)?new U(null,1,5,V,[Vi],null):F.g(a,gk)?new U(null,1,5,V,[gk],null):F.g(a,ki)?new U(null,2,5,V,[si,ki],null):F.g(a,pj)?new U(null,2,5,V,[si,pj],null):null}function dm(b){var a=vd;return t(function(b,d){var e=L(d,0),g=L(d,1);return wf.V(b,new U(null,1,5,V,[e],null),Oe(J,a),g)},O,b)}
function em(b){return dm(function(){return function c(b){return new je(null,function(){for(var e=b;;){var g=z(e);if(g){var h=g,k=C(h),p=L(k,0),r=L(k,1);if(g=z(function(b,c,d,e,g,h){return function ca(k){return new je(null,function(b,c,d,e,g,h){return function(){for(var p=k;;){var r=z(p);if(r){var u=r,w=C(u),A=L(w,0),G=L(w,1);if(r=z(function(b,c,d,e,g,h,k,p,r,u,w,A){return function Qj(G){return new je(null,function(b,c,d,e,g,h,k,p,r){return function(){for(;;){var b=z(G);if(b){if(kd(b)){var c=Pb(b),
d=K(c),e=ne(d);a:for(var g=0;;)if(g<d){var h=v.g(c,g);e.add(new U(null,2,5,V,[h,r],null));g+=1}else{c=!0;break a}return c?pe(e.la(),Qj(Qb(b))):pe(e.la(),null)}e=C(b);return Lc(new U(null,2,5,V,[e,r],null),Qj(oc(b)))}return null}}}(b,c,d,e,g,h,k,p,r,u,w,A),null,null)}}(p,b,w,A,G,u,r,c,d,e,g,h)(cm(A,G))))return T.g(r,ca(oc(p)));p=oc(p)}else return null}}}(b,c,d,e,g,h),null,null)}}(e,k,p,r,h,g)(r)))return T.g(g,c(oc(e)));e=oc(e)}else return null}},null,null)}(b)}())}
function fm(b,a,c,d){if(null!=c&&!rd(d,c))throw Xh([q("Bad attribute specification for "),q(Mh(I([new sg([b,new sg([a,c],!0,!1)],!0,!1)],0))),q(", expected one of "),q(d)].join(""),new l(null,4,[Tj,Wj,gi,b,Ai,a,Wi,c],null));}
function gm(b){for(var a=z(b),c=null,d=0,e=0;;)if(e<d){var g=c.ha(null,e),h=L(g,0),k=L(g,1),p=hj.g(k,!1);fm(h,hj,hj.h(k),new ud(null,new l(null,2,[!0,null,!1,null],null),null));if(m(function(){var a=p;return m(a)?Ee.g(Pi.h(k),Vi):a}()))throw Xh([q("Bad attribute specification for "),q(h),q(": {:db/isComponent true} should also have {:db/valueType :db.type/ref}")].join(""),new l(null,3,[Tj,Wj,gi,h,Ai,hj],null));fm(h,si,si.h(k),new ud(null,new l(null,2,[ki,null,pj,null],null),null));fm(h,Pi,Pi.h(k),
new ud(null,new l(null,1,[Vi,null],null),null));fm(h,Jj,Jj.h(k),new ud(null,new l(null,2,[gk,null,qk,null],null),null));e+=1}else if(a=z(a)){if(kd(a))d=Pb(a),a=Qb(a),c=d,d=K(d);else{var c=C(a),d=L(c,0),r=L(c,1),u=hj.g(r,!1);fm(d,hj,hj.h(r),new ud(null,new l(null,2,[!0,null,!1,null],null),null));if(m(function(){var a=u;return m(a)?Ee.g(Pi.h(r),Vi):a}()))throw Xh([q("Bad attribute specification for "),q(d),q(": {:db/isComponent true} should also have {:db/valueType :db.type/ref}")].join(""),new l(null,
3,[Tj,Wj,gi,d,Ai,hj],null));fm(d,si,si.h(r),new ud(null,new l(null,2,[ki,null,pj,null],null),null));fm(d,Pi,Pi.h(r),new ud(null,new l(null,1,[Vi,null],null),null));fm(d,Jj,Jj.h(r),new ud(null,new l(null,2,[gk,null,qk,null],null),null));a=D(a);c=null;d=0}e=0}else break;return b}function Zl(){switch(arguments.length){case 0:return Yl(null);case 1:return Yl(arguments[0]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}}
function Yl(b){return Ul(new l(null,7,[di,gm(b),nj,pl(Dl),xi,pl(El),Ri,pl(Fl),aj,0,ni,536870912,ek,em(b)],null))}function hm(){switch(arguments.length){case 1:return im(arguments[0],null);case 2:return im(arguments[0],arguments[1]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}}
function im(b,a){if(ed(b))return Yl(a);var c=gm(a),d=Ga(b),e=ol(d.sort(Il),Dl),g=ol(d.sort(Kl),El),h=ol(d.sort(Ll),Fl),k=kj.h(C(Cb(e))),c=Ed(bf.h(function(){return function(a){return a.tx}}(c,d,e,g,h,k)),Od,536870912,e);return Ul(new l(null,7,[di,a,nj,e,xi,g,Ri,h,aj,k,ni,c,ek,em(a)],null))}function Wl(b){var a=b.s;return m(a)?a:b.s=tc(Pl(b,nj,Uc))}function bm(b){var a=b.s;return m(a)?a:b.s=tc(Pl(b,nj,Uc))}
function Xl(b,a){var c=a instanceof Tl||a instanceof am;if(c&&(c=F.g(Rl(b),Rl(a))))a:{var d=Pl(b,nj,Uc),c=Pl(a,nj,Uc),e=F.g(K(d),K(c));if(e)for(d=z(d),c=z(c);;){if(null==d){c=!0;break a}if(F.g(C(d),C(c)))d=D(d),c=D(c);else{c=!1;break a}}else c=e}return c}function Vl(b,a,c){Db(a,"#datascript/DB {");Db(a,":schema ");X(Rl(b),a,c);Db(a,", :datoms ");W(a,function(a,b,c){return W(b,X,"["," ","]",c,new U(null,4,5,V,[a.e,a.a,a.v,a.tx],null))},"["," ","]",c,Pl(b,nj,Uc));return Db(a,"}")}
function jm(b,a,c,d,e){if(m(c)){var g=Oa(Oa(Oa(Oa(Oa(Oa(pc,e),d),c),a),new y(null,"db","db",-1661185010,null)),new y(null,"resolve-datom","resolve-datom",-294110827,null));km.g?km.g(c,g):km.call(null,c,g)}a=lm.g?lm.g(b,a):lm.call(null,b,a);g=(g=null!=d)?mm.g?mm.g(b,c):mm.call(null,b,c):g;return new tl(a,c,m(g)?nm.g?nm.g(b,d):nm.call(null,b,d):d,lm.g?lm.g(b,e):lm.call(null,b,e),null)}
function $l(b,a,c){var d=L(c,0),e=L(c,1),g=L(c,2);c=L(c,3);switch(a instanceof P?a.aa:null){case "eavt":return jm(b,d,e,g,c);case "aevt":return jm(b,e,d,g,c);case "avet":return jm(b,g,d,e,c);default:throw Error([q("No matching clause: "),q(a)].join(""));}}function om(b,a,c,d,e,g,h,k){this.ob=b;this.nb=a;this.ub=c;this.tb=d;this.vb=e;this.o=g;this.j=h;this.s=k;this.B=2229667594;this.H=8192}f=om.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "db-before":return this.ob;case "db-after":return this.nb;case "tx-data":return this.ub;case "tempids":return this.tb;case "tx-meta":return this.vb;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.core.TxReport{",", ","}",c,T.g(new U(null,5,5,V,[new U(null,2,5,V,[qj,this.ob],null),new U(null,2,5,V,[Fi,this.nb],null),new U(null,2,5,V,[rj,this.ub],null),new U(null,2,5,V,[ci,this.tb],null),new U(null,2,5,V,[fk,this.vb],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new om(this.ob,this.nb,this.ub,this.tb,this.vb,this.o,this.j,this.s)};
f.U=function(){return 5+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,5,[ci,null,Fi,null,qj,null,rj,null,fk,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new om(this.ob,this.nb,this.ub,this.tb,this.vb,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(qj,a):R.call(null,qj,a))?new om(c,this.nb,this.ub,this.tb,this.vb,this.o,this.j,null):m(R.g?R.g(Fi,a):R.call(null,Fi,a))?new om(this.ob,c,this.ub,this.tb,this.vb,this.o,this.j,null):m(R.g?R.g(rj,a):R.call(null,rj,a))?new om(this.ob,this.nb,c,this.tb,this.vb,this.o,this.j,null):m(R.g?R.g(ci,a):R.call(null,ci,a))?new om(this.ob,this.nb,this.ub,c,this.vb,this.o,this.j,null):m(R.g?R.g(fk,a):R.call(null,fk,a))?new om(this.ob,this.nb,this.ub,this.tb,c,this.o,this.j,
null):new om(this.ob,this.nb,this.ub,this.tb,this.vb,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,5,5,V,[new U(null,2,5,V,[qj,this.ob],null),new U(null,2,5,V,[Fi,this.nb],null),new U(null,2,5,V,[rj,this.ub],null),new U(null,2,5,V,[ci,this.tb],null),new U(null,2,5,V,[fk,this.vb],null)],null),this.j))};f.T=function(b,a){return new om(this.ob,this.nb,this.ub,this.tb,this.vb,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};
function pm(b,a,c){return rd(Sl(b,c),a)}function mm(b,a){return pm(b,a,Vi)}
function qm(b,a){if("number"===typeof a)return a;if(hd(a)){if(Ee.g(K(a),2))throw Xh([q("Lookup ref should contain 2 elements: "),q(Mh(I([a],0)))].join(""),new l(null,2,[Tj,Fj,dj,a],null));if(pm(b,C(a),ki))return kj.h(C(Pl(b,Ri,a)));throw Xh([q("Lookup ref attribute should be marked as :db.unique/identity: "),q(Mh(I([a],0)))].join(""),new l(null,2,[Tj,ii,dj,a],null));}throw Xh([q("Expected number or lookup ref for entity id, got "),q(Mh(I([a],0)))].join(""),new l(null,2,[Tj,Hj,dj,a],null));}
function nm(b,a){var c=qm(b,a);if(m(c))return c;throw Xh([q("Nothing found for entity id "),q(Mh(I([a],0)))].join(""),new l(null,2,[Tj,Mj,dj,a],null));}function lm(b,a){return m(a)?nm(b,a):null}function km(b,a){if(b instanceof P||"string"===typeof b)return null;throw Xh([q("Bad entity attribute "),q(Mh(I([b],0))),q(" at "),q(Mh(I([a],0))),q(", expected keyword or string")].join(""),new l(null,3,[Tj,hk,gi,b,Oj,a],null));}
function rm(b,a){if(null==b)throw Xh([q("Cannot store nil as a value at "),q(Mh(I([a],0)))].join(""),new l(null,3,[Tj,hk,Wi,b,Oj,a],null));return null}function sm(b){return tf(b,new U(null,2,5,V,[qj,ni],null))+1}function tm(b,a){return a>aj.h(b)&&536870912>a?M.l(b,aj,a):b}function um(b,a,c){return wf.V(vf(b,new U(null,2,5,V,[ci,a],null),c),new U(null,1,5,V,[Fi],null),tm,c)}function vm(b){return F.g(b,Dj)||F.g(b,":db/current-tx")}
function wm(b,a){var c;c=a.added;c=m(c)?pm(b,a.a,si):c;if(m(c)&&(c=Fe(Pl(b,Ri,new U(null,2,5,V,[a.a,a.v],null))),m(c)))throw Xh([q("Cannot add "),q(Mh(I([a],0))),q(" because of unique constraint: "),q(Mh(I([c],0)))].join(""),new l(null,3,[Tj,Yh,gi,a.a,Ei,a],null));if(m(a.added))return tm(wf.ma(wf.ma(wf.ma(b,new U(null,1,5,V,[nj],null),$k,a,Il),new U(null,1,5,V,[xi],null),$k,a,Kl),new U(null,1,5,V,[Ri],null),$k,a,Ll),a.e);c=C(Nl(b,new U(null,3,5,V,[a.e,a.a,a.v],null)));return wf.ma(wf.ma(wf.ma(b,new U(null,
1,5,V,[nj],null),bl,c,Il),new U(null,1,5,V,[xi],null),bl,c,Kl),new U(null,1,5,V,[Ri],null),bl,c,Ll)}function xm(b,a){return wf.V(wf.V(b,new U(null,1,5,V,[Fi],null),wm,a),new U(null,1,5,V,[rj],null),J,a)}function ym(b){if(b instanceof P)return F.g("_",Wc(ie(b),0));if("string"===typeof b)return qd(Ch(/(?:([^\/]+)\/)?_([^\/]+)/,b));throw Xh([q("Bad attribute type: "),q(Mh(I([b],0))),q(", expected keyword or string")].join(""),new l(null,2,[Tj,hk,gi,b],null));}
function zm(b){if(b instanceof P)return ym(b)?he.g(ge(b),Wd(ie(b),1)):he.g(ge(b),[q("_"),q(ie(b))].join(""));if("string"===typeof b){var a=Ch(/(?:([^\/]+)\/)?([^\/]+)/,b);L(a,0);b=L(a,1);a=L(a,2);return F.g("_",Wc(a,0))?m(b)?[q(b),q("/"),q(a.substring(1))].join(""):a.substring(1):m(b)?[q(b),q("/_"),q(a)].join(""):[q("_"),q(a)].join("")}throw Xh([q("Bad attribute type: "),q(Mh(I([b],0))),q(", expected keyword or string")].join(""),new l(null,2,[Tj,hk,gi,b],null));}
function Am(b,a){var c=Fe(Sl(b,ki));return m(c)?Cd(function(){return function(c,e,g){var h=C(Pl(b,Ri,new U(null,2,5,V,[e,g],null)));if(m(h)){var k=Lj.h(c),p=h.e;if(null==k)return M.l(N.g(c,e),Lj,p);if(F.g(k,p))return N.g(c,e);throw Xh([q("Cannot resolve upsert for "),q(Mh(I([a],0))),q(": "),q(Mh(I([new sg([Lj,k,e,g],!0,!1)],0))),q(" conflicts with existing "),q(Mh(I([h],0)))].join(""),new l(null,4,[Tj,jj,gi,e,kk,a,Ei,h],null));}return c}}(c,c),a,oh(a,c)):a}
function Bm(b,a,c){ym(a)||pm(b,a,gk)?(a=za.h?za.h(c):za.call(null,c),a=m(a)?a:fd(c)&&!id(c),b=Aa(a)?new U(null,1,5,V,[c],null):F.g(K(c),2)&&pm(b,C(c),ki)?new U(null,1,5,V,[c],null):c):b=new U(null,1,5,V,[c],null);return b}
function Cm(b,a){return function(a){return function e(g){return new je(null,function(a){return function(){for(var c=g;;){var p=z(c);if(p){var r=p,u=C(r),w=L(u,0),A=L(u,1);if(Ee.g(w,Lj)){var E=km(w,new sg([Lj,a,w,A],!0,!1)),G=ym(w),Q=G?zm(w):w;if(G&&!mm(b,Q))throw Xh([q("Bad attribute "),q(Mh(I([w],0))),q(": reverse attribute name requires {:db/valueType :db.type/ref} in schema")].join(""),new l(null,3,[Tj,hk,gi,w,Oj,new sg([Lj,a,w,A],!0,!1)],null));if(p=z(function(a,c,e,g,h,k,p,r,u,w,A){return function Ua(G){return new je(null,
function(a,c,e,g,h,k,p,r,u,w,A){return function(){for(;;){var a=z(G);if(a){if(kd(a)){var c=Pb(a),h=K(c),k=ne(h);a:for(var r=0;;)if(r<h){var u=v.g(c,r),u=mm(b,g)&&id(u)?M.l(u,zm(p),A):e?new U(null,4,5,V,[Xj,u,g,A],null):new U(null,4,5,V,[Xj,A,g,u],null);k.add(u);r+=1}else{c=!0;break a}return c?pe(k.la(),Ua(Qb(a))):pe(k.la(),null)}k=C(a);return Lc(mm(b,g)&&id(k)?M.l(k,zm(p),A):e?new U(null,4,5,V,[Xj,k,g,A],null):new U(null,4,5,V,[Xj,A,g,k],null),Ua(oc(a)))}return null}}}(a,c,e,g,h,k,p,r,u,w,A),null,
null)}}(c,E,G,Q,null,u,w,A,r,p,a)(Bm(b,w,A))))return T.g(p,e(oc(c)))}c=oc(c)}else return null}}}(a),null,null)}}(Lj.h(a))(a)}function Dm(b,a){L(a,0);var c=L(a,1),d=L(a,2),e=L(a,3);km(d,a);rm(e,a);var g=sm(b),h=Fi.h(b),c=nm(h,c),e=mm(h,d)?nm(h,e):e,k=new tl(c,d,e,g,!0);if(pm(h,d,gk))return ed(Nl(h,new U(null,3,5,V,[c,d,e],null)))?xm(b,k):b;h=C(Nl(h,new U(null,2,5,V,[c,d],null)));return m(h)?F.g(h.v,e)?b:xm(xm(b,new tl(c,d,h.v,g,!1)),k):xm(b,k)}
function Em(b,a){var c=sm(b);return xm(b,new tl(a.e,a.a,a.v,c,!1))}function Fm(b,a){return of.l(vd,Me.g(lf(function(a){return pm(b,a.a,hj)}),bf.h(function(a){return new U(null,2,5,V,[oj,a.v],null)})),a)}
function Gm(b,a){for(;;){if(null!=a&&!hd(a))throw Xh([q("Bad transaction data "),q(Mh(I([a],0))),q(", expected sequential collection")].join(""),new l(null,2,[Tj,hk,rj,a],null));var c=a,d=L(c,0),e=Vd(c,1),g=Fi.h(b);if(null==d)return wf.l(vf(b,new U(null,2,5,V,[ci,Dj],null),sm(b)),new U(null,2,5,V,[Fi,ni],null),xc);if(id(d)){var h=Lj.h(d),k=lm(g,m(function(){var a=h;return rl.h?rl.h(a):rl.call(null,a)}())?tf(b,new U(null,2,5,V,[ci,h],null)):vm(h)?sm(b):h),p=Am(g,M.l(d,Lj,k)),d=function(){var a=Lj.h(p);
return m(a)?a:aj.h(g)+1}(),k=M.l(p,Lj,d),d=null==h?wf.V(b,new U(null,1,5,V,[Fi],null),tm,d):m(function(){var a=h;return rl.h?rl.h(a):rl.call(null,a)}())?um(b,h,d):b,e=T.g(Cm(g,k),e);b=d;a=e}else if(hd(d)){var r=d,k=L(r,0),u=L(r,1),w=L(r,2),A=L(r,3);if(F.g(k,ij)){var E=L(d,0),k=L(d,1),G=Vd(d,2),d=b,e=T.g(Ae(k,g,G),e);b=d;a=e}else if(F.g(k,Gj)){var Q=d,E=L(Q,0),G=L(Q,1),S=L(Q,2),ca=L(Q,3),oa=L(Q,4),xa=nm(g,G),eb=km(S,d),ob=mm(g,S)?nm(g,ca):ca,Z=mm(g,S)?nm(g,oa):oa,jh=rm(ob,d),Pa=rm(Z,d),va=Nl(g,new U(null,
2,5,V,[xa,S],null));if(pm(g,S,gk))if(m(He(function(a,b,c,d,e,g,h,k,p,r,u){return function(a){return F.g(a.v,u)}}(b,a,Q,E,G,S,ca,oa,xa,eb,ob,Z,jh,Pa,va,r,k,u,w,A,c,d,e,g),va)))b=k=Dm(b,new U(null,4,5,V,[Xj,xa,S,Z],null)),a=e;else throw Xh([q(":db.fn/cas failed on datom ["),q(Mh(I([xa],0))),q(" "),q(Mh(I([S],0))),q(" "),q(Mh(I([bf.g(qi,va)],0))),q("], expected "),q(Mh(I([ob],0)))].join(""),new l(null,4,[Tj,hi,vk,va,Kj,ob,Mi,Z],null));else if(k=qi.h(C(va)),F.g(k,ob))b=k=Dm(b,new U(null,4,5,V,[Xj,xa,
S,Z],null)),a=e;else throw Xh([q(":db.fn/cas failed on datom ["),q(Mh(I([xa],0))),q(" "),q(Mh(I([S],0))),q(" "),q(Mh(I([k],0))),q("], expected "),q(Mh(I([ob],0)))].join(""),new l(null,4,[Tj,hi,vk,C(va),Kj,ob,Mi,Z],null));}else if(vm(u))d=b,e=T.g(new U(null,1,5,V,[new U(null,4,5,V,[k,sm(b),w,A],null)],null),e),b=d,a=e;else if(mm(g,w)&&vm(A))d=b,e=T.g(new U(null,1,5,V,[new U(null,4,5,V,[k,u,w,sm(b)],null)],null),e),b=d,a=e;else if(m(function(){var a=u;return rl.h?rl.h(a):rl.call(null,a)}()))d=tf(b,
new U(null,2,5,V,[ci,u],null)),m(d)?(G=b,e=T.g(new U(null,1,5,V,[new U(null,4,5,V,[k,d,w,A],null)],null),e),b=G,a=e):(e=um(b,u,aj.h(g)+1),k=a,b=e,a=k);else if(m(function(){var a=mm(g,w);return a?(a=A,rl.h?rl.h(a):rl.call(null,a)):a}()))d=tf(b,new U(null,2,5,V,[ci,A],null)),m(d)?(G=b,e=T.g(new U(null,1,5,V,[new U(null,4,5,V,[k,u,w,d],null)],null),e),b=G,a=e):(e=um(b,A,aj.h(g)+1),k=a,b=e,a=k);else if(F.g(k,Xj))b=k=Dm(b,d),a=e;else if(F.g(k,tj))G=nm(g,u),k=mm(g,w)?nm(g,A):A,km(w,d),rm(k,d),d=C(Nl(g,
new U(null,3,5,V,[G,w,k],null))),m(d)&&(b=k=Em(b,d)),a=e;else if(F.g(k,Ej))G=nm(g,u),km(w,d),va=Nl(g,new U(null,2,5,V,[G,w],null)),k=t(Em,b,va),e=T.g(Fm(g,va),e),b=k,a=e;else if(F.g(k,oj))G=nm(g,u),va=Nl(g,new U(null,1,5,V,[G],null)),k=kf(function(a,b,c,d,e,g,h,k,p,r,u,w,A){return function(a){return Nl(A,new U(null,3,5,V,[null,a,c],null))}}(b,a,G,va,r,k,u,w,A,c,d,e,g),I([Sl(g,Vi)],0)),k=t(Em,b,T.g(va,k)),e=T.g(Fm(g,va),e),b=k,a=e;else throw Xh([q("Unknown operation at "),q(Mh(I([d],0))),q(", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute or :db.fn/retractEntity")].join(""),
new l(null,3,[Tj,hk,$i,k,rj,d],null));}else throw Xh([q("Bad entity type at "),q(Mh(I([d],0))),q(", expected map or vector")].join(""),new l(null,2,[Tj,hk,rj,d],null));}};function Hm(b,a){var c=Ae(wh,b,a);return Lc(c,nf(function(a){return function(b){return a===b}}(c),a))}function Im(b,a){return K(b)<K(a)?t(J,a,b):t(J,b,a)}var Jm=function Jm(){switch(arguments.length){case 1:return Jm.h(arguments[0]);case 2:return Jm.g(arguments[0],arguments[1]);default:return Jm.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Jm.h=function(b){return b};
Jm.g=function(b,a){for(;;)if(K(a)<K(b)){var c=b;b=a;a=c}else return t(function(a,b){return function(a,c){return rd(b,c)?a:dd.g(a,c)}}(b,a),b,b)};Jm.w=function(b,a,c){b=Hm(function(a){return-K(a)},J.w(c,a,I([b],0)));return t(Jm,C(b),oc(b))};Jm.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Jm.w(a,b,c)};Jm.O=2;
var Km=function Km(){switch(arguments.length){case 1:return Km.h(arguments[0]);case 2:return Km.g(arguments[0],arguments[1]);default:return Km.w(arguments[0],arguments[1],new B(Array.prototype.slice.call(arguments,2),0))}};Km.h=function(b){return b};Km.g=function(b,a){return K(b)<K(a)?t(function(b,d){return rd(a,d)?dd.g(b,d):b},b,b):t(dd,b,a)};Km.w=function(b,a,c){return t(Km,b,J.g(c,a))};Km.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return Km.w(a,b,c)};Km.O=2;var Lm={},Mm=function Mm(a,c,d){if(a?a.va:a)return a.va(a,c,d);var e;e=Mm[ba(null==a?null:a)];if(!e&&(e=Mm._,!e))throw Ca("ITraversable.-collect",a);return e.call(null,a,c,d)},Nm=function Nm(a,c){if(a?a.wa:a)return a.wa(a,c);var d;d=Nm[ba(null==a?null:a)];if(!d&&(d=Nm._,!d))throw Ca("ITraversable.-collect-vars",a);return d.call(null,a,c)};function Om(b,a){return hd(b)&&F.g(K(b),a)}
function Pm(b,a){return hd(a)?t(function(a,d){var e=b.h?b.h(d):b.call(null,d);return m(e)?J.g(a,e):new yc(null)},Uc,a):null}function Qm(){return Rm(arguments[0],arguments[1],2<arguments.length?new B(Array.prototype.slice.call(arguments,2),0):null)}
function Rm(b,a,c){var d=L(c,0),e=m(d)?d:Uc;return m(b.h?b.h(a):b.call(null,a))?J.g(e,a):(a?m(m(null)?null:a.ua)||(a.zb?0:n(Lm,a)):n(Lm,a))?Mm(a,b,e):m(pd.h?pd.h(a):pd.call(null,a))?t(function(){return function(a,c){return Rm(b,c,I([a],0))}}(e,c,d),e,a):e}function Sm(b){var a=ed(b);return a?a:ze(sd,b)}function Tm(b,a){return Nc(b,new l(null,1,[ej,a],null))}function Um(b){var a=ej.h(cd(b));return m(a)?a:b}function Vm(b,a,c){this.o=b;this.j=a;this.s=c;this.B=2229667594;this.H=8192}f=Vm.prototype;
f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a){default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.Placeholder{",", ","}",c,T.g(Uc,this.j))};f.S=function(){return this.o};f.Y=function(){return new Vm(this.o,this.j,this.s)};f.U=function(){return 0+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};
f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(vd,a)?N.g(Nc(of.g(O,this),this.o),a):new Vm(this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return new Vm(this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(Uc,this.j))};f.T=function(b,a){return new Vm(a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return c};f.wa=function(b,a){return a};
function Wm(b,a,c,d){this.symbol=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=Wm.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "symbol":return this.symbol;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.Variable{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[Qi,this.symbol],null)],null),this.j))};f.S=function(){return this.o};
f.Y=function(){return new Wm(this.symbol,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,1,[Qi,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new Wm(this.symbol,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(Qi,a):R.call(null,Qi,a))?new Wm(c,this.o,this.j,null):new Wm(this.symbol,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[Qi,this.symbol],null)],null),this.j))};f.T=function(b,a){return new Wm(this.symbol,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.symbol,I([c],0))};
f.wa=function(b,a){var c=this.symbol;return Y.g?Y.g(a,c):Y.call(null,a,c)};function Xm(b,a,c,d){this.symbol=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=Xm.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "symbol":return this.symbol;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.SrcVar{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[Qi,this.symbol],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new Xm(this.symbol,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};
f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,1,[Qi,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new Xm(this.symbol,this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return m(R.g?R.g(Qi,a):R.call(null,Qi,a))?new Xm(c,this.o,this.j,null):new Xm(this.symbol,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[Qi,this.symbol],null)],null),this.j))};
f.T=function(b,a){return new Xm(this.symbol,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.symbol,I([c],0))};f.wa=function(b,a){var c=this.symbol;return Y.g?Y.g(a,c):Y.call(null,a,c)};function Ym(b,a,c){this.o=b;this.j=a;this.s=c;this.B=2229667594;this.H=8192}f=Ym.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a){default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.DefaultSrc{",", ","}",c,T.g(Uc,this.j))};f.S=function(){return this.o};f.Y=function(){return new Ym(this.o,this.j,this.s)};f.U=function(){return 0+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};
f.da=function(b,a){return rd(vd,a)?N.g(Nc(of.g(O,this),this.o),a):new Ym(this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return new Ym(this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(Uc,this.j))};f.T=function(b,a){return new Ym(a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return c};f.wa=function(b,a){return a};function Zm(b,a,c){this.o=b;this.j=a;this.s=c;this.B=2229667594;this.H=8192}f=Zm.prototype;
f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a){default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.RulesVar{",", ","}",c,T.g(Uc,this.j))};f.S=function(){return this.o};f.Y=function(){return new Zm(this.o,this.j,this.s)};f.U=function(){return 0+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};
f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(vd,a)?N.g(Nc(of.g(O,this),this.o),a):new Zm(this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return new Zm(this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(Uc,this.j))};f.T=function(b,a){return new Zm(a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return c};f.wa=function(b,a){return a};
function $m(b,a,c,d){this.value=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=$m.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "value":return this.value;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.Constant{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[Wi,this.value],null)],null),this.j))};f.S=function(){return this.o};
f.Y=function(){return new $m(this.value,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,1,[Wi,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new $m(this.value,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(Wi,a):R.call(null,Wi,a))?new $m(c,this.o,this.j,null):new $m(this.value,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[Wi,this.value],null)],null),this.j))};f.T=function(b,a){return new $m(this.value,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.value,I([c],0))};
f.wa=function(b,a){var c=this.value;return Y.g?Y.g(a,c):Y.call(null,a,c)};function an(b,a,c,d){this.symbol=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=an.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "symbol":return this.symbol;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.PlainSymbol{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[Qi,this.symbol],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new an(this.symbol,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};
f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,1,[Qi,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new an(this.symbol,this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return m(R.g?R.g(Qi,a):R.call(null,Qi,a))?new an(c,this.o,this.j,null):new an(this.symbol,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[Qi,this.symbol],null)],null),this.j))};
f.T=function(b,a){return new an(this.symbol,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.symbol,I([c],0))};f.wa=function(b,a){var c=this.symbol;return Y.g?Y.g(a,c):Y.call(null,a,c)};function bn(b){return F.g(new y(null,"_","_",-1201019570,null),b)?new Vm(null,null,null):null}function cn(b){return b instanceof y&&F.g(C(ie(b)),"?")?new Wm(b,null,null,null):null}
function dn(b){return b instanceof y&&F.g(C(ie(b)),"$")?new Xm(b,null,null,null):null}function en(b){return b instanceof y?null:new $m(b,null,null,null)}function fn(b){return b instanceof y&&Aa(cn(b))&&Aa(dn(b))&&Aa(bn(b))?new an(b,null,null,null):null}function gn(b){var a=cn(b);if(m(a))return a;a=en(b);return m(a)?a:dn(b)}function hn(b,a,c,d,e){this.required=b;this.Ab=a;this.o=c;this.j=d;this.s=e;this.B=2229667594;this.H=8192}f=hn.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "required":return this.required;case "free":return this.Ab;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.RuleVars{",", ","}",c,T.g(new U(null,2,5,V,[new U(null,2,5,V,[rk,this.required],null),new U(null,2,5,V,[Ki,this.Ab],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new hn(this.required,this.Ab,this.o,this.j,this.s)};
f.U=function(){return 2+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,2,[Ki,null,rk,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new hn(this.required,this.Ab,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(rk,a):R.call(null,rk,a))?new hn(c,this.Ab,this.o,this.j,null):m(R.g?R.g(Ki,a):R.call(null,Ki,a))?new hn(this.required,c,this.o,this.j,null):new hn(this.required,this.Ab,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,2,5,V,[new U(null,2,5,V,[rk,this.required],null),new U(null,2,5,V,[Ki,this.Ab],null)],null),this.j))};f.T=function(b,a){return new hn(this.required,this.Ab,a,this.j,this.s)};
f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.Ab,I([Rm(a,this.required,I([c],0))],0))};f.wa=function(b,a){var c;c=this.required;c=Y.g?Y.g(a,c):Y.call(null,a,c);var d=this.Ab;return Y.g?Y.g(c,d):Y.call(null,c,d)};function jn(b,a,c){this.o=b;this.j=a;this.s=c;this.B=2229667594;this.H=8192}f=jn.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a){default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.BindIgnore{",", ","}",c,T.g(Uc,this.j))};f.S=function(){return this.o};f.Y=function(){return new jn(this.o,this.j,this.s)};f.U=function(){return 0+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};
f.da=function(b,a){return rd(vd,a)?N.g(Nc(of.g(O,this),this.o),a):new jn(this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return new jn(this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(Uc,this.j))};f.T=function(b,a){return new jn(a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return c};f.wa=function(b,a){return a};function kn(b,a,c,d){this.Fa=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=kn.prototype;
f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "variable":return this.Fa;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.BindScalar{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[wi,this.Fa],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new kn(this.Fa,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};
f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,1,[wi,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new kn(this.Fa,this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return m(R.g?R.g(wi,a):R.call(null,wi,a))?new kn(c,this.o,this.j,null):new kn(this.Fa,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[wi,this.Fa],null)],null),this.j))};f.T=function(b,a){return new kn(this.Fa,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.Fa,I([c],0))};f.wa=function(b,a){var c=this.Fa;return Y.g?Y.g(a,c):Y.call(null,a,c)};function ln(b,a,c,d){this.Fb=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=ln.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "bindings":return this.Fb;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.BindTuple{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[Oi,this.Fb],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new ln(this.Fb,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};
f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,1,[Oi,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new ln(this.Fb,this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return m(R.g?R.g(Oi,a):R.call(null,Oi,a))?new ln(c,this.o,this.j,null):new ln(this.Fb,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[Oi,this.Fb],null)],null),this.j))};f.T=function(b,a){return new ln(this.Fb,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.Fb,I([c],0))};f.wa=function(b,a){var c=this.Fb;return Y.g?Y.g(a,c):Y.call(null,a,c)};function mn(b,a,c,d){this.Ga=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=mn.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "binding":return this.Ga;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.BindColl{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[uj,this.Ga],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new mn(this.Ga,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};
f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,1,[uj,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new mn(this.Ga,this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return m(R.g?R.g(uj,a):R.call(null,uj,a))?new mn(c,this.o,this.j,null):new mn(this.Ga,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[uj,this.Ga],null)],null),this.j))};f.T=function(b,a){return new mn(this.Ga,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.Ga,I([c],0))};f.wa=function(b,a){var c=this.Ga;return Y.g?Y.g(a,c):Y.call(null,a,c)};function nn(b){return F.g(new y(null,"_","_",-1201019570,null),b)?Tm(new jn(null,null,null),b):null}
function on(b){if(m(function(){var a=Om(b,2);return m(a)?F.g(Rc(b),new y(null,"...","...",-1926939749,null)):a}())){var a=function(){var a=C(b);return pn.h?pn.h(a):pn.call(null,a)}();if(m(a))return Tm(new mn(a,null,null,null),b);throw Xh(""+q("Cannot parse collection binding"),new l(null,2,[Tj,Vj,Zj,b],null));}return null}function qn(b){var a=nn(b);return m(a)?a:pn.h?pn.h(b):pn.call(null,b)}
function rn(b){var a=Pm(qn,b);if(m(a)){if(ed(a))throw Xh(""+q("Tuple binding cannot be empty"),new l(null,2,[Tj,Vj,Zj,b],null));return Tm(new ln(a,null,null,null),b)}return null}
function pn(b){var a=on(b);if(m(a))return a;a=Om(b,1);a=m(a)?hd(C(b)):a;a=m(a)?Tm(new mn(rn(C(b)),null,null,null),b):null;if(m(a))return a;a=rn(b);if(m(a))return a;a=nn(b);if(m(a))return a;a=cn(b);a=m(a)?Tm(new kn(a,null,null,null),b):null;if(m(a))return a;throw Xh(""+q("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)"),new l(null,2,[Tj,Vj,Zj,b],null));}
var sn=function sn(a){if(a?a.dd:a)return a.dd(a);var c;c=sn[ba(null==a?null:a)];if(!c&&(c=sn._,!c))throw Ca("IFindVars.-find-vars",a);return c.call(null,a)};Wm.prototype.dd=function(){return new U(null,1,5,V,[this.symbol],null)};function tn(b,a,c,d,e){this.fa=b;this.ca=a;this.o=c;this.j=d;this.s=e;this.B=2229667594;this.H=8192}f=tn.prototype;f.dd=function(){return sn(Tc(this.ca))};f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "fn":return this.fa;case "args":return this.ca;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.Aggregate{",", ","}",c,T.g(new U(null,2,5,V,[new U(null,2,5,V,[ri,this.fa],null),new U(null,2,5,V,[$h,this.ca],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new tn(this.fa,this.ca,this.o,this.j,this.s)};
f.U=function(){return 2+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,2,[$h,null,ri,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new tn(this.fa,this.ca,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(ri,a):R.call(null,ri,a))?new tn(c,this.ca,this.o,this.j,null):m(R.g?R.g($h,a):R.call(null,$h,a))?new tn(this.fa,c,this.o,this.j,null):new tn(this.fa,this.ca,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,2,5,V,[new U(null,2,5,V,[ri,this.fa],null),new U(null,2,5,V,[$h,this.ca],null)],null),this.j))};f.T=function(b,a){return new tn(this.fa,this.ca,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};
f.ua=!0;f.va=function(b,a,c){return Rm(a,this.ca,I([Rm(a,this.fa,I([c],0))],0))};f.wa=function(b,a){var c;c=this.fa;c=Y.g?Y.g(a,c):Y.call(null,a,c);var d=this.ca;return Y.g?Y.g(c,d):Y.call(null,c,d)};function un(b,a,c,d,e,g){this.source=b;this.Fa=a;this.pattern=c;this.o=d;this.j=e;this.s=g;this.B=2229667594;this.H=8192}f=un.prototype;f.dd=function(){return sn(this.Fa)};f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "source":return this.source;case "variable":return this.Fa;case "pattern":return this.pattern;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.Pull{",", ","}",c,T.g(new U(null,3,5,V,[new U(null,2,5,V,[ej,this.source],null),new U(null,2,5,V,[wi,this.Fa],null),new U(null,2,5,V,[yk,this.pattern],null)],null),this.j))};f.S=function(){return this.o};
f.Y=function(){return new un(this.source,this.Fa,this.pattern,this.o,this.j,this.s)};f.U=function(){return 3+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,3,[wi,null,ej,null,yk,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new un(this.source,this.Fa,this.pattern,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(ej,a):R.call(null,ej,a))?new un(c,this.Fa,this.pattern,this.o,this.j,null):m(R.g?R.g(wi,a):R.call(null,wi,a))?new un(this.source,c,this.pattern,this.o,this.j,null):m(R.g?R.g(yk,a):R.call(null,yk,a))?new un(this.source,this.Fa,c,this.o,this.j,null):new un(this.source,this.Fa,this.pattern,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,3,5,V,[new U(null,2,5,V,[ej,this.source],null),new U(null,2,5,V,[wi,this.Fa],null),new U(null,2,5,V,[yk,this.pattern],null)],null),this.j))};f.T=function(b,a){return new un(this.source,this.Fa,this.pattern,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.pattern,I([Rm(a,this.Fa,I([Rm(a,this.source,I([c],0))],0))],0))};
f.wa=function(b,a){var c;c=this.source;c=Y.g?Y.g(a,c):Y.call(null,a,c);var d=this.Fa;c=Y.g?Y.g(c,d):Y.call(null,c,d);d=this.pattern;return Y.g?Y.g(c,d):Y.call(null,c,d)};var vn=function vn(a){if(a?a.Pc:a)return a.Pc(a);var c;c=vn[ba(null==a?null:a)];if(!c&&(c=vn._,!c))throw Ca("IFindElements.find-elements",a);return c.call(null,a)};function wn(b,a,c,d){this.elements=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=wn.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "elements":return this.elements;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.FindRel{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[mj,this.elements],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new wn(this.elements,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};
f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,1,[mj,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new wn(this.elements,this.o,Fe(N.g(this.j,a)),null)};f.Pc=function(){return this.elements};
f.Z=function(b,a,c){return m(R.g?R.g(mj,a):R.call(null,mj,a))?new wn(c,this.o,this.j,null):new wn(this.elements,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[mj,this.elements],null)],null),this.j))};f.T=function(b,a){return new wn(this.elements,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.elements,I([c],0))};
f.wa=function(b,a){var c=this.elements;return Y.g?Y.g(a,c):Y.call(null,a,c)};function xn(b,a,c,d){this.element=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=xn.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "element":return this.element;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.FindColl{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[Bi,this.element],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new xn(this.element,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};
f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,1,[Bi,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new xn(this.element,this.o,Fe(N.g(this.j,a)),null)};f.Pc=function(){return new U(null,1,5,V,[this.element],null)};f.Z=function(b,a,c){return m(R.g?R.g(Bi,a):R.call(null,Bi,a))?new xn(c,this.o,this.j,null):new xn(this.element,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[Bi,this.element],null)],null),this.j))};f.T=function(b,a){return new xn(this.element,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.element,I([c],0))};f.wa=function(b,a){var c=this.element;return Y.g?Y.g(a,c):Y.call(null,a,c)};function yn(b,a,c,d){this.element=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=yn.prototype;
f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "element":return this.element;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.FindScalar{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[Bi,this.element],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new yn(this.element,this.o,this.j,this.s)};
f.U=function(){return 1+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,1,[Bi,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new yn(this.element,this.o,Fe(N.g(this.j,a)),null)};f.Pc=function(){return new U(null,1,5,V,[this.element],null)};
f.Z=function(b,a,c){return m(R.g?R.g(Bi,a):R.call(null,Bi,a))?new yn(c,this.o,this.j,null):new yn(this.element,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[Bi,this.element],null)],null),this.j))};f.T=function(b,a){return new yn(this.element,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.element,I([c],0))};
f.wa=function(b,a){var c=this.element;return Y.g?Y.g(a,c):Y.call(null,a,c)};function zn(b,a,c,d){this.elements=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=zn.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "elements":return this.elements;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.FindTuple{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[mj,this.elements],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new zn(this.elements,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};
f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,1,[mj,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new zn(this.elements,this.o,Fe(N.g(this.j,a)),null)};f.Pc=function(){return this.elements};f.Z=function(b,a,c){return m(R.g?R.g(mj,a):R.call(null,mj,a))?new zn(c,this.o,this.j,null):new zn(this.elements,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[mj,this.elements],null)],null),this.j))};f.T=function(b,a){return new zn(this.elements,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.elements,I([c],0))};f.wa=function(b,a){var c=this.elements;return Y.g?Y.g(a,c):Y.call(null,a,c)};function An(b){return b instanceof tn}function Bn(b){return b instanceof un}
function Cn(b){var a=cn(b);if(m(a))return a;a:{if(hd(b)&&F.g(C(b),new y(null,"pull","pull",779986722,null))){if(3<=K(b)&&4>=K(b)){var c=(a=F.g(K(b),4))?Wc(b,1):new y(null,"$","$",-1580747756,null),a=a?D(D(b)):D(b),d=L(a,0),a=L(a,1),c=dn(c),d=cn(d),e=cn(a),a=m(e)?e:en(a);if(m(m(c)?m(d)?a:d:c)){a=new un(c,d,a,null,null,null);break a}}throw Xh(""+q("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable)]"),new l(null,2,[Tj,fi,Hi,b],null));}a=null}if(m(a))return a;a:{if(hd(b)&&
F.g(C(b),new y(null,"aggregate","aggregate",-1142967327,null))){if(3<=K(b)&&(L(b,0),c=L(b,1),a=Vd(b,2),c=cn(c),a=Pm(gn,a),m(m(c)?a:c))){a=new tn(c,a,null,null,null);break a}throw Xh(""+q("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]"),new l(null,2,[Tj,fi,Hi,b],null));}a=null}m(a)?b=a:hd(b)&&2<=K(b)?(a=L(b,0),b=Vd(b,1),a=fn(a),b=Pm(gn,b),b=m(m(a)?b:a)?new tn(a,b,null,null,null):null):b=null;return b}
function Dn(b){var a;a=Pm(Cn,b);a=null==a?null:new wn(a,null,null,null);if(m(a))return a;a:{if(hd(b)&&F.g(K(b),1)&&(a=C(b),hd(a)&&F.g(K(a),2)&&F.g(Rc(a),new y(null,"...","...",-1926939749,null)))){a=Cn(C(a));a=null==a?null:new xn(a,null,null,null);break a}a=null}if(m(a))return a;hd(b)&&F.g(K(b),2)&&F.g(Rc(b),new y(null,".",".",1975675962,null))?(a=Cn(C(b)),a=null==a?null:new yn(a,null,null,null)):a=null;if(m(a))return a;hd(b)&&F.g(K(b),1)?(a=C(b),a=Pm(Cn,a),a=null==a?null:new zn(a,null,null,null)):
a=null;if(m(a))return a;throw Xh(""+q("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)"),new l(null,2,[Tj,fi,Hi,b],null));}function En(b){var a;a=dn(b);a=m(a)?a:F.g(new y(null,"%","%",-950237169,null),b)?new Zm(null,null,null):null;return m(a)?Tm(new kn(a,null,null,null),b):pn(b)}function Fn(b,a,c,d,e){this.source=b;this.pattern=a;this.o=c;this.j=d;this.s=e;this.B=2229667594;this.H=8192}f=Fn.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "source":return this.source;case "pattern":return this.pattern;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.Pattern{",", ","}",c,T.g(new U(null,2,5,V,[new U(null,2,5,V,[ej,this.source],null),new U(null,2,5,V,[yk,this.pattern],null)],null),this.j))};f.S=function(){return this.o};
f.Y=function(){return new Fn(this.source,this.pattern,this.o,this.j,this.s)};f.U=function(){return 2+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,2,[ej,null,yk,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new Fn(this.source,this.pattern,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(ej,a):R.call(null,ej,a))?new Fn(c,this.pattern,this.o,this.j,null):m(R.g?R.g(yk,a):R.call(null,yk,a))?new Fn(this.source,c,this.o,this.j,null):new Fn(this.source,this.pattern,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,2,5,V,[new U(null,2,5,V,[ej,this.source],null),new U(null,2,5,V,[yk,this.pattern],null)],null),this.j))};f.T=function(b,a){return new Fn(this.source,this.pattern,a,this.j,this.s)};
f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.pattern,I([Rm(a,this.source,I([c],0))],0))};f.wa=function(b,a){var c;c=this.source;c=Y.g?Y.g(a,c):Y.call(null,a,c);var d=this.pattern;return Y.g?Y.g(c,d):Y.call(null,c,d)};function Gn(b,a,c,d,e){this.fa=b;this.ca=a;this.o=c;this.j=d;this.s=e;this.B=2229667594;this.H=8192}f=Gn.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "fn":return this.fa;case "args":return this.ca;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.Predicate{",", ","}",c,T.g(new U(null,2,5,V,[new U(null,2,5,V,[ri,this.fa],null),new U(null,2,5,V,[$h,this.ca],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new Gn(this.fa,this.ca,this.o,this.j,this.s)};
f.U=function(){return 2+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,2,[$h,null,ri,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new Gn(this.fa,this.ca,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(ri,a):R.call(null,ri,a))?new Gn(c,this.ca,this.o,this.j,null):m(R.g?R.g($h,a):R.call(null,$h,a))?new Gn(this.fa,c,this.o,this.j,null):new Gn(this.fa,this.ca,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,2,5,V,[new U(null,2,5,V,[ri,this.fa],null),new U(null,2,5,V,[$h,this.ca],null)],null),this.j))};f.T=function(b,a){return new Gn(this.fa,this.ca,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};
f.ua=!0;f.va=function(b,a,c){return Rm(a,this.ca,I([Rm(a,this.fa,I([c],0))],0))};f.wa=function(b,a){var c;c=this.fa;c=Y.g?Y.g(a,c):Y.call(null,a,c);var d=this.ca;return Y.g?Y.g(c,d):Y.call(null,c,d)};function Hn(b,a,c,d,e,g){this.fa=b;this.ca=a;this.Ga=c;this.o=d;this.j=e;this.s=g;this.B=2229667594;this.H=8192}f=Hn.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "fn":return this.fa;case "args":return this.ca;case "binding":return this.Ga;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.Function{",", ","}",c,T.g(new U(null,3,5,V,[new U(null,2,5,V,[ri,this.fa],null),new U(null,2,5,V,[$h,this.ca],null),new U(null,2,5,V,[uj,this.Ga],null)],null),this.j))};f.S=function(){return this.o};
f.Y=function(){return new Hn(this.fa,this.ca,this.Ga,this.o,this.j,this.s)};f.U=function(){return 3+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,3,[$h,null,ri,null,uj,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new Hn(this.fa,this.ca,this.Ga,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(ri,a):R.call(null,ri,a))?new Hn(c,this.ca,this.Ga,this.o,this.j,null):m(R.g?R.g($h,a):R.call(null,$h,a))?new Hn(this.fa,c,this.Ga,this.o,this.j,null):m(R.g?R.g(uj,a):R.call(null,uj,a))?new Hn(this.fa,this.ca,c,this.o,this.j,null):new Hn(this.fa,this.ca,this.Ga,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,3,5,V,[new U(null,2,5,V,[ri,this.fa],null),new U(null,2,5,V,[$h,this.ca],null),new U(null,2,5,V,[uj,this.Ga],null)],null),this.j))};
f.T=function(b,a){return new Hn(this.fa,this.ca,this.Ga,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.Ga,I([Rm(a,this.ca,I([Rm(a,this.fa,I([c],0))],0))],0))};f.wa=function(b,a){var c;c=this.fa;c=Y.g?Y.g(a,c):Y.call(null,a,c);var d=this.ca;c=Y.g?Y.g(c,d):Y.call(null,c,d);d=this.Ga;return Y.g?Y.g(c,d):Y.call(null,c,d)};
function In(b,a,c,d,e,g){this.source=b;this.name=a;this.ca=c;this.o=d;this.j=e;this.s=g;this.B=2229667594;this.H=8192}f=In.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "source":return this.source;case "name":return this.name;case "args":return this.ca;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.RuleExpr{",", ","}",c,T.g(new U(null,3,5,V,[new U(null,2,5,V,[ej,this.source],null),new U(null,2,5,V,[Ti,this.name],null),new U(null,2,5,V,[$h,this.ca],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new In(this.source,this.name,this.ca,this.o,this.j,this.s)};f.U=function(){return 3+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};
f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,3,[$h,null,Ti,null,ej,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new In(this.source,this.name,this.ca,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(ej,a):R.call(null,ej,a))?new In(c,this.name,this.ca,this.o,this.j,null):m(R.g?R.g(Ti,a):R.call(null,Ti,a))?new In(this.source,c,this.ca,this.o,this.j,null):m(R.g?R.g($h,a):R.call(null,$h,a))?new In(this.source,this.name,c,this.o,this.j,null):new In(this.source,this.name,this.ca,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,3,5,V,[new U(null,2,5,V,[ej,this.source],null),new U(null,2,5,V,[Ti,this.name],null),new U(null,2,5,V,[$h,this.ca],null)],null),this.j))};f.T=function(b,a){return new In(this.source,this.name,this.ca,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.ca,I([Rm(a,this.name,I([Rm(a,this.source,I([c],0))],0))],0))};
f.wa=function(b,a){var c;c=this.source;c=Y.g?Y.g(a,c):Y.call(null,a,c);var d=this.name;c=Y.g?Y.g(c,d):Y.call(null,c,d);d=this.ca;return Y.g?Y.g(c,d):Y.call(null,c,d)};function Jn(b,a,c,d,e,g){this.source=b;this.xb=a;this.ja=c;this.o=d;this.j=e;this.s=g;this.B=2229667594;this.H=8192}f=Jn.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "source":return this.source;case "vars":return this.xb;case "clauses":return this.ja;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.Not{",", ","}",c,T.g(new U(null,3,5,V,[new U(null,2,5,V,[ej,this.source],null),new U(null,2,5,V,[xk,this.xb],null),new U(null,2,5,V,[Yj,this.ja],null)],null),this.j))};f.S=function(){return this.o};
f.Y=function(){return new Jn(this.source,this.xb,this.ja,this.o,this.j,this.s)};f.U=function(){return 3+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,3,[ej,null,Yj,null,xk,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new Jn(this.source,this.xb,this.ja,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(ej,a):R.call(null,ej,a))?new Jn(c,this.xb,this.ja,this.o,this.j,null):m(R.g?R.g(xk,a):R.call(null,xk,a))?new Jn(this.source,c,this.ja,this.o,this.j,null):m(R.g?R.g(Yj,a):R.call(null,Yj,a))?new Jn(this.source,this.xb,c,this.o,this.j,null):new Jn(this.source,this.xb,this.ja,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,3,5,V,[new U(null,2,5,V,[ej,this.source],null),new U(null,2,5,V,[xk,this.xb],null),new U(null,2,5,V,[Yj,this.ja],null)],null),this.j))};f.T=function(b,a){return new Jn(this.source,this.xb,this.ja,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.ja,I([Rm(a,this.xb,I([Rm(a,this.source,I([c],0))],0))],0))};
f.wa=function(b,a){var c;c=this.source;c=Y.g?Y.g(a,c):Y.call(null,a,c);var d=this.xb;c=Y.g?Y.g(c,d):Y.call(null,c,d);d=this.ja;return Y.g?Y.g(c,d):Y.call(null,c,d)};function Kn(b,a,c,d,e,g){this.source=b;this.sb=a;this.ja=c;this.o=d;this.j=e;this.s=g;this.B=2229667594;this.H=8192}f=Kn.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "source":return this.source;case "rule-vars":return this.sb;case "clauses":return this.ja;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.Or{",", ","}",c,T.g(new U(null,3,5,V,[new U(null,2,5,V,[ej,this.source],null),new U(null,2,5,V,[Ji,this.sb],null),new U(null,2,5,V,[Yj,this.ja],null)],null),this.j))};f.S=function(){return this.o};
f.Y=function(){return new Kn(this.source,this.sb,this.ja,this.o,this.j,this.s)};f.U=function(){return 3+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,3,[Ji,null,ej,null,Yj,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new Kn(this.source,this.sb,this.ja,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(ej,a):R.call(null,ej,a))?new Kn(c,this.sb,this.ja,this.o,this.j,null):m(R.g?R.g(Ji,a):R.call(null,Ji,a))?new Kn(this.source,c,this.ja,this.o,this.j,null):m(R.g?R.g(Yj,a):R.call(null,Yj,a))?new Kn(this.source,this.sb,c,this.o,this.j,null):new Kn(this.source,this.sb,this.ja,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,3,5,V,[new U(null,2,5,V,[ej,this.source],null),new U(null,2,5,V,[Ji,this.sb],null),new U(null,2,5,V,[Yj,this.ja],null)],null),this.j))};f.T=function(b,a){return new Kn(this.source,this.sb,this.ja,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.ja,I([Rm(a,this.sb,I([Rm(a,this.source,I([c],0))],0))],0))};
f.wa=function(b,a){var c;c=this.source;c=Y.g?Y.g(a,c):Y.call(null,a,c);var d=this.sb;c=Y.g?Y.g(c,d):Y.call(null,c,d);d=this.ja;return Y.g?Y.g(c,d):Y.call(null,c,d)};function Ln(b,a,c,d){this.ja=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=Ln.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "clauses":return this.ja;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.And{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[Yj,this.ja],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new Ln(this.ja,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};
f.da=function(b,a){return rd(new ud(null,new l(null,1,[Yj,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new Ln(this.ja,this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return m(R.g?R.g(Yj,a):R.call(null,Yj,a))?new Ln(c,this.o,this.j,null):new Ln(this.ja,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[Yj,this.ja],null)],null),this.j))};f.T=function(b,a){return new Ln(this.ja,a,this.j,this.s)};
f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.ja,I([c],0))};f.wa=function(b,a){var c=this.ja;return Y.g?Y.g(a,c):Y.call(null,a,c)};function Mn(b){var a=bn(b);if(m(a))return a;a=cn(b);return m(a)?a:en(b)}function Nn(b){if(hd(b)){var a=dn(C(b));return m(a)?new U(null,2,5,V,[a,D(b)],null):new U(null,2,5,V,[new Ym(null,null,null),b],null)}return null}
function On(b){if(hd(b)){var a=L(b,0);b=Vd(b,1);b=null==b?Uc:b;var c=fn(a),a=m(c)?c:cn(a);b=Pm(gn,b);return m(m(a)?b:a)?new U(null,2,5,V,[a,b],null):null}return null}var Y=function Y(a,c){return c instanceof Wm?J.g(a,c):c instanceof Jn?of.g(a,xk.h(c)):c instanceof Kn?Y(a,Ji.h(c)):(c?m(m(null)?null:c.ua)||(c.zb?0:n(Lm,c)):n(Lm,c))?Nm(c,a):hd(c)?t(Y,a,c):a};function Pn(b){return Y(Uc,b)}
function Qn(b,a,c){a=Km.g(sh(b),sh(Pn(a)));if(!ed(a))throw Xh([q("Join variable not declared inside clauses: "),q(Mh(I([pf(Qi,a)],0)))].join(""),new l(null,2,[Tj,Di,Zj,c],null));if(ed(b))throw Xh(""+q("Join variables should not be empty"),new l(null,2,[Tj,Di,Zj,c],null));}function Rn(b,a){Qn(xk.h(b),Yj.h(b),a);return b}
function Sn(b,a){for(var c=od(b)?ze(Se,b):b,d=Xc(c,Ji),e=od(d)?ze(Se,d):d,d=Xc(e,rk),e=Xc(e,Ki),g=Xc(c,Yj),c=T.g(d,e),d=z(g),e=null,h=g=0;;)if(h<g){var k=e.ha(null,h);Qn(c,new U(null,1,5,V,[k],null),a);h+=1}else if(d=z(d))e=d,kd(e)?(d=Pb(e),h=Qb(e),e=d,g=K(d),d=h):(d=C(e),Qn(c,new U(null,1,5,V,[d],null),a),d=D(e),e=null,g=0),h=0;else break;return b}
function $e(b){if(hd(b)&&F.g(new y(null,"and","and",668631710,null),C(b))){var a=Pm(af,D(b));if(m(Fe(a)))return new Ln(a,null,null,null);throw Xh(""+q("Cannot parse 'and' clause, expected [ 'and' clause+ ]"),new l(null,2,[Tj,Di,Zj,b],null));}return null}
function af(b){var a;a:{var c=Nn(b);if(m(c)){a=L(c,0);var d=L(c,1),c=L(d,0),d=Vd(d,1);if(F.g(new y(null,"not","not",1044554643,null),c)){c=Pm(af,d);if(m(c)){a=Rn(new Jn(a,Rf(th.h(Pn(c))),c,null,null,null),b);break a}throw Xh(""+q("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]"),new l(null,2,[Tj,Di,Zj,b],null));}}a=null}if(m(a))return a;a:{c=Nn(b);if(m(c)){a=L(c,0);var e=L(c,1),c=L(e,0),d=L(e,1),e=Vd(e,2);if(F.g(new y(null,"not-join","not-join",-645515756,null),c)){c=Pm(cn,d);d=Pm(af,
e);if(m(m(c)?d:c)){a=Rn(new Jn(a,c,d,null,null,null),b);break a}throw Xh(""+q("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]"),new l(null,2,[Tj,Di,Zj,b],null));}}a=null}if(m(a))return a;a:{c=Nn(b);if(m(c)&&(a=L(c,0),d=L(c,1),c=L(d,0),d=Vd(d,1),F.g(new y(null,"or","or",1876275696,null),c))){c=Pm(Ze(),d);if(m(c)){a=Sn(new Kn(a,new hn(null,Rf(th.h(Pn(c))),null,null,null),c,null,null,null),b);break a}throw Xh(""+q("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]"),
new l(null,2,[Tj,Di,Zj,b],null));}a=null}if(m(a))return a;a:{c=Nn(b);if(m(c)&&(a=L(c,0),d=L(c,1),e=L(d,0),c=L(d,1),d=Vd(d,2),F.g(new y(null,"or-join","or-join",591375469,null),e))){if(hd(c)){var g=hd(C(c))?new U(null,2,5,V,[C(c),D(c)],null):new U(null,2,5,V,[null,c],null),e=L(g,0),g=L(g,1),e=Pm(cn,e),g=Pm(cn,g);if(ed(e)&&ed(g))throw Xh(""+q("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]"),new l(null,2,[Tj,Gi,Zj,c],null));if(!m(Sm(T.g(e,g))))throw Xh(""+q("Rule variables should be distinct"),
new l(null,2,[Tj,Gi,Zj,c],null));c=new hn(e,g,null,null,null)}else throw Xh(""+q("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]"),new l(null,2,[Tj,Gi,Zj,c],null));d=Pm(af,d);if(m(m(c)?d:c)){a=Sn(new Kn(a,c,d,null,null,null),b);break a}throw Xh(""+q("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]"),new l(null,2,[Tj,Di,Zj,b],null));}a=null}if(m(a))return a;a:{if(m(Om(b,1))&&(c=On(C(b)),m(c))){a=L(c,0);c=L(c,1);a=new Gn(a,c,null,null,null);
break a}a=null}if(m(a))return a;a:{if(m(Om(b,2))&&(c=L(b,0),a=L(b,1),d=On(c),m(d))){c=L(d,0);d=L(d,1);a=pn(a);a=m(a)?new Hn(c,d,a,null,null,null):null;break a}a=null}if(m(a))return a;a:{c=Nn(b);if(m(c)&&(a=L(c,0),c=L(c,1),d=L(c,0),c=Vd(c,1),d=fn(d),e=Pm(Mn,c),m(d))){if(ed(c))throw Xh(""+q("rule-expr requieres at least one argument"),new l(null,2,[Tj,Di,Zj,b],null));if(null==e)throw Xh(""+q("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]"),new l(null,2,[Tj,Di,Zj,b],null));
a=new In(a,d,e,null,null,null);break a}a=null}if(m(a))return a;a:{c=Nn(b);if(m(c)&&(a=L(c,0),c=L(c,1),c=Pm(Mn,c),m(c))){if(ed(c))throw Xh(""+q("Pattern could not be empty"),new l(null,2,[Tj,Di,Zj,b],null));a=Tm(new Fn(a,c,null,null,null),b);break a}a=null}if(m(a))return a;throw Xh(""+q("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)"),new l(null,2,[Tj,Di,Zj,b],null));}
function Tn(b,a,c,d,e,g,h){this.find=b;this.lb=a;this.hb=c;this.kb=d;this.o=e;this.j=g;this.s=h;this.B=2229667594;this.H=8192}f=Tn.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "find":return this.find;case "with":return this.lb;case "in":return this.hb;case "where":return this.kb;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.parser.Query{",", ","}",c,T.g(new U(null,4,5,V,[new U(null,2,5,V,[bi,this.find],null),new U(null,2,5,V,[Bj,this.lb],null),new U(null,2,5,V,[wk,this.hb],null),new U(null,2,5,V,[pi,this.kb],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new Tn(this.find,this.lb,this.hb,this.kb,this.o,this.j,this.s)};f.U=function(){return 4+K(this.j)};
f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,4,[bi,null,pi,null,Bj,null,wk,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new Tn(this.find,this.lb,this.hb,this.kb,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(bi,a):R.call(null,bi,a))?new Tn(c,this.lb,this.hb,this.kb,this.o,this.j,null):m(R.g?R.g(Bj,a):R.call(null,Bj,a))?new Tn(this.find,c,this.hb,this.kb,this.o,this.j,null):m(R.g?R.g(wk,a):R.call(null,wk,a))?new Tn(this.find,this.lb,c,this.kb,this.o,this.j,null):m(R.g?R.g(pi,a):R.call(null,pi,a))?new Tn(this.find,this.lb,this.hb,c,this.o,this.j,null):new Tn(this.find,this.lb,this.hb,this.kb,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,4,5,V,[new U(null,2,5,V,[bi,this.find],null),new U(null,2,5,V,[Bj,this.lb],null),new U(null,2,5,V,[wk,this.hb],null),new U(null,2,5,V,[pi,this.kb],null)],null),this.j))};f.T=function(b,a){return new Tn(this.find,this.lb,this.hb,this.kb,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};f.ua=!0;f.va=function(b,a,c){return Rm(a,this.kb,I([Rm(a,this.hb,I([Rm(a,this.lb,I([Rm(a,this.find,I([c],0))],0))],0))],0))};
f.wa=function(b,a){return Y(Y(Y(Y(a,this.find),this.lb),this.hb),this.kb)};function Un(b){for(var a=O,c=null;;){var d=C(b);if(m(d))d instanceof P?c=d:a=wf.V(a,new U(null,1,5,V,[c],null),Oe(J,Uc),d),b=D(b);else return a}}
function Vn(b,a){var c=sh(Pn(bi.h(b))),d=sh(Bj.h(b)),e=sh(Pn(wk.h(b))),g=sh(Pn(pi.h(b))),e=Km.g(Im(c,d),Im(g,e)),c=Jm.g(c,d);if(!ed(e))throw Xh([q("Query for unknown vars: "),q(Mh(I([pf(Qi,e)],0)))].join(""),new l(null,3,[Tj,zk,xk,e,Zj,a],null));if(!ed(c))throw Xh([q(":in and :with should not use same variables: "),q(Mh(I([pf(Qi,c)],0)))].join(""),new l(null,3,[Tj,zk,xk,c,Zj,a],null));var h=Pn(wk.h(b)),k=Qm(function(){return function(a){return a instanceof Xm}}(h),wk.h(b)),p=Qm(function(){return function(a){return a instanceof
Zm}}(h,k),wk.h(b));if(!m(function(){var a=Sm(h);return m(a)?(a=Sm(k),m(a)?Sm(p):a):a}()))throw Xh(""+q("Vars used in :in should be distinct"),new l(null,2,[Tj,zk,Zj,a],null));c=Pn(Bj.h(b));if(!m(Sm(c)))throw Xh(""+q("Vars used in :with should be distinct"),new l(null,2,[Tj,zk,Zj,a],null));c=Rm(function(a){return a instanceof Xm},wk.h(b),I([vd],0));d=Rm(function(){return function(a){return a instanceof Xm}}(c),pi.h(b),I([vd],0));c=Km.g(d,c);if(!ed(c))throw Xh([q("Where uses unknown source vars: "),
q(Mh(I([pf(Qi,c)],0)))].join(""),new l(null,3,[Tj,zk,xk,c,Zj,a],null));c=Qm(function(a){return a instanceof In},pi.h(b));d=Qm(function(){return function(a){return a instanceof Zm}}(c),wk.h(b));if(!ed(c)&&ed(d))throw Xh(""+q("Missing rules var '%' in :in"),new l(null,2,[Tj,zk,Zj,a],null));};function Wn(b,a,c,d,e){this.xc=b;this.ce=a;this.de=c;this.hc=d;this.Ea=e;this.B=2147484416;this.H=0}f=Wn.prototype;f.Z=function(b,a,c){return Xn.l?Xn.l(this,a,c):Xn.call(null,this,a,c)};f.qc=function(b,a){return Za(this.xc,a)};f.J=function(b,a){return x.l(this.xc,a,null)};f.I=function(b,a,c){return x.l(this.xc,a,c)};f.K=function(b,a,c){return Fb(Jb(this.xc),a,c)};function Yn(b,a,c,d,e){return new Wn(b,a,c,d,e)}
function Xn(b,a,c){var d=b.xc,e=b.ce,g=b.de,h=b.hc;b=b.Ea;var k=g.g?g.g(a,null):g.call(null,a,null);if(m(k))return Yn(d,M.l(N.g(e,k),h,a),M.l(g,a,h),h+1,b);a=Yn(M.l(d,a,c),M.l(e,h,a),M.l(g,a,h),h+1,b);return Zn.h?Zn.h(a):Zn.call(null,a)}function Zn(b){if(K(b.xc)>b.Ea){var a=b.xc,c=b.ce,d=b.de,e=b.hc;b=b.Ea;var g=C(c),h=L(g,0),g=L(g,1);return Yn(N.g(a,g),N.g(c,h),N.g(d,g),e,b)}return b};function $n(b,a,c,d,e){this.oc=b;this.Ma=a;this.o=c;this.j=d;this.s=e;this.B=2229667594;this.H=8192}f=$n.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "wildcard?":return this.oc;case "attrs":return this.Ma;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.pull-parser.PullSpec{",", ","}",c,T.g(new U(null,2,5,V,[new U(null,2,5,V,[ik,this.oc],null),new U(null,2,5,V,[Nj,this.Ma],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new $n(this.oc,this.Ma,this.o,this.j,this.s)};f.U=function(){return 2+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};
f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,2,[Nj,null,ik,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new $n(this.oc,this.Ma,this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return m(R.g?R.g(ik,a):R.call(null,ik,a))?new $n(c,this.Ma,this.o,this.j,null):m(R.g?R.g(Nj,a):R.call(null,Nj,a))?new $n(this.oc,c,this.o,this.j,null):new $n(this.oc,this.Ma,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,2,5,V,[new U(null,2,5,V,[ik,this.oc],null),new U(null,2,5,V,[Nj,this.Ma],null)],null),this.j))};f.T=function(b,a){return new $n(this.oc,this.Ma,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};var ao=function ao(a){if(a?a.gc:a)return a.gc(a);var c;c=ao[ba(null==a?null:a)];if(!c&&(c=ao._,!c))throw Ca("IPullSpecComponent.-as-spec",a);return c.call(null,a)};
function bo(b,a,c,d){this.ba=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=bo.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "attr":return this.ba;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.pull-parser.PullAttrName{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[Ak,this.ba],null)],null),this.j))};f.S=function(){return this.o};
f.Y=function(){return new bo(this.ba,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.gc=function(){return new U(null,2,5,V,[this.ba,new l(null,1,[Ak,this.ba],null)],null)};f.da=function(b,a){return rd(new ud(null,new l(null,1,[Ak,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new bo(this.ba,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(Ak,a):R.call(null,Ak,a))?new bo(c,this.o,this.j,null):new bo(this.ba,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[Ak,this.ba],null)],null),this.j))};f.T=function(b,a){return new bo(this.ba,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};function co(b,a,c,d,e){this.ba=b;this.Yb=a;this.o=c;this.j=d;this.s=e;this.B=2229667594;this.H=8192}f=co.prototype;
f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "attr":return this.ba;case "rattr":return this.Yb;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,T.g(new U(null,2,5,V,[new U(null,2,5,V,[Ak,this.ba],null),new U(null,2,5,V,[zi,this.Yb],null)],null),this.j))};f.S=function(){return this.o};
f.Y=function(){return new co(this.ba,this.Yb,this.o,this.j,this.s)};f.U=function(){return 2+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.gc=function(){return new U(null,2,5,V,[this.Yb,new l(null,1,[Ak,this.ba],null)],null)};
f.da=function(b,a){return rd(new ud(null,new l(null,2,[zi,null,Ak,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new co(this.ba,this.Yb,this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return m(R.g?R.g(Ak,a):R.call(null,Ak,a))?new co(c,this.Yb,this.o,this.j,null):m(R.g?R.g(zi,a):R.call(null,zi,a))?new co(this.ba,c,this.o,this.j,null):new co(this.ba,this.Yb,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,2,5,V,[new U(null,2,5,V,[Ak,this.ba],null),new U(null,2,5,V,[zi,this.Yb],null)],null),this.j))};f.T=function(b,a){return new co(this.ba,this.Yb,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};function eo(b,a,c,d,e){this.ba=b;this.Ea=a;this.o=c;this.j=d;this.s=e;this.B=2229667594;this.H=8192}f=eo.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "attr":return this.ba;case "limit":return this.Ea;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.pull-parser.PullLimitExpr{",", ","}",c,T.g(new U(null,2,5,V,[new U(null,2,5,V,[Ak,this.ba],null),new U(null,2,5,V,[Ci,this.Ea],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new eo(this.ba,this.Ea,this.o,this.j,this.s)};
f.U=function(){return 2+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.gc=function(){return vf(ao(this.ba),new U(null,2,5,V,[1,Ci],null),this.Ea)};f.da=function(b,a){return rd(new ud(null,new l(null,2,[Ci,null,Ak,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new eo(this.ba,this.Ea,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(Ak,a):R.call(null,Ak,a))?new eo(c,this.Ea,this.o,this.j,null):m(R.g?R.g(Ci,a):R.call(null,Ci,a))?new eo(this.ba,c,this.o,this.j,null):new eo(this.ba,this.Ea,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,2,5,V,[new U(null,2,5,V,[Ak,this.ba],null),new U(null,2,5,V,[Ci,this.Ea],null)],null),this.j))};f.T=function(b,a){return new eo(this.ba,this.Ea,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};
function fo(b,a,c,d,e){this.ba=b;this.value=a;this.o=c;this.j=d;this.s=e;this.B=2229667594;this.H=8192}f=fo.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "attr":return this.ba;case "value":return this.value;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,T.g(new U(null,2,5,V,[new U(null,2,5,V,[Ak,this.ba],null),new U(null,2,5,V,[Wi,this.value],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new fo(this.ba,this.value,this.o,this.j,this.s)};f.U=function(){return 2+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};
f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.gc=function(){return vf(ao(this.ba),new U(null,2,5,V,[1,Ii],null),this.value)};f.da=function(b,a){return rd(new ud(null,new l(null,2,[Wi,null,Ak,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new fo(this.ba,this.value,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(Ak,a):R.call(null,Ak,a))?new fo(c,this.value,this.o,this.j,null):m(R.g?R.g(Wi,a):R.call(null,Wi,a))?new fo(this.ba,c,this.o,this.j,null):new fo(this.ba,this.value,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,2,5,V,[new U(null,2,5,V,[Ak,this.ba],null),new U(null,2,5,V,[Wi,this.value],null)],null),this.j))};f.T=function(b,a){return new fo(this.ba,this.value,a,this.j,this.s)};
f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};function go(b,a,c){this.o=b;this.j=a;this.s=c;this.B=2229667594;this.H=8192}f=go.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a){default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.pull-parser.PullWildcard{",", ","}",c,T.g(Uc,this.j))};f.S=function(){return this.o};
f.Y=function(){return new go(this.o,this.j,this.s)};f.U=function(){return 0+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(vd,a)?N.g(Nc(of.g(O,this),this.o),a):new go(this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return new go(this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(Uc,this.j))};
f.T=function(b,a){return new go(a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};function ho(b,a,c,d){this.Ea=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=ho.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "limit":return this.Ea;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[Ci,this.Ea],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new ho(this.Ea,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};
f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.gc=function(){return new U(null,2,5,V,[zj,this.Ea],null)};f.da=function(b,a){return rd(new ud(null,new l(null,1,[Ci,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new ho(this.Ea,this.o,Fe(N.g(this.j,a)),null)};f.Z=function(b,a,c){return m(R.g?R.g(Ci,a):R.call(null,Ci,a))?new ho(c,this.o,this.j,null):new ho(this.Ea,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[Ci,this.Ea],null)],null),this.j))};f.T=function(b,a){return new ho(this.Ea,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};function io(b,a,c,d,e){this.ba=b;this.Xb=a;this.o=c;this.j=d;this.s=e;this.B=2229667594;this.H=8192}f=io.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "attr":return this.ba;case "porrl":return this.Xb;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,T.g(new U(null,2,5,V,[new U(null,2,5,V,[Ak,this.ba],null),new U(null,2,5,V,[wj,this.Xb],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new io(this.ba,this.Xb,this.o,this.j,this.s)};
f.U=function(){return 2+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.gc=function(){return zf(ao(this.ba),1,J,ao(this.Xb))};f.da=function(b,a){return rd(new ud(null,new l(null,2,[wj,null,Ak,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new io(this.ba,this.Xb,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(Ak,a):R.call(null,Ak,a))?new io(c,this.Xb,this.o,this.j,null):m(R.g?R.g(wj,a):R.call(null,wj,a))?new io(this.ba,c,this.o,this.j,null):new io(this.ba,this.Xb,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,2,5,V,[new U(null,2,5,V,[Ak,this.ba],null),new U(null,2,5,V,[wj,this.Xb],null)],null),this.j))};f.T=function(b,a){return new io(this.ba,this.Xb,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};
function jo(b,a){return a instanceof go?M.l(b,ik,!0):zf(b,Nj,we,ao(a))}function ko(b,a,c,d){this.mc=b;this.o=a;this.j=c;this.s=d;this.B=2229667594;this.H=8192}f=ko.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "specs":return this.mc;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.pull-parser.PullPattern{",", ","}",c,T.g(new U(null,1,5,V,[new U(null,2,5,V,[Ij,this.mc],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new ko(this.mc,this.o,this.j,this.s)};f.U=function(){return 1+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};
f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.gc=function(){var b=new $n(!1,Hb(O),null,null,null),b=t(jo,b,this.mc);return new U(null,2,5,V,[Sj,xf(b,Nj,ve)],null)};f.da=function(b,a){return rd(new ud(null,new l(null,1,[Ij,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new ko(this.mc,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(Ij,a):R.call(null,Ij,a))?new ko(c,this.o,this.j,null):new ko(this.mc,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,1,5,V,[new U(null,2,5,V,[Ij,this.mc],null)],null),this.j))};f.T=function(b,a){return new ko(this.mc,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};var lo=new ud(null,new l(null,3,[li,null,"*",null,new y(null,"*","*",345799209,null),null],null),null);
function mo(b){return b instanceof P||"string"===typeof b?ym(b)?new co(zm(b),b,null,null,null):new bo(b,null,null,null):null}var no=new ud(null,new l(null,2,["...",null,new y(null,"...","...",-1926939749,null),null],null),null);function oo(b){return hd(b)&&F.g(3,K(b))}var po=new ud(null,new l(null,3,[new y(null,"limit","limit",284709164,null),null,Ci,null,"limit",null],null),null);
function qo(b){var a=L(b,0),c=L(b,1),d=L(b,2);if(m(po.h?po.h(a):po.call(null,a))){c=(a=null==d||"number"===typeof d&&0<d)?mo(c):a;if(m(c))return new eo(c,d,null,null,null);throw Xh(""+q('Expected ["limit" attr-name (positive-number | nil)]'),new l(null,2,[Tj,jk,Hi,b],null));}return null}var so=new ud(null,new l(null,3,[new y(null,"default","default",-347290801,null),null,Ii,null,"default",null],null),null);
function to(b){var a=L(b,0),c=L(b,1);b=function(){var b=mo(a);return m(b)?b:m(oo(a))?qo(a):null}();if(m(b)){var d=function(){var a;a=m(no.h?no.h(c):no.call(null,c))?new ho(null,null,null,null):"number"===typeof c&&0<c?new ho(c,null,null,null):null;return m(a)?a:uo.h?uo.h(c):uo.call(null,c)}();if(m(d))return new io(b,d,null,null,null);throw Xh(""+q("Expected (pattern | recursion-limit)"),new l(null,2,[Tj,jk,Hi,new U(null,2,5,V,[a,c],null)],null));}throw Xh(""+q("Expected (attr-name | limit-expr)"),
new l(null,2,[Tj,jk,Hi,new U(null,2,5,V,[a,c],null)],null));}
function vo(b){var a=mo(b);if(m(a))return a;a=m(lo.h?lo.h(b):lo.call(null,b))?new go(null,null,null):null;if(m(a))return a;if(id(b)){if(!F.g(1,K(b)))throw Error([q("Assert failed: "),q("Maps should contain exactly 1 entry"),q("\n"),q(Mh(I([ce(new y(null,"\x3d","\x3d",-1501502141,null),1,ce(new y(null,"count","count",-514511684,null),new y(null,"spec","spec",1988051928,null)))],0)))].join(""));a=to(C(b))}else a=null;if(m(a))return a;if(m(oo(b))){if(a=qo(b),!m(a))b:{var c=L(b,0),d=L(b,1),a=L(b,2);if(m(so.h?
so.h(c):so.call(null,c))){c=so.h?so.h(c):so.call(null,c);d=m(c)?mo(d):c;if(m(d)){a=new fo(d,a,null,null,null);break b}throw Xh(""+q('Expected ["default" attr-name any-value]'),new l(null,2,[Tj,jk,Hi,b],null));}a=null}}else a=null;if(m(a))return a;throw Xh(""+q("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)"),new l(null,2,[Tj,jk,Hi,b],null));}function wo(b){return id(b)?ok:m(lo.h?lo.h(b):lo.call(null,b))?ui:Ni}
function xo(b){return of.l(Uc,bf.h(function(a){return J.g(O,a)}),b)}function yo(b){b=Uh(wo,b);var a=m(Fe(Xc(b,ui)))?new U(null,1,5,V,[new y(null,"*","*",345799209,null)],null):Uc;return of.l(of.g(a,Xc(b,Ni)),Me.g(bf.h(xo),Oh),Xc(b,ok))}function uo(b){return hd(b)?new ko(of.l(Uc,bf.h(vo),yo(b)),null,null,null):null}
function zo(b){var a;a=null==b?null:uo(b);a=null==a?null:Wc(ao(a),1);if(m(a))return a;throw Xh(""+q("Cannot parse pull pattern, expected: [attr-spec+]"),new l(null,2,[Tj,jk,Hi,b],null));};function Ao(b,a){return t(we,b,a)}function Bo(b,a,c){return Zc([oi,bj,cj,zj,Ij,ik,pk,yk,Bk],[c,a,yk,new l(null,2,[Uj,O,Aj,vd],null),z(Nj.h(b)),ik.h(b),Hb(O),b,Hb(Uc)])}function Co(b,a,c,d){return M.l(Bo(b,a,c),Ak,d)}function Do(b,a,c){var d=yk.h(b);return M.w(b,bj,a,I([Ij,z(Nj.h(d)),ik,ik.h(d),pk,Hb(O),Bk,function(){var a=Bk.h(b);return z(c)?we.g(a,c):a}()],0))}function Eo(b,a,c){var d=od(b)?ze(Se,b):b,e=Xc(d,Uj),d=Xc(d,Aj);return M.w(b,Uj,xf(e,a,Oe(xc,0)),I([Aj,J.g(d,c)],0))}
function Fo(b,a,c){var d;d=rd(uf(b,new U(null,2,5,V,[zj,Aj],null),vd),c);return m(d)?J.g(a,zf(b,Bk,we,new l(null,1,[Lj,c],null))):null}function Go(b,a){var c=pk.h(a),c=null==c?null:Jb(c);return null==c?null:Xc(c,b)}var Ho=Ne(Go,Yi);function Io(b,a){var c=Ak.h(b),c=Eo(zj.h(b),c,a);return M.l(Co(yk.h(b),new U(null,1,5,V,[a],null),!1,Yi),zj,c)}
function Jo(b){var a=L(b,0);b=Vd(b,1);var c=z(bj.h(a));if(c){var a=Do(a,oc(c),Ho.h?Ho.h(a):Ho.call(null,a)),c=C(c),d=Fo(a,b,c);return m(d)?d:J.w(b,a,I([Io(a,c)],0))}c=Ho.h?Ho.h(a):Ho.call(null,a);d=Bk.h(a);c=z(c)?we.g(d,c):d;return J.g(b,M.w(a,cj,vi,I([Bk,c],0)))}function Ko(b,a,c,d,e){var g=od(d)?ze(Se,d):d,h=Xc(g,zj),g=Xc(g,yk),k=Yc(Xc(h,Uj),b,0);return F.g(zj.h(Xc(Nj.h(g),b)),k)?J.g(e,d):Jo(J.w(e,d,I([new l(null,7,[cj,zj,yk,g,Ak,b,oi,a,bj,c,zj,h,Bk,Hb(Uc)],null)],0)))}
var Lo=function(b){return function(a,c,d,e,g){a=Eo(zj.h(a),d,c);return M.l(Co(b,g,e,d),zj,a)}}(new $n(!0,O,null,null,null));
function Mo(b,a,c,d,e,g,h,k){var p=L(k,0),r=Vd(k,1),u=Yc(h,Ci,1E3),w=Fe(m(u)?of.l(Uc,cf(u),g):g);if(m(w)){var A=pm(b,c,gk),E=mm(b,c),G=E&&pm(b,c,hj),Q=m(e)?function(){return function(a){return a.v}}(A,E,G,u,w,k,p,r):function(){return function(a){return a.e}}(A,E,G,u,w,k,p,r);if(rd(h,Sj))return J.w(r,p,I([Co(Sj.h(h),pf(Q,w),A,a)],0));if(rd(h,zj))return Ko(a,A,pf(Q,w),p,r);if(m(G?e:G))return J.w(r,p,I([Lo(p,d,a,A,pf(Q,w))],0));var S=function(){return E?Me.g(function(){return function(a){return Zc([Lj],
[a])}}(Q,A,E,G,Q,u,w,k,p,r),Q):Q}(),ca=m(e)?!A:G;return J.g(r,Af(p,pk,xe,a,function(){var a=of.l(Uc,bf.h(S),w);return ca?C(a):a}()))}return J.g(r,rd(h,Ii)?Af(p,pk,xe,a,Ii.h(h)):p)}var No=lf(function(b){var a=L(b,0);b=L(b,1);return Ee.g(a,Ak.h(b))});function Oo(b,a,c){return Co(M.w(yk.h(b),Nj,c,I([ik,!1],0)),new U(null,1,5,V,[a],null),!1,mi)}function Po(b,a){return J.g(oc(b),zf(C(b),pk,Ao,Jb(a)))}function Qo(b){var a=L(b,0);b=Vd(b,1);var c=ji.h(a),a=Go(mi,a);return Po(b,Ao(c,m(a)?a:O))}
function Ro(b,a){var c=L(a,0),d=Vd(a,1),e=z(uk.h(c));if(e){var g=C(e),e=L(g,0),g=L(g,1),h=Yc(tf(c,new U(null,2,5,V,[yk,Nj],null)),e,O);return Mo(b,e,e,ck.h(c),!0,g,h,J.g(d,xf(c,uk,oc)))}e=Fe(of.l(O,No,tf(c,new U(null,2,5,V,[yk,Nj],null))));return m(e)?(c=M.w(c,cj,Zi,I([ji,pk.h(c),pk,Hb(O)],0)),J.w(d,c,I([Oo(c,ck.h(c),e)],0))):Po(d,pk.h(c))}
function So(b,a,c,d,e){var g=Uh(function(a){return a.a},Pl(b,nj,new U(null,1,5,V,[d],null))),h=od(a)?ze(Se,a):a,k=Xc(h,Ak),h=Xc(h,zj),k=null!=k?Eo(h,k,d):h;return Ro(b,J.w(c,a,I([new l(null,6,[cj,mk,pk,ue(new l(null,1,[Lj,d],null)),ck,d,yk,e,uk,z(g),zj,k],null)],0)))}
function To(b,a){for(;;){var c=a,d=L(c,0),e=Vd(c,1);if(c=z(bj.h(d))){if(m(ik.h(d))){var g=b,d=M.w(d,Ij,Uc,I([ck,C(c),ik,!1],0)),c=e,h=od(d)?ze(Se,d):d,e=Xc(h,ck),h=Xc(h,yk),k=Fo(d,c,e);return m(k)?k:So(g,d,c,e,h)}if(g=z(Ij.h(d))){h=g;g=C(h);yk.h(d);e=J.g(e,M.l(d,Ij,oc(h)));d=b;h=g;c=C(c);g=L(h,0);h=L(h,1);if(F.g(Lj,g))d=m(Fe(Pl(d,nj,new U(null,1,5,V,[c],null))))?J.g(oc(e),Af(C(e),pk,xe,Lj,c)):e;else var k=Ak.h(h),p=F.g(g,k),r=p?Pl(d,nj,new U(null,2,5,V,[c,k],null)):Pl(d,Ri,new U(null,2,5,V,[k,c],
null)),d=Mo(d,g,k,c,p,r,h,e);return d}g=b;d=J.g(e,Do(d,oc(c),Fe(ve(pk.h(d)))));b=g;a=d}else return J.g(e,M.l(d,cj,vi))}}
function Uo(b,a){for(;;)switch(cj.h(C(a))instanceof P?cj.h(C(a)).aa:null){case "expand":var c=b,d=Ro(b,a);b=c;a=d;continue;case "expand-rev":c=b;d=Qo(a);b=c;a=d;continue;case "pattern":c=b;d=To(b,a);b=c;a=d;continue;case "recursion":c=b;d=Jo(a);b=c;a=d;continue;case "done":var c=a,e=L(c,0),g=Vd(c,1),h=function(){var a=ve(Bk.h(e));return Aa(oi.h(e))?C(a):a}();if(z(g)){c=b;d=J.g(oc(g),function(){var a=C(g);return m(h)?Af(a,pk,xe,Ak.h(e),h):a}());b=c;a=d;continue}else return h;default:throw Error([q("No matching clause: "),
q(cj.h(C(a)))].join(""));}}function Vo(b,a,c,d){c=of.l(Uc,bf.h(function(a){return nm(b,a)}),c);return Uo(b,Oa(pc,Bo(a,c,d)))}function Wo(b,a,c){return Vo(b,zo(a),new U(null,1,5,V,[c],null),!1)}function Xo(b,a,c){return Vo(b,zo(a),c,!0)};var Yo=function Yo(a){if(a?a.$d:a)return a.$d();var c;c=Yo[ba(null==a?null:a)];if(!c&&(c=Yo._,!c))throw Ca("PushbackReader.read-char",a);return c.call(null,a)},Zo=function Zo(a,c){if(a?a.ae:a)return a.ae(0,c);var d;d=Zo[ba(null==a?null:a)];if(!d&&(d=Zo._,!d))throw Ca("PushbackReader.unread",a);return d.call(null,a,c)};function $o(b,a,c){this.ga=b;this.buffer=a;this.ea=c}$o.prototype.$d=function(){return 0===this.buffer.length?(this.ea+=1,this.ga[this.ea]):this.buffer.pop()};
$o.prototype.ae=function(b,a){return this.buffer.push(a)};function ap(b){var a=!/[^\t\n\r ]/.test(b);return m(a)?a:","===b}function bp(b,a){var c;!(c=!/[^0-9]/.test(a))&&(c="+"===a||"-"===a)&&(c=Yo(b),Zo(b,c),c=!/[^0-9]/.test(c));return c}function cp(b){throw Error(ze(q,b));}function dp(b,a){for(var c=new ia(a),d=Yo(b);;){var e;if(!(e=null==d||ap(d))){e=d;var g="#"!==e;e=g?(g="'"!==e)?(g=":"!==e)?ep.h?ep.h(e):ep.call(null,e):g:g:g}if(e)return Zo(b,d),c.toString();c.append(d);d=Yo(b)}}
function fp(b){for(;;){var a=Yo(b);if("\n"===a||"\r"===a||null==a)return b}}var gp=Dh("^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+))(N)?$"),hp=Dh("^([-+]?[0-9]+)/([0-9]+)$"),ip=Dh("^([-+]?[0-9]+(\\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?$"),jp=Dh("^[:]?([^0-9/].*/)?([^0-9/][^/]*)$");function kp(b,a){var c=b.exec(a);return null!=c&&c[0]===a?1===c.length?c[0]:c:null}
function lp(b){if(m(kp(gp,b))){b=kp(gp,b);var a=b[2];if(null!=(F.g(a,"")?null:a))b=0;else{var a=m(b[3])?[b[3],10]:m(b[4])?[b[4],16]:m(b[5])?[b[5],8]:m(b[6])?[b[7],parseInt(b[6],10)]:[null,null],c=a[0];null==c?b=null:(a=parseInt(c,a[1]),b="-"===b[1]?-a:a)}}else m(kp(hp,b))?(b=kp(hp,b),b=parseInt(b[1],10)/parseInt(b[2],10)):b=m(kp(ip,b))?parseFloat(b):null;return b}var mp=Dh("^[0-9A-Fa-f]{2}$"),np=Dh("^[0-9A-Fa-f]{4}$");
function op(b,a,c){return m(Ch(b,c))?c:cp(I(["Unexpected unicode escape \\",a,c],0))}function pp(b){return String.fromCharCode(parseInt(b,16))}
function qp(b){var a=Yo(b),c="t"===a?"\t":"r"===a?"\r":"n"===a?"\n":"\\"===a?"\\":'"'===a?'"':"b"===a?"\b":"f"===a?"\f":null;m(c)?a=c:"x"===a?(b=(new ia(Yo(b),Yo(b))).toString(),a=pp(op(mp,a,b))):"u"===a?(b=(new ia(Yo(b),Yo(b),Yo(b),Yo(b))).toString(),a=pp(op(np,a,b))):a=/[^0-9]/.test(a)?cp(I(["Unexpected unicode escape \\",a],0)):String.fromCharCode(a);return a}function rp(b){for(var a=Yo(b);;){var c;c=a;c=ap.h?ap.h(c):ap.call(null,c);if(m(c))a=Yo(b);else return a}}
function sp(b,a){for(var c=Hb(Uc);;){var d=rp(a);m(d)||cp(I(["EOF while reading"],0));if(b===d)return Jb(c);var e=function(){var a=d;return ep.h?ep.h(a):ep.call(null,a)}();if(m(e))var g=e,e=function(){var b=d;return g.g?g.g(a,b):g.call(null,a,b)}();else Zo(a,d),e=tp.V?tp.V(a,!0,null,!0):tp.call(null,a,!0,null);c=e===a?c:we.g(c,e)}}function up(b,a){return cp(I(["Reader for ",a," not implemented yet"],0))}
function vp(b,a){var c=Yo(b),d=wp.h?wp.h(c):wp.call(null,c);if(m(d))return d.g?d.g(b,a):d.call(null,b,a);d=xp.g?xp.g(b,c):xp.call(null,b,c);return m(d)?d:cp(I(["No dispatch macro for ",c],0))}function yp(b,a){return cp(I(["Unmatched delimiter ",a],0))}function zp(b){return ze(ce,sp(")",b))}function Ap(b){return sp("]",b)}function Bp(b){b=sp("}",b);Ke(K(b))&&cp(I(["Map literal must contain an even number of forms"],0));return ze(Se,b)}
function Cp(b,a){for(var c=new ia(a),d=Yo(b);;){if(m(function(){var a=null==d;if(a||(a=ap(d)))return a;a=d;return ep.h?ep.h(a):ep.call(null,a)}())){Zo(b,d);var e=c.toString(),c=lp(e);return m(c)?c:cp(I(["Invalid number format [",e,"]"],0))}c.append(d);d=e=Yo(b)}}function Dp(b){for(var a=new ia,c=Yo(b);;){if(null==c)return cp(I(["EOF while reading"],0));if("\\"===c)a.append(qp(b));else{if('"'===c)return a.toString();a.append(c)}c=Yo(b)}}
function Ep(b){for(var a=new ia,c=Yo(b);;){if(null==c)return cp(I(["EOF while reading"],0));if("\\"===c){a.append(c);var d=Yo(b);if(null==d)return cp(I(["EOF while reading"],0));var e=function(){var b=a;b.append(d);return b}(),g=Yo(b)}else{if('"'===c)return a.toString();e=function(){var b=a;b.append(c);return b}();g=Yo(b)}a=e;c=g}}
function Fp(b,a){var c=dp(b,a),d=-1!=c.indexOf("/");m(m(d)?1!==c.length:d)?c=nc(c.substring(0,c.indexOf("/")),c.substring(c.indexOf("/")+1,c.length)):(d=mc(c),c="nil"===c?null:"true"===c?!0:"false"===c?!1:"/"===c?new y(null,"/","/",-1371932971,null):d);return c}
function Gp(b){b=dp(b,Yo(b));var a=kp(jp,b);b=a[0];var c=a[1],a=a[2];return void 0!==c&&":/"===c.substring(c.length-2,c.length)||":"===a[a.length-1]||-1!==b.indexOf("::",1)?cp(I(["Invalid token: ",b],0)):null!=c&&0<c.length?he.g(c.substring(0,c.indexOf("/")),a):he.h(b)}function Hp(b){return function(a){return Oa(Oa(pc,tp.V?tp.V(a,!0,null,!0):tp.call(null,a,!0,null)),b)}}function Ip(){return function(){return cp(I(["Unreadable form"],0))}}
function Jp(b){var a;a=tp.V?tp.V(b,!0,null,!0):tp.call(null,b,!0,null);a=a instanceof y?new l(null,1,[ak,a],null):"string"===typeof a?new l(null,1,[ak,a],null):a instanceof P?new sg([a,!0],!0,!1):a;id(a)||cp(I(["Metadata must be Symbol,Keyword,String or Map"],0));return((b=tp.V?tp.V(b,!0,null,!0):tp.call(null,b,!0,null))?b.B&262144||b.ye||(b.B?0:n(pb,b)):n(pb,b))?Nc(b,nh.w(I([cd(b),a],0))):cp(I(["Metadata can only be applied to IWithMetas"],0))}function Kp(b){return sh(sp("}",b))}
function Lp(b){return Dh(Ep(b))}function Mp(b){tp.V?tp.V(b,!0,null,!0):tp.call(null,b,!0,null);return b}function ep(b){return'"'===b?Dp:":"===b?Gp:";"===b?fp:"'"===b?Hp(new y(null,"quote","quote",1377916282,null)):"@"===b?Hp(new y(null,"deref","deref",1494944732,null)):"^"===b?Jp:"`"===b?up:"~"===b?up:"("===b?zp:")"===b?yp:"["===b?Ap:"]"===b?yp:"{"===b?Bp:"}"===b?yp:"\\"===b?Yo:"#"===b?vp:null}function wp(b){return"{"===b?Kp:"\x3c"===b?Ip():'"'===b?Lp:"!"===b?fp:"_"===b?Mp:null}
function tp(b,a,c){for(;;){var d=Yo(b);if(null==d)return m(a)?cp(I(["EOF while reading"],0)):c;if(!ap(d))if(";"===d){var e=function(){var a=b,c=d;return fp.g?fp.g(a,c):fp.call(null,a)}();b=e}else{var g=ep(d),e=m(g)?function(){var a=b,c=d;return g.g?g.g(a,c):g.call(null,a,c)}():bp(b,d)?Cp(b,d):Fp(b,d);if(e!==b)return e}}}
var Np=function(b,a){return function(c,d){return Xc(m(d)?a:b,c)}}(new U(null,13,5,V,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),new U(null,13,5,V,[null,31,29,31,30,31,30,31,31,30,31,30,31],null)),Qp=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function Rp(b){b=parseInt(b,10);return Aa(isNaN(b))?b:null}
function Sp(b,a,c,d){b<=a&&a<=c||cp(I([[q(d),q(" Failed:  "),q(b),q("\x3c\x3d"),q(a),q("\x3c\x3d"),q(c)].join("")],0));return a}
function Tp(b){var a=Ch(Qp,b);L(a,0);var c=L(a,1),d=L(a,2),e=L(a,3),g=L(a,4),h=L(a,5),k=L(a,6),p=L(a,7),r=L(a,8),u=L(a,9),w=L(a,10);if(Aa(a))return cp(I([[q("Unrecognized date/time syntax: "),q(b)].join("")],0));var A=Rp(c),E=function(){var a=Rp(d);return m(a)?a:1}();b=function(){var a=Rp(e);return m(a)?a:1}();var a=function(){var a=Rp(g);return m(a)?a:0}(),c=function(){var a=Rp(h);return m(a)?a:0}(),G=function(){var a=Rp(k);return m(a)?a:0}(),Q=function(){var a;a:if(F.g(3,K(p)))a=p;else if(3<K(p))a=
p.substring(0,3);else for(a=new ia(p);;)if(3>a.dc.length)a=a.append("0");else{a=a.toString();break a}a=Rp(a);return m(a)?a:0}(),r=(F.g(r,"-")?-1:1)*(60*function(){var a=Rp(u);return m(a)?a:0}()+function(){var a=Rp(w);return m(a)?a:0}());return new U(null,8,5,V,[A,Sp(1,E,12,"timestamp month field must be in range 1..12"),Sp(1,b,function(){var a;a=0===Qd(A,4);m(a)&&(a=Aa(0===Qd(A,100)),a=m(a)?a:0===Qd(A,400));return Np.g?Np.g(E,a):Np.call(null,E,a)}(),"timestamp day field must be in range 1..last day in month"),
Sp(0,a,23,"timestamp hour field must be in range 0..23"),Sp(0,c,59,"timestamp minute field must be in range 0..59"),Sp(0,G,F.g(c,59)?60:59,"timestamp second field must be in range 0..60"),Sp(0,Q,999,"timestamp millisecond field must be in range 0..999"),r],null)}
var Up,Vp=new l(null,4,["inst",function(b){var a;if("string"===typeof b)if(a=Tp(b),m(a)){b=L(a,0);var c=L(a,1),d=L(a,2),e=L(a,3),g=L(a,4),h=L(a,5),k=L(a,6);a=L(a,7);a=new Date(Date.UTC(b,c-1,d,e,g,h,k)-6E4*a)}else a=cp(I([[q("Unrecognized date/time syntax: "),q(b)].join("")],0));else a=cp(I(["Instance literal expects a string for its timestamp."],0));return a},"uuid",function(b){return"string"===typeof b?new Vh(b,null):cp(I(["UUID literal expects a string as its representation."],0))},"queue",function(b){return jd(b)?
of.g(cg,b):cp(I(["Queue literal expects a vector for its elements."],0))},"js",function(b){if(jd(b)){var a=[];b=z(b);for(var c=null,d=0,e=0;;)if(e<d){var g=c.ha(null,e);a.push(g);e+=1}else if(b=z(b))c=b,kd(c)?(b=Pb(c),e=Qb(c),c=b,d=K(b),b=e):(b=C(c),a.push(b),b=D(c),c=null,d=0),e=0;else break;return a}if(id(b)){a={};b=z(b);c=null;for(e=d=0;;)if(e<d){var h=c.ha(null,e),g=L(h,0),h=L(h,1);a[ie(g)]=h;e+=1}else if(b=z(b))kd(b)?(d=Pb(b),b=Qb(b),c=d,d=K(d)):(d=C(b),c=L(d,0),d=L(d,1),a[ie(c)]=d,b=D(b),c=
null,d=0),e=0;else break;return a}return cp(I([[q("JS literal expects a vector or map containing "),q("only string or unqualified keyword keys")].join("")],0))}],null);Up=Re?Re(Vp):Qe.call(null,Vp);var Wp=Re?Re(null):Qe.call(null,null);
function xp(b,a){var c=Fp(b,a),d=Xc(H.h?H.h(Up):H.call(null,Up),""+q(c)),e=H.h?H.h(Wp):H.call(null,Wp);return m(d)?(c=tp(b,!0,null),d.h?d.h(c):d.call(null,c)):m(e)?(d=tp(b,!0,null),e.g?e.g(c,d):e.call(null,c,d)):cp(I(["Could not find tag parser for ",""+q(c)," in ",Mh(I([ng(H.h?H.h(Up):H.call(null,Up))],0))],0))}function Xp(b,a){var c=""+q(b);Xc(H.h?H.h(Up):H.call(null,Up),c);We.V(Up,M,c,a)};function Yp(b,a){if(!(b?m(m(null)?null:b.cd)||(b.zb?0:n(Ql,b)):n(Ql,b)))throw Error([q("Assert failed: "),q(Mh(I([ce(new y(null,"satisfies?","satisfies?",-433227199,null),new y("dc","IDB","dc/IDB",-1264384990,null),new y(null,"db","db",-1661185010,null))],0)))].join(""));if(!(b?m(m(null)?null:b.zd)||(b.zb?0:n(Ml,b)):n(Ml,b)))throw Error([q("Assert failed: "),q(Mh(I([ce(new y(null,"satisfies?","satisfies?",-433227199,null),new y("dc","ISearch","dc/ISearch",-1142016324,null),new y(null,"db","db",-1661185010,
null))],0)))].join(""));if(!(b?m(m(null)?null:b.be)||(b.zb?0:n(Ol,b)):n(Ol,b)))throw Error([q("Assert failed: "),q(Mh(I([ce(new y(null,"satisfies?","satisfies?",-433227199,null),new y("dc","IIndexAccess","dc/IIndexAccess",565219582,null),new y(null,"db","db",-1661185010,null))],0)))].join(""));var c;c="number"===typeof a||hd(a)?qm(b,a):null;if(m(c)){var d=new Xe(!1),e=new Xe(O);return Zp.V?Zp.V(b,c,d,e):Zp.call(null,b,c,d,e)}return null}
function $p(b,a,c){return pm(b,a,gk)?mm(b,a)?t(function(a,c){return J.g(a,Yp(b,qi.h(c)))},vd,c):t(function(a,b){return J.g(a,qi.h(b))},vd,c):mm(b,a)?Yp(b,qi.h(C(c))):qi.h(C(c))}function aq(b,a,c,d){a=Fe(Nl(b,new U(null,3,5,V,[null,c,a],null)));return m(a)?pm(b,c,hj)?Yp(b,kj.h(C(a))):t(function(){return function(a,c){return J.g(a,Yp(b,kj.h(c)))}}(a,a),vd,a):d}function bq(b){return m(b)?Ad(b):null}
function cq(b){dq.h?dq.h(b):dq.call(null,b);return function c(d){return new je(null,function(){for(;;){var e=z(d);if(e){if(kd(e)){var g=Pb(e),h=K(g),k=ne(h);a:for(var p=0;;)if(p<h){var r=v.g(g,p),u=L(r,0),r=L(r,1),u=pm(b.db,u,gk)?new U(null,2,5,V,[u,bq(r)],null):new U(null,2,5,V,[u,r],null);k.add(u);p+=1}else{g=!0;break a}return g?pe(k.la(),c(Qb(e))):pe(k.la(),null)}g=C(e);k=L(g,0);g=L(g,1);return Lc(pm(b.db,k,gk)?new U(null,2,5,V,[k,bq(g)],null):new U(null,2,5,V,[k,g],null),c(oc(e)))}return null}},
null,null)}(function(){var c=b.Da;return H.h?H.h(c):H.call(null,c)}())}function eq(b,a,c,d){this.db=b;this.eid=a;this.Md=c;this.Da=d;this.B=2162164483;this.H=0}f=eq.prototype;f.entry_set=function(){return Ad(bf.g(Ad,cq(this)))};
f.forEach=function(){function b(a,b){for(var c=z(cq(this)),h=null,k=0,p=0;;)if(p<k){var r=h.ha(null,p),u=L(r,0),r=L(r,1);a.call(b,r,u,this);p+=1}else if(c=z(c))kd(c)?(h=Pb(c),c=Qb(c),u=h,k=K(h),h=u):(h=C(c),u=L(h,0),r=L(h,1),a.call(b,r,u,this),c=D(c),h=null,k=0),p=0;else return null}function a(a){for(var b=z(cq(this)),c=null,h=0,k=0;;)if(k<h){var p=c.ha(null,k),r=L(p,0),p=L(p,1);a.l?a.l(p,r,this):a.call(null,p,r,this);k+=1}else if(b=z(b))kd(b)?(c=Pb(b),b=Qb(b),r=c,h=K(c),c=r):(c=C(b),r=L(c,0),c=p=
L(c,1),a.l?a.l(c,r,this):a.call(null,c,r,this),b=D(b),c=null,h=0),k=0;else return null}var c=null,c=function(c,e){switch(arguments.length){case 1:return a.call(this,c);case 2:return b.call(this,c,e)}throw Error("Invalid arity: "+arguments.length);};c.h=a;c.g=b;return c}();f.get=function(b){if(F.g(b,":db/id"))return this.eid;if(ym(b))return bq(aq(this.db,this.eid,zm(b),null));var a=fq?fq(this,b):gq.call(null,this,b);return pm(this.db,b,gk)?bq(a):a};f.key_set=function(){return Ad(ng(this))};
f.entries=function(){return hg(cq(this))};f.value_set=function(){return Ad(bf.g(Rc,cq(this)))};f.toString=function(){return Xb(this)};f.keys=function(){return rc(ng(this))};f.values=function(){return rc(bf.g(Rc,cq(this)))};f.equiv=function(b){return hq.g?hq.g(this,b):hq.call(null,this,b)};f.has=function(b){return null!=this.get(b)};f.G=function(b,a){return hq.g?hq.g(this,a):hq.call(null,this,a)};f.M=function(){return hc(this.eid)};
f.R=function(){dq.h?dq.h(this):dq.call(null,this);var b;b=this.Da;b=H.h?H.h(b):H.call(null,b);return z(b)};f.U=function(){dq.h?dq.h(this):dq.call(null,this);var b;b=this.Da;b=H.h?H.h(b):H.call(null,b);return K(b)};f.J=function(b,a){return iq?iq(this,a,null):gq.call(null,this,a,null)};f.I=function(b,a,c){return iq?iq(this,a,c):gq.call(null,this,a,c)};f.qc=function(b,a){return Ee.g(Rj,iq?iq(this,a,Rj):gq.call(null,this,a,Rj))};
f.call=function(){function b(a,b,c){return iq?iq(this,b,c):gq.call(null,this,b,c)}function a(a,b){return fq?fq(this,b):gq.call(null,this,b)}var c=null,c=function(c,e,g){switch(arguments.length){case 2:return a.call(this,0,e);case 3:return b.call(this,0,e,g)}throw Error("Invalid arity: "+arguments.length);};c.g=a;c.l=b;return c}();f.apply=function(b,a){return this.call.apply(this,[this].concat(Fa(a)))};f.h=function(b){return fq?fq(this,b):gq.call(null,this,b)};
f.g=function(b,a){return iq?iq(this,b,a):gq.call(null,this,b,a)};f.K=function(b,a,c){var d=this;return Fb(M.l(function(){var a=d.Da;return H.h?H.h(a):H.call(null,a)}(),Lj,d.eid),a,c)};function Zp(b,a,c,d){return new eq(b,a,c,d)}function hq(b,a){return a instanceof eq&&F.g(b.eid,a.eid)}
function gq(){switch(arguments.length){case 2:return fq(arguments[0],arguments[1]);case 3:return iq(arguments[0],arguments[1],arguments[2]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}}function fq(b,a){return iq(b,a,null)}
function iq(b,a,c){if(F.g(a,Lj))return b.eid;if(ym(a))return aq(b.db,b.eid,zm(a),c);var d=function(){var a=b.Da;return H.h?H.h(a):H.call(null,a)}().call(null,a);if(m(d))return d;if(m(function(){var a=b.Md;return H.h?H.h(a):H.call(null,a)}()))return c;d=Fe(Nl(b.db,new U(null,2,5,V,[b.eid,a],null)));m(d)&&(c=$p(b.db,a,d),Ye(b.Da,M.l(function(){var a=b.Da;return H.h?H.h(a):H.call(null,a)}(),a,c)));return c}
function jq(b,a){return Cd(function(a,d,e){return M.l(a,d,pm(b,d,hj)?pm(b,d,gk)?sh(bf.g(dq,e)):dq.h?dq.h(e):dq.call(null,e):e)},O,a)}function kq(b,a){return t(function(a,d){var e=tk.h(C(d));return M.l(a,e,$p(b,e,d))},O,Bh(tk,a))}function dq(b){var a;a=b.Md;a=H.h?H.h(a):H.call(null,a);m(a)||(a=Fe(Nl(b.db,new U(null,1,5,V,[b.eid],null))),m(a)&&(a=jq(b.db,kq(b.db,a)),Ub(b.Da,a),Ub(b.Md,!0)));return b}fa("datascript.impl.entity.Entity.prototype.get",eq.prototype.get);
fa("datascript.impl.entity.Entity.prototype.has",eq.prototype.has);fa("datascript.impl.entity.Entity.prototype.forEach",eq.prototype.forEach);fa("datascript.impl.entity.Entity.prototype.key_set",eq.prototype.key_set);fa("datascript.impl.entity.Entity.prototype.value_set",eq.prototype.value_set);fa("datascript.impl.entity.Entity.prototype.entry_set",eq.prototype.entry_set);fa("datascript.impl.entity.Entity.prototype.keys",eq.prototype.keys);fa("datascript.impl.entity.Entity.prototype.values",eq.prototype.values);
fa("datascript.impl.entity.Entity.prototype.entries",eq.prototype.entries);fa("cljs.core.ES6Iterator.prototype.next",qc.prototype.next);fa("cljs.core.ES6EntriesIterator.prototype.next",gg.prototype.next);function lq(b,a,c,d,e,g){this.$b=b;this.ac=a;this.rules=c;this.o=d;this.j=e;this.s=g;this.B=2229667594;this.H=8192}f=lq.prototype;f.J=function(b,a){return x.l(this,a,null)};f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "rels":return this.$b;case "sources":return this.ac;case "rules":return this.rules;default:return Yc(this.j,a,c)}};
f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.query.Context{",", ","}",c,T.g(new U(null,3,5,V,[new U(null,2,5,V,[sj,this.$b],null),new U(null,2,5,V,[Si,this.ac],null),new U(null,2,5,V,[lj,this.rules],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new lq(this.$b,this.ac,this.rules,this.o,this.j,this.s)};f.U=function(){return 3+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};
f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,3,[Si,null,lj,null,sj,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new lq(this.$b,this.ac,this.rules,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(sj,a):R.call(null,sj,a))?new lq(c,this.ac,this.rules,this.o,this.j,null):m(R.g?R.g(Si,a):R.call(null,Si,a))?new lq(this.$b,c,this.rules,this.o,this.j,null):m(R.g?R.g(lj,a):R.call(null,lj,a))?new lq(this.$b,this.ac,c,this.o,this.j,null):new lq(this.$b,this.ac,this.rules,this.o,M.l(this.j,a,c),null)};
f.R=function(){return z(T.g(new U(null,3,5,V,[new U(null,2,5,V,[sj,this.$b],null),new U(null,2,5,V,[Si,this.ac],null),new U(null,2,5,V,[lj,this.rules],null)],null),this.j))};f.T=function(b,a){return new lq(this.$b,this.ac,this.rules,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};function mq(b,a,c,d,e){this.Ma=b;this.nc=a;this.o=c;this.j=d;this.s=e;this.B=2229667594;this.H=8192}f=mq.prototype;f.J=function(b,a){return x.l(this,a,null)};
f.I=function(b,a,c){switch(a instanceof P?a.aa:null){case "attrs":return this.Ma;case "tuples":return this.nc;default:return Yc(this.j,a,c)}};f.K=function(b,a,c){return W(a,function(){return function(b){return W(a,X,""," ","",c,b)}}(this),"#datascript.query.Relation{",", ","}",c,T.g(new U(null,2,5,V,[new U(null,2,5,V,[Nj,this.Ma],null),new U(null,2,5,V,[ei,this.nc],null)],null),this.j))};f.S=function(){return this.o};f.Y=function(){return new mq(this.Ma,this.nc,this.o,this.j,this.s)};
f.U=function(){return 2+K(this.j)};f.M=function(){var b=this.s;return null!=b?b:this.s=b=Xd(this)};f.G=function(b,a){var c;c=m(a)?(c=this.constructor===a.constructor)?fg(this,a):c:a;return m(c)?!0:!1};f.da=function(b,a){return rd(new ud(null,new l(null,2,[ei,null,Nj,null],null),null),a)?N.g(Nc(of.g(O,this),this.o),a):new mq(this.Ma,this.nc,this.o,Fe(N.g(this.j,a)),null)};
f.Z=function(b,a,c){return m(R.g?R.g(Nj,a):R.call(null,Nj,a))?new mq(c,this.nc,this.o,this.j,null):m(R.g?R.g(ei,a):R.call(null,ei,a))?new mq(this.Ma,c,this.o,this.j,null):new mq(this.Ma,this.nc,this.o,M.l(this.j,a,c),null)};f.R=function(){return z(T.g(new U(null,2,5,V,[new U(null,2,5,V,[Nj,this.Ma],null),new U(null,2,5,V,[ei,this.nc],null)],null),this.j))};f.T=function(b,a){return new mq(this.Ma,this.nc,a,this.j,this.s)};f.W=function(b,a){return jd(a)?$a(this,v.g(a,0),v.g(a,1)):t(Oa,this,a)};
function nq(b,a){return Jm.g(sh(ng(b)),sh(ng(a)))}function oq(b){return of.l(Uc,Oh,b)}
var pq=function pq(a,c){return F.g(new y(null,"_","_",-1201019570,null),a)?!0:F.g(new U(null,1,5,V,[new y(null,"*","*",345799209,null)],null),a)?hd(c):a instanceof y?F.g(c,a):hd(a)?F.g(Tc(a),new y(null,"*","*",345799209,null))?hd(c)&&Ge(function(a){var c=L(a,0);a=L(a,1);return pq(c,a)},bf.l(Sf,uh(a),c)):hd(c)&&F.g(K(c),K(a))&&Ge(function(a){var c=L(a,0);a=L(a,1);return pq(c,a)},bf.l(Sf,a,c)):a.h?a.h(c):a.call(null,c)};function qq(b){return b instanceof y&&F.g("$",C(ie(b)))}
function rq(b){return b instanceof y&&F.g("?",C(ie(b)))}function sq(b){return b instanceof P||"string"===typeof b}function tq(b){return pq(new U(null,2,5,V,[sq,new y(null,"_","_",-1201019570,null)],null),b)}function uq(b,a,c,d){for(var e=a.length,g=d.length,h=Array(e+g),k=0;;)if(k<e)h[k]=b[a[k]],k+=1;else break;for(b=0;;)if(b<g)h[e+b]=c[d[b]],b+=1;else break;return h}function vq(b,a){return new mq(Nj.h(b),T.g(ei.h(b),ei.h(a)),null,null,null)}
var wq=function wq(){switch(arguments.length){case 0:return wq.X();case 2:return wq.g(arguments[0],arguments[1]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};wq.X=function(){return new mq(O,new U(null,1,5,V,[[]],null),null,null,null)};
wq.g=function(b,a){var c=ng(Nj.h(b)),d=ng(Nj.h(a)),e=Ad(bf.g(Nj.h(b),c)),g=Ad(bf.g(Nj.h(a),d));return new mq(vh(T.g(c,d),sf()),ve(t(function(b,c,d,e){return function(g,w){return t(function(a,b,c,d){return function(a,b){return we.g(a,uq(w,c,b,d))}}(b,c,d,e),g,ei.h(a))}}(c,d,e,g),Hb(Uc),ei.h(b))),null,null,null)};wq.O=2;var xq=function xq(){return xq.w(0<arguments.length?new B(Array.prototype.slice.call(arguments,0),0):null)};xq.w=function(b){var a=K(b);return Ee.g(df(a/2,b),ef(a/2,b))};xq.O=0;
xq.N=function(b){return xq.w(z(b))};var yq=function yq(){return yq.w(arguments[0],arguments[1],2<arguments.length?new B(Array.prototype.slice.call(arguments,2),0):null)};yq.w=function(b,a,c){return t(function(c,e){var g=C(Nl(b,new U(null,2,5,V,[a,e],null)));m(g)?(g=qi.h(g),g=new yc(g)):g=null;return g},null,c)};yq.O=2;yq.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return yq.w(a,b,c)};
var zq=Zc([new y(null,"true?","true?",-1600332395,null),new y(null,"odd?","odd?",-1458588199,null),new y(null,"get-else","get-else",1312024065,null),new y(null,"\x3e\x3d","\x3e\x3d",1016916022,null),new y(null,"\x3e","\x3e",1085014381,null),new y(null,"get-some","get-some",409442058,null),new y(null,"nil?","nil?",1612038930,null),new y(null,"inc","inc",324505433,null),new y(null,"/","/",-1371932971,null),new y(null,"quot","quot",-1125214196,null),new y(null,"false?","false?",-1522377573,null),new y(null,
"identity","identity",-1007039734,null),new y(null,"-differ?","-differ?",1465687357,null),new y(null,"\x3c\x3d","\x3c\x3d",1244895369,null),new y(null,"\x3d","\x3d",-1501502141,null),new y(null,"min","min",2085523049,null),new y(null,"+","+",-740910886,null),new y(null,"missing?","missing?",-1710383910,null),new y(null,"ground","ground",-1460862835,null),new y(null,"\x3d\x3d","\x3d\x3d",-234118149,null),new y(null,"max","max",1701898075,null),new y(null,"*","*",345799209,null),new y(null,"zero?",
"zero?",325758897,null),new y(null,"!\x3d","!\x3d",-201205829,null),new y(null,"dec","dec",-766002333,null),new y(null,"vector","vector",-751469611,null),new y(null,"not\x3d","not\x3d",1466536204,null),new y(null,"str","str",-1564826950,null),new y(null,"\x3c","\x3c",993667236,null),new y(null,"-","-",-471816912,null),new y(null,"pos?","pos?",-244377722,null),new y(null,"mod","mod",1510044207,null),new y(null,"rem","rem",664046770,null),new y(null,"even?","even?",-1827825394,null),new y(null,"neg?",
"neg?",-1902175577,null)],[function(b){return!0===b},Ke,function(b,a,c,d){b=C(Nl(b,new U(null,2,5,V,[a,c],null)));return m(b)?qi.h(b):d},Nd,Md,yq,ya,xc,Jd,Rd,function(b){return!1===b},Dd,xq,Ld,F,Pd,Fd,function(b,a,c){return null==Xc(Yp(b,a),c)},Dd,Td,Od,Hd,function(b){return 0===b},Ee,function(b){return b-1},Sf,Ee,q,Kd,Gd,function(b){return 0<b},Qd,function(b,a){return b-a*Rd(b,a)},Ie,Ud]),Aq=function(){function b(b){var e=a(b);return c(function(){return function(a){return function k(b){return new je(null,
function(a){return function(){for(;;){var c=z(b);if(c){if(kd(c)){var d=Pb(c),e=K(d),g=ne(e);a:for(var G=0;;)if(G<e){var Q=v.g(d,G)-a;g.add(Q*Q);G+=1}else{d=!0;break a}return d?pe(g.la(),k(Qb(c))):pe(g.la(),null)}g=C(c)-a;return Lc(g*g,k(oc(c)))}return null}}}(a),null,null)}}(e)(b)}())/K(b)}function a(a){return c(a)/K(a)}function c(a){return t(Fd,0,a)}return Zc([new y(null,"variance","variance",-1522424942,null),new y(null,"count","count",-514511684,null),new y(null,"median","median",-2084869638,null),
new y(null,"sum","sum",1777518341,null),new y(null,"min","min",2085523049,null),new y(null,"max","max",1701898075,null),new y(null,"count-distinct","count-distinct",-1566572514,null),new y(null,"distinct","distinct",-148347594,null),new y(null,"avg","avg",1837937727,null),new y(null,"stddev","stddev",775056588,null),new y(null,"rand","rand",-1745930995,null),new y(null,"sample","sample",1719555128,null)],[b,K,function(a){var b=zd(wd,a);a=K(a);var c=a>>1,h=Wc(b,c);return Ie(a)?(h+Wc(b,c-1))/2:h},c,
function(){function a(b,c){return Rf(t(function(a,c){return K(a)<b?zd(Cl,J.g(a,c)):0>Cl(c,Tc(a))?zd(Cl,J.g(uh(a),c)):a},Uc,c))}function b(a){return t(function(a,b){return 0>Cl(b,a)?b:a},C(a),D(a))}var c=null,c=function(c,g){switch(arguments.length){case 1:return b.call(this,c);case 2:return a.call(this,c,g)}throw Error("Invalid arity: "+arguments.length);};c.h=b;c.g=a;return c}(),function(){function a(b,c){return Rf(t(function(a,c){return K(a)<b?zd(Cl,J.g(a,c)):0<Cl(c,C(a))?zd(Cl,J.g(D(a),c)):a},
Uc,c))}function b(a){return t(function(a,b){return 0<Cl(b,a)?b:a},C(a),D(a))}var c=null,c=function(c,g){switch(arguments.length){case 1:return b.call(this,c);case 2:return a.call(this,c,g)}throw Error("Invalid arity: "+arguments.length);};c.h=b;c.g=a;return c}(),function(a){return K(th.h(a))},Me.g(Rf,th),a,function(a){a=b(a);return Math.sqrt(a)},function(){function a(b,c){return Rf(jf(b,function(){return Wc(c,Th(K(c)))}))}var b=null,b=function(b,c){switch(arguments.length){case 1:return Wc(b,Th(K(b)));
case 2:return a.call(this,b,c)}throw Error("Invalid arity: "+arguments.length);};b.h=function(a){return Wc(a,Th(K(a)))};b.g=a;return b}(),function(a,b){var c=df,h;h=Ad.h?Ad.h(b):Ad.call(null,b);for(var k=Math.random,p=h.length-1;0<p;p--){var r=Math.floor(k()*(p+1)),u=h[p];h[p]=h[r];h[r]=u}h=Rf.h?Rf.h(h):Rf.call(null,h);return Rf(c(a,h))}])}();function Bq(b){b="string"===typeof b?tp(new $o(b,[],-1),!1,null):b;return Uh(Sc,b)}
function Cq(b){var a=pd.h?pd.h(b):pd.call(null,b);return m(a)?a:za.h?za.h(b):za.call(null,b)}function Dq(b){b=bf.g(Qi,Rf(th.h(Pn(b))));return new mq(vh(b,sf()),Uc,null,null,null)}var Eq=function Eq(a,c){if(a?a.Qc:a)return a.Qc(a,c);var d;d=Eq[ba(null==a?null:a)];if(!d&&(d=Eq._,!d))throw Ca("IBinding.in-\x3erel",a);return d.call(null,a,c)};jn.prototype.Qc=function(){return wq.X()};
kn.prototype.Qc=function(b,a){var c=new sg([tf(this,new U(null,2,5,V,[wi,Qi],null)),0],!0,!1),d;d=Ga(new U(null,1,5,V,[a],null));return new mq(c,new U(null,1,5,V,[d],null),null,null,null)};mn.prototype.Qc=function(b,a){if(Aa(Cq(a)))throw Xh([q("Cannot bind value "),q(Mh(I([a],0))),q(" to collection "),q(Mh(I([Um(this)],0)))].join(""),new l(null,3,[Tj,Ui,Wi,a,uj,Um(this)],null));return ed(a)?Dq(this):Bd(vq,bf.g(function(a){return function(b){return Eq(uj.h(a),b)}}(this),a))};
ln.prototype.Qc=function(b,a){if(Aa(Cq(a)))throw Xh([q("Cannot bind value "),q(Mh(I([a],0))),q(" to tuple "),q(Mh(I([Um(this)],0)))].join(""),new l(null,3,[Tj,Ui,Wi,a,uj,Um(this)],null));if(K(a)<K(Oi.h(this)))throw Xh([q("Not enough elements in a collection "),q(Mh(I([a],0))),q(" to bind tuple "),q(Mh(I([Um(this)],0)))].join(""),new l(null,3,[Tj,Ui,Wi,a,uj,Um(this)],null));return Bd(wq,bf.l(function(){return function(a,b){return Eq(a,b)}}(this),Oi.h(this),a))};
function Fq(b,a){var c=L(a,0),d=L(a,1);return c instanceof kn&&wi.h(c)instanceof Xm?wf.ma(b,new U(null,1,5,V,[Si],null),M,tf(c,new U(null,2,5,V,[wi,Qi],null)),d):c instanceof kn&&wi.h(c)instanceof Zm?M.l(b,lj,Bq(d)):wf.V(b,new U(null,1,5,V,[sj],null),J,Eq(c,d))}function Gq(b,a,c){return t(Fq,b,vh(a,c))}var Hq=null,Iq=null;
function Jq(b,a){var c=b.h?b.h(a):b.call(null,a);return null!=Hq&&rd(Hq,a)?function(a){return function(b){b=b[a];return"number"===typeof b?b:qm(Iq,b)}}(c):function(a){return function(b){return b[a]}}(c)}function Kq(b){return 1===K(b)?C(b):function(a){return function(b){return te(a.map(function(){return function(a){return a.h?a.h(b):a.call(null,b)}}(a)))}}(Ad(b))}
function Lq(b,a){for(var c=a,d=Hb(O);;){var e=C(c);if(m(e)){var g;g=e;g=b.h?b.h(g):b.call(null,g);c=D(c);d=xe.l(d,g,J.g(Yc(d,g,pc),e))}else return Jb(d)}}
function Mq(b,a){var c=ei.h(b),d=ei.h(a),e=Nj.h(b),g=Nj.h(a),h=Rf(nq(Nj.h(b),Nj.h(a))),k=bf.g(function(a,b,c){return function(a){return Jq(c,a)}}(c,d,e,g,h),h),p=bf.g(function(a,b,c,d){return function(a){return Jq(d,a)}}(c,d,e,g,h,k),h),r=ng(e),u=Rf(Km.g(sh(ng(g)),sh(ng(e)))),w=Ad(bf.g(e,r)),A=Ad(bf.g(g,u)),E=Kq(k),G=Lq(E,c),Q=Kq(p),c=ve(t(function(a,b,c,d,e,g,h,k,p,r,u,w,A,G){return function(E,Q){var ic=G.h?G.h(Q):G.call(null,Q),Zb=Xc(A,ic);return m(Zb)?t(function(a,b,c,d,e,g,h,k,p,r,u,w,A,G){return function(a,
b){return we.g(a,uq(b,A,Q,G))}}(Zb,Zb,ic,a,b,c,d,e,g,h,k,p,r,u,w,A,G),E,Zb):E}}(c,d,e,g,h,k,p,r,u,w,A,E,G,Q),Hb(Uc),d));return new mq(vh(T.g(r,u),sf()),c,null,null,null)}function Nq(b,a){var c=pf(function(a){return a instanceof y?null:a},a),d=Nl(b,c),c=of.g(O,mf(function(){return function(a){var b=L(a,0);L(a,1);return rq(b)}}(c,d),bf.l(Sf,a,new U(null,4,5,V,["e","a","v","tx"],null))));return new mq(c,d,null,null,null)}
function Oq(b,a){var c=mf(function(b){a:for(var c=a;;){var d=b;if(m(m(d)?c:d)){var d=C(b),k=C(c);if(k instanceof y||F.g(d,k))b=D(b),c=D(c);else{b=!1;break a}}else{b=!0;break a}}return b},b),d=of.g(O,mf(function(){return function(a){var b=L(a,0);L(a,1);return rq(b)}}(c),bf.l(Sf,a,sf())));return new mq(d,bf.g(Ad,c),null,null,null)}function Pq(b){return m(qq(C(b)))?b:T.g(new U(null,1,5,V,[new y(null,"$","$",-1580747756,null)],null),b)}
function Qq(b,a){return(b?m(m(null)?null:b.zd)||(b.zb?0:n(Ml,b)):n(Ml,b))?Nq(b,a):Oq(b,a)}function Rq(b,a){for(var c=b,d=a,e=Uc;;){var g=C(c);if(m(g))m(Fe(nq(Nj.h(d),Nj.h(g))))?(c=D(c),d=Mq(g,d)):(c=D(c),e=J.g(e,g));else return J.g(e,d)}}function Sq(b,a){var c=He(function(b){return rd(Nj.h(b),a)?b:null},sj.h(b));if(m(c)){var d=C(ei.h(c));return m(d)?d[Nj.h(c).call(null,a)]:null}return null}
function Tq(b,a){var c=mf(function(b){return!ed(Jm.g(sh(a),sh(ng(Nj.h(b)))))},sj.h(b)),d=Bd(wq,c);return new U(null,2,5,V,[wf.l(b,new U(null,1,5,V,[sj],null),function(a){return function(b){return nf(sh(a),b)}}(c,d)),d],null)}function Uq(b,a,c,d){return function(e){var g=bf.g(function(c){if(c instanceof y){var d=Xc(Si.h(b),c);return m(d)?d:e[Xc(Nj.h(a),c)]}return c},d);return ze(c,g)}}
function Vq(b,a){var c=L(a,0),d=L(c,0),e=Vd(c,1),g=function(){var a=Xc(zq,d);return m(a)?a:Sq(b,d)}(),h=Tq(b,mf(kc,e)),k=L(h,0),p=L(h,1),r=m(g)?function(){return wf.l(p,new U(null,1,5,V,[ei],null),function(a){return function(b){return mf(a,b)}}(Uq(k,p,g,e),a,c,d,e,g,h,k,p))}():M.l(p,new U(null,1,5,V,[ei],null),Uc);return wf.V(k,new U(null,1,5,V,[sj],null),J,r)}
function Wq(b,a){var c=L(a,0),d=L(c,0),e=Vd(c,1),g=L(a,1),h=pn(g),k=function(){var a=Xc(zq,d);return m(a)?a:Sq(b,d)}(),p=Tq(b,mf(kc,e)),r=L(p,0),u=L(p,1),w=m(k)?function(){var b=Uq(r,u,k,e),w=Fe(ei.h(u));return m(w)?Bd(vq,bf.g(function(a,b,c,d,e,g,h,k,p,r,u,w,A){return function(a){var b=c.h?c.h(a):c.call(null,a),b=Eq(p,b);return wq.g(new mq(Nj.h(A),new U(null,1,5,V,[a],null),null,null,null),b)}}(w,w,b,a,c,d,e,g,h,k,p,r,u),w)):wq.g(u,Dq(h))}():wq.g(M.l(u,new U(null,1,5,V,[ei],null),Uc),Dq(h));return wf.V(r,
new U(null,1,5,V,[sj],null),J,w)}function Xq(b,a){return hd(a)&&rd(lj.h(b),m(qq(C(a)))?Rc(a):C(a))}var Yq=Re?Re(0):Qe.call(null,0);
function Zq(b,a){var c=L(b,0),d=Vd(b,1),e=We.g(Yq,xc),g=Xc(lj.h(a),c);return function(a,b,c,d,e){return function A(g){return new je(null,function(a,b,c,d,e){return function(){for(;;){var h=z(g);if(h){var k=h;if(kd(k)){var p=Pb(k),r=K(p),u=ne(r);return function(){for(var g=0;;)if(g<r){var A=v.g(p,g),E=A,va=L(E,0),Pa=L(va,0),zb=Vd(va,1),Ra=Vd(E,1),Ua=vh(zb,c);qe(u,ql(function(a,b,c,d,e,g,h,k,p,r,u,A,G,E,Q,S,ca){return function(a){if(m(rq(a))){var b=h.h?h.h(a):h.call(null,a);return m(b)?b:mc([q(ie(a)),
q("__auto__"),q(ca)].join(""))}return a}}(g,E,va,Pa,zb,Ra,Ua,A,p,r,u,k,h,a,b,c,d,e),Ra));g+=1}else return!0}()?pe(u.la(),A(Qb(k))):pe(u.la(),null)}var Pa=C(k),va=Pa,Ra=L(va,0),yb=L(Ra,0),Ua=Vd(Ra,1),zb=Vd(va,1),Yb=vh(Ua,c);return Lc(ql(function(a,b,c,d,e,g,h,k,p,r,u,A,G){return function(a){if(m(rq(a))){var b=g.h?g.h(a):g.call(null,a);return m(b)?b:mc([q(ie(a)),q("__auto__"),q(G)].join(""))}return a}}(va,Ra,yb,Ua,zb,Yb,Pa,k,h,a,b,c,d,e),zb),A(oc(k)))}return null}}}(a,b,c,d,e),null,null)}}(b,c,d,e,
g)(g)}function $q(b,a){var c=nf(function(a){var b=L(a,0);a=L(a,1);return F.g(b,a)},bf.l(Sf,b,a));return new U(null,2,5,V,[bf.g(C,c),bf.g(Rc,c)],null)}
function ar(b,a){var c=L(b,0),d=Vd(b,1),e=Xc(a,c);return function(a,b,c,d){return function u(e){return new je(null,function(a,b,c){return function(){for(;;){var a=z(e);if(a){if(kd(a)){var b=Pb(a),d=K(b),g=ne(d);a:for(var h=0;;)if(h<d){var k=v.g(b,h),p=$q(c,k),k=L(p,0),p=L(p,1),k=new U(null,1,5,V,[T.w(new U(null,1,5,V,[new y(null,"-differ?","-differ?",1465687357,null)],null),k,I([p],0))],null);g.add(k);h+=1}else{b=!0;break a}return b?pe(g.la(),u(Qb(a))):pe(g.la(),null)}g=C(a);b=$q(c,g);g=L(b,0);b=
L(b,1);return Lc(new U(null,1,5,V,[T.w(new U(null,1,5,V,[new y(null,"-differ?","-differ?",1465687357,null)],null),g,I([b],0))],null),u(oc(a)))}return null}}}(a,b,c,d),null,null)}}(b,c,d,e)(e)}function br(b){var a=function(){var a=Uc;return Re?Re(a):Qe.call(null,a)}();ql(function(a){return function(b){m(rq.h?rq.h(b):rq.call(null,b))&&We.l(a,J,b);return b}}(a),b);return H.h?H.h(a):H.call(null,a)}
function cr(b,a){var c=function(a){return function(b){b=L(b,0);L(b,0);b=Vd(b,1);return Ge(a,b)}}(sh(br(b)));return new U(null,2,5,V,[mf(c,a),nf(c,a)],null)}
function dr(b,a){for(var c=mf(rq,a),d=vh(c,sf()),e=function(){return function(a,b){return t(er,a,b)}}(c,d),g=function(a,b,c){return function(d){return He(function(){return function(a){return ed(ei.h(a))}}(a,b,c),sj.h(d))}}(c,d,e),h=Oa(pc,new l(null,5,[lk,Uc,Xi,b,Yj,new U(null,1,5,V,[a],null),Zh,O,Cj,O],null)),k=new mq(d,Uc,null,null,null);;){var p=C(h);if(m(p)){var r=p,u=Ah(function(){return function(a){return Aa(Xq(b,a))}}(h,k,r,p,c,d,e,g),Yj.h(r)),w=L(u,0),A=L(u,1),E=L(A,0),G=Vd(A,1);if(null==E)var Q=
e(Xi.h(r),w),S=function(){var a=Q;return fr?fr(a,c):gr.call(null,a,c)}(),ca=new mq(d,S,null,null,null),S=D(h),ca=vq(k,ca);else{var oa=E,xa=L(oa,0),eb=Vd(oa,1),ob=ar(E,Zh.h(r)),Z=cr(T.g(lk.h(r),w),T.g(ob,Cj.h(r))),jh=L(Z,0),Pa=L(Z,1);if(m(He(function(){return function(a){return F.g(a,new U(null,1,5,V,[ce(new y(null,"-differ?","-differ?",1465687357,null))],null))}}(h,k,oa,xa,eb,ob,Z,jh,Pa,u,w,A,E,G,r,p,c,d,e,g),jh)))S=D(h);else{var va=T.g(w,jh),Ra=e(Xi.h(r),va);if(m(g(Ra)))S=D(h);else var yb=M.l(Zh.h(r),
xa,J.g(Yc(Zh.h(r),xa,Uc),eb)),Ua=Zq(E,b),S=T.g(function(){return function(a,b,c,d,e,g,h,k,p,r,u,w,A,G,E,Q,S,ca,Z,oa,xa,va,Pa,Ra){return function Pp(Ua){return new je(null,function(a,b,c,d,e,g,h,k,p,r,u,w,A,G,E,Q,S,ca){return function(){for(;;){var a=z(Ua);if(a){if(kd(a)){var b=Pb(a),d=K(b),h=ne(d);a:for(var k=0;;)if(k<d){var p=v.g(b,k),p=new l(null,5,[lk,e,Xi,g,Yj,oq(I([p,ca],0)),Zh,c,Cj,A],null);h.add(p);k+=1}else{b=!0;break a}return b?pe(h.la(),Pp(Qb(a))):pe(h.la(),null)}h=C(a);return Lc(new l(null,
5,[lk,e,Xi,g,Yj,oq(I([h,ca],0)),Zh,c,Cj,A],null),Pp(oc(a)))}return null}}}(a,b,c,d,e,g,h,k,p,r,u,w,A,G,E,Q,S,ca,Z,oa,xa,va,Pa,Ra),null,null)}}(h,k,yb,Ua,va,Ra,oa,xa,eb,ob,Z,jh,Pa,u,w,A,E,G,r,p,c,d,e,g)(Ua)}(),D(h))}ca=k}h=S;k=ca}else return k}}
function hr(b,a){if(b?m(m(null)?null:b.cd)||(b.zb?0:n(Ql,b)):n(Ql,b)){var c=L(a,0),d=L(a,1),e=L(a,2),g=L(a,3);return Uf(new U(null,4,5,V,[m(tq(c))?nm(b,c):c,d,m(function(){if(m(e)){var a=sq(d);return m(a)?(a=mm(b,d))?tq(e):a:a}return e}())?nm(b,e):e,m(tq(g))?nm(b,g):g],null),0,K(a))}return a}function ir(b,a){var c=L(a,0),d=L(a,1),e=L(a,2),g=L(a,3),h=vd,c=m(rq(c))?J.g(h,c):h,g=m(rq(g))?J.g(c,g):c,c=rq(e),d=m(c)?Aa(rq(d))&&mm(b,d):c;return m(d)?J.g(g,e):g}
function er(b,a){if(m(function(){var b=new U(null,1,5,V,[new U(null,2,5,V,[kc,new y(null,"*","*",345799209,null)],null)],null);return pq.g?pq.g(b,a):pq.call(null,b,a)}()))return Vq(b,a);if(m(function(){var b=new U(null,2,5,V,[new U(null,2,5,V,[kc,new y(null,"*","*",345799209,null)],null),new y(null,"_","_",-1201019570,null)],null);return pq.g?pq.g(b,a):pq.call(null,b,a)}()))return Wq(b,a);if(m(function(){var b=new U(null,1,5,V,[new y(null,"*","*",345799209,null)],null);return pq.g?pq.g(b,a):pq.call(null,
b,a)}())){var c=Pq(a),d=L(c,0),c=Vd(c,1),d=Xc(Si.h(b),d),c=hr(d,c),e=Qq(d,c),g=d?m(m(null)?null:d.cd)?!0:d.zb?!1:n(Ql,d):n(Ql,d),h=Iq,k=Hq;Iq=g?d:null;Hq=g?ir(d,c):null;try{return wf.V(b,new U(null,1,5,V,[sj],null),Rq,e)}finally{Hq=k,Iq=h}}else throw Error([q("No matching clause: "),q(a)].join(""));}
function jr(b,a){if(m(Xq(b,a))){var c=m(qq(C(a)))?new U(null,2,5,V,[C(a),D(a)],null):new U(null,2,5,V,[new y(null,"$","$",-1580747756,null),a],null),d=L(c,0),c=L(c,1),d=tf(b,new U(null,2,5,V,[Si,d],null)),d=dr(M.l(b,Si,new l(null,1,[new y(null,"$","$",-1580747756,null),d],null)),c);return wf.V(b,new U(null,1,5,V,[sj],null),Rq,d)}return er(b,a)}
function gr(){switch(arguments.length){case 2:return fr(arguments[0],arguments[1]);case 3:return kr(arguments[0],arguments[1],arguments[2]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}}function fr(b,a){var c=sj.h(b),d=kr,e=K(a);return d(new U(null,1,5,V,[Array(e)],null),c,a)}
function kr(b,a,c){for(;;){var d=C(a);if(m(d)){var e=d,g=oh(Nj.h(e),c);if(ed(g))var h=b,k=D(a),p=c;else var r=Ad(bf.g(function(a,b,c,d){return function(a){return Xc(d,a)}}(b,a,c,g,e,d),c)),u=K(c),h=function(){return function(a,b,c,d,e,g,h,k){return function eb(p){return new je(null,function(a,b,c,d,e,g,h,k){return function(){for(var r=p;;){var u=z(r);if(u){var w=u,A=C(w);if(u=z(function(a,b,c,d,e,g,h,k,p,r,u,w){return function Op(A){return new je(null,function(a,b,c,d,e,g,h,k,p){return function(){for(;;){var a=
z(A);if(a){if(kd(a)){var b=Pb(a),c=K(b),d=ne(c);return function(){for(var a=0;;)if(a<c){for(var g=v.g(b,a),h=d,r=Fa(e),u=0;;)if(u<p){var w=k[u];m(w)&&(r[u]=g[w]);u+=1}else break;h.add(r);a+=1}else return!0}()?pe(d.la(),Op(Qb(a))):pe(d.la(),null)}var g=C(a);return Lc(function(){for(var a=Fa(e),b=0;;)if(b<p){var c=k[b];m(c)&&(a[b]=g[c]);b+=1}else break;return a}(),Op(oc(a)))}return null}}}(a,b,c,d,e,g,h,k,p,r,u,w),null,null)}}(r,a,b,c,A,w,u,d,e,g,h,k)(ei.h(h))))return T.g(u,eb(oc(r)));r=oc(r)}else return null}}}(a,
b,c,d,e,g,h,k),null,null)}}(b,a,c,r,u,g,e,d)(b)}(),k=D(a),p=c;b=h;a=k;c=p}else return b}}function lr(b,a){return sh(bf.g(Rf,fr(b,a)))}var mr=function mr(a,c){if(a?a.Rc:a)return a.Rc(a,c);var d;d=mr[ba(null==a?null:a)];if(!d&&(d=mr._,!d))throw Ca("IContextResolve.-context-resolve",a);return d.call(null,a,c)};Wm.prototype.Rc=function(b,a){return Sq(a,this.symbol)};Xm.prototype.Rc=function(b,a){return tf(a,new U(null,2,5,V,[Si,this.symbol],null))};an.prototype.Rc=function(){return Xc(Aq,this.symbol)};
$m.prototype.Rc=function(){return this.value};function nr(b,a,c){return rf(function(b,e,g){if(m(An(b))){e=mr(ri.h(b),a);b=bf.g(function(){return function(b){return mr(b,a)}}(e),uh($h.h(b)));var h=bf.g(function(){return function(a){return Wc(a,g)}}(e,b),c);return ze(e,T.g(b,new U(null,1,5,V,[h],null)))}return e},b,C(c))}function or(b){var a=Le(An);return nf(ya,bf.l(function(b,d){return m(a.h?a.h(b):a.call(null,b))?d:null},b,sf()))}
function pr(b,a,c){var d=or(b),e=function(a){return function(b){return bf.g(function(){return function(a){return Wc(b,a)}}(a),a)}}(d);c=Uh(e,c);return function(c,d,e){return function r(u){return new je(null,function(){return function(){for(;;){var c=z(u);if(c){if(kd(c)){var d=Pb(c),e=K(d),g=ne(e);a:for(var h=0;;)if(h<e){var k=v.g(d,h);L(k,0);k=L(k,1);k=nr(b,a,k);g.add(k);h+=1}else{d=!0;break a}return d?pe(g.la(),r(Qb(c))):pe(g.la(),null)}g=C(c);L(g,0);g=L(g,1);return Lc(nr(b,a,g),r(oc(c)))}return null}}}(c,
d,e),null,null)}}(d,e,c)(c)}var qr=function qr(a,c){if(a?a.Sc:a)return a.Sc(a,c);var d;d=qr[ba(null==a?null:a)];if(!d&&(d=qr._,!d))throw Ca("IPostProcess.-post-process",a);return d.call(null,a,c)};wn.prototype.Sc=function(b,a){return a};xn.prototype.Sc=function(b,a){return of.l(Uc,bf.h(C),a)};yn.prototype.Sc=function(b,a){return Sc(a)};zn.prototype.Sc=function(b,a){return C(a)};
function rr(b,a,c){return function(a){return function g(b){return new je(null,function(a){return function(){for(;;){var c=z(b);if(c){var d=c;if(kd(d)){var u=Pb(d),w=K(u),A=ne(w);return function(){for(var b=0;;)if(b<w){var g=v.g(u,b);qe(A,qf(function(){return function(a,b){if(m(a)){var c=L(a,0),d=L(a,1);return Vo(c,d,new U(null,1,5,V,[b],null),!1)}return b}}(b,g,u,w,A,d,c,a),a,g));b+=1}else return!0}()?pe(A.la(),g(Qb(d))):pe(A.la(),null)}var E=C(d);return Lc(qf(function(){return function(a,b){if(m(a)){var c=
L(a,0),d=L(a,1);return Vo(c,d,new U(null,1,5,V,[b],null),!1)}return b}}(E,d,c,a),a,E),g(oc(d)))}return null}}}(a),null,null)}}(function(){return function e(b){return new je(null,function(){for(;;){var c=z(b);if(c){if(kd(c)){var k=Pb(c),p=K(k),r=ne(p);a:for(var u=0;;)if(u<p){var w=v.g(k,u),w=m(Bn(w))?new U(null,2,5,V,[mr(ej.h(w),a),zo(mr(yk.h(w),a))],null):null;r.add(w);u+=1}else{k=!0;break a}return k?pe(r.la(),e(Qb(c))):pe(r.la(),null)}r=C(c);return Lc(m(Bn(r))?new U(null,2,5,V,[mr(ej.h(r),a),zo(mr(yk.h(r),
a))],null):null,e(oc(c)))}return null}},null,null)}(b)}())(c)}var sr,tr=Yn(O,function(){a:for(var b=z(0<arguments.length?new B(Array.prototype.slice.call(arguments,0),0):null),a=ih;;)if(b)var c=D(D(b)),a=M.l(a,C(b),Rc(b)),b=c;else break a;return a}(),O,0,100);sr=new Xe(tr);
function ur(b){var a=Yc(H.h?H.h(sr):H.call(null,sr),b,null);if(m(a))return a;if(id(b))a=b;else if(hd(b))a=Un(b);else throw Xh(""+q("Query should be a vector or a map"),new l(null,2,[Tj,zk,Zj,b],null));var c=a,a=Dn(bi.h(c)),d=Bj.h(c);if(m(d)){var e=Pm(cn,d);if(m(e))d=e;else throw Xh(""+q("Cannot parse :with clause, expected [ variable+ ]"),new l(null,2,[Tj,yj,Zj,d],null));}else d=null;var e=wk.g(c,new U(null,1,5,V,[new y(null,"$","$",-1580747756,null)],null)),g=Pm(En,e);if(!m(g))throw Xh(""+q("Cannot parse :in clause, expected (src-var | % | bind-scalar | bind-tuple | bind-coll | bind-rel)"),
new l(null,2,[Tj,ai,Zj,e],null));e=g;c=pi.g(c,Uc);g=Pm(af,c);if(!m(g))throw Xh(""+q("Cannot parse :where clause, expected [clause+]"),new l(null,2,[Tj,Di,Zj,c],null));a=new l(null,4,[bi,a,Bj,d,wk,e,pi,g],null);a=new Tn(bi.h(a),Bj.h(a),wk.h(a),pi.h(a),null,N.w(a,bi,I([Bj,wk,pi],0)),null);Vn(a,b);Ub(sr,M.l(lb(sr),b,a));return a}var vr=function vr(){return vr.w(arguments[0],1<arguments.length?new B(Array.prototype.slice.call(arguments,1),0):null)};
vr.w=function(b,a){var c=ur(b),d=bi.h(c),e=vn(d),g=kf(sn,I([vn(d)],0)),h=K(e),k=Bj.h(c),p=T.g(g,bf.g(Qi,k)),r=hd(b)?Un(b):b,u=pi.h(r),w=Gq(new lq(Uc,O,O,null,null,null),wk.h(c),a),A=lr(t(jr,w,u),p),c=m(Bj.h(r))?pf(function(a,b,c,d,e,g){return function(a){return Rf(Uf(a,0,g))}}(A,c,d,e,g,h,k,p,r,u,w,A),A):A,c=m(He(An,e))?pr(e,w,c):c,e=m(He(Bn,e))?rr(e,w,c):c;return qr(d,e)};vr.O=1;vr.N=function(b){var a=C(b);b=D(b);return vr.w(a,b)};var wr=function wr(){switch(arguments.length){case 2:return wr.g(arguments[0],arguments[1]);case 3:return wr.l(arguments[0],arguments[1],arguments[2]);case 4:return wr.V(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return wr.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return wr.Ya(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};
wr.g=function(b,a){return Pl(b,a,Uc)};wr.l=function(b,a,c){return Pl(b,a,new U(null,1,5,V,[c],null))};wr.V=function(b,a,c,d){return Pl(b,a,new U(null,2,5,V,[c,d],null))};wr.ma=function(b,a,c,d,e){return Pl(b,a,new U(null,3,5,V,[c,d,e],null))};wr.Ya=function(b,a,c,d,e,g){return Pl(b,a,new U(null,4,5,V,[c,d,e,g],null))};wr.O=6;
function xr(b,a){var c=Re?Re(null):Qe.call(null,null);We.g(b,function(b){return function(c){if(m(c instanceof am))throw Xh("Filtered DB cannot be modified",new l(null,1,[Tj,fj],null));c=new l(null,5,[qj,c,Fi,c,rj,Uc,ci,O,fk,null],null);c=new om(qj.h(c),Fi.h(c),rj.h(c),ci.h(c),fk.h(c),null,N.w(c,qj,I([Fi,rj,ci,fk],0)),null);c=Gm(c,a);Ue.g?Ue.g(b,c):Ue.call(null,b,c);return Fi.h(c)}}(c));return H.h?H.h(c):H.call(null,c)}
function yr(b,a){var c=xr(b,a),d;d=nk.h(cd(b));d=H.h?H.h(d):H.call(null,d);d=z(d);for(var e=null,g=0,h=0;;)if(h<g){var k=e.ha(null,h);L(k,0);var k=L(k,1),p=c;k.h?k.h(p):k.call(null,p);h+=1}else if(d=z(d))kd(d)?(g=Pb(d),d=Qb(d),e=g,g=K(g)):(e=C(d),L(e,0),e=L(e,1),g=c,e.h?e.h(g):e.call(null,g),d=D(d),e=null,g=0),h=0;else break;return c}
for(var zr=z(new l(null,2,[new y("datascript","Datom","datascript/Datom",-901340080,null),function(b){return ze(zl,b)},new y("datascript","DB","datascript/DB",-487332776,null),function(b){var a=od(b)?ze(Se,b):b,c=Xc(a,di),d=Xc(a,uk);return im(bf.g(function(){return function(a){var b=L(a,0),c=L(a,1),d=L(a,2);a=L(a,3);return new tl(b,c,d,a,!0)}}(b,a,c,d),d),c)}],null)),Ar=null,Br=0,Cr=0;;)if(Cr<Br){var Dr=Ar.ha(null,Cr),Er=L(Dr,0),Fr=L(Dr,1);Xp(Er,Fr);Cr+=1}else{var Gr=z(zr);if(Gr){var Hr=Gr;if(kd(Hr))var Ir=
Pb(Hr),Jr=Qb(Hr),Kr=Ir,Lr=K(Ir),zr=Jr,Ar=Kr,Br=Lr;else{var Mr=C(Hr),Nr=L(Mr,0),Or=L(Mr,1);Xp(Nr,Or);zr=D(Hr);Ar=null;Br=0}Cr=0}else break}Re||Qe.call(null,-1E6);
var Pr=function Pr(a){var c=Re?Re(null):Qe.call(null,null),d=Re?Re(!1):Qe.call(null,!1);setTimeout(function(c,d){return function(){var h=a.X?a.X():a.call(null);Ue.g?Ue.g(c,h):Ue.call(null,c,h);return Ue.g?Ue.g(d,!0):Ue.call(null,d,!0)}}(c,d),0);"undefined"===typeof Ck&&(Ck=function(a,c,d,k,p){this.Be=a;this.Dd=c;this.fe=d;this.He=k;this.Fe=p;this.B=491520;this.H=1},Ck.prototype.T=function(){return function(a,c){return new Ck(this.Be,this.Dd,this.fe,this.He,c)}}(c,d),Ck.prototype.S=function(){return function(){return this.Fe}}(c,
d),Ck.prototype.Ic=function(){return function(){var a=this.fe;return H.h?H.h(a):H.call(null,a)}}(c,d),Ck.Ce=function(){return function(){return new U(null,5,5,V,[new y(null,"future-call","future-call",96010083,null),new y(null,"f","f",43394975,null),new y(null,"res","res",245523648,null),new y(null,"realized","realized",1487343404,null),new y(null,"meta21368","meta21368",-1563891127,null)],null)}}(c,d),Ck.ud=!0,Ck.td="datascript/t21367",Ck.Zd=function(){return function(a,c){return Db(c,"datascript/t21367")}}(c,
d));return new Ck(Pr,a,c,d,O)};function Qr(b){var a=Rr;Pr(function(){return yr(a,b)})}function Sr(b,a){var c=b.toString(16),d=K(c);return d>a?c.substring(0,a):d<a?[q(ze(q,df(a-d,gf("0")))),q(c)].join(""):c};var Tr="undefined"!=typeof Object.keys?function(b){return Object.keys(b)}:function(b){var a=[],c=0,d;for(d in b)a[c++]=d;return a},Ur="undefined"!=typeof Array.isArray?function(b){return Array.isArray(b)}:function(b){return"array"===ba(b)};function Vr(){return Math.round(15*Math.random()).toString(16)};var Wr=1;function Xr(b,a){if(null==b)return null==a;if(b===a)return!0;if("object"===typeof b){if(Ur(b)){if(Ur(a)&&b.length===a.length){for(var c=0;c<b.length;c++)if(!Xr(b[c],a[c]))return!1;return!0}return!1}if(b.gb)return b.gb(a);if(null!=a&&"object"===typeof a){if(a.gb)return a.gb(b);var c=0,d=Tr(a).length,e;for(e in b)if(b.hasOwnProperty(e)&&(c++,!a.hasOwnProperty(e)||!Xr(b[e],a[e])))return!1;return c===d}}return!1}function Yr(b,a){return b^a+2654435769+(b<<6)+(b>>2)}var Zr={},$r=0;
function as(b){var a=0;if(null!=b.forEach)b.forEach(function(b,c){a=(a+(bs(c)^bs(b)))%4503599627370496});else for(var c=Tr(b),d=0;d<c.length;d++)var e=c[d],g=b[e],a=(a+(bs(e)^bs(g)))%4503599627370496;return a}function cs(b){var a=0;if(Ur(b))for(var c=0;c<b.length;c++)a=Yr(a,bs(b[c]));else b.forEach&&b.forEach(function(b){a=Yr(a,bs(b))});return a}
function bs(b){if(null==b)return 0;switch(typeof b){case "number":return b;case "boolean":return!0===b?1:0;case "string":var a=Zr[b];if(null==a){for(var c=a=0;c<b.length;++c)a=31*a+b.charCodeAt(c),a%=4294967296;$r++;256<=$r&&(Zr={},$r=1);Zr[b]=a}b=a;return b;case "function":return a=b.transit$hashCode$,a||(a=Wr,"undefined"!=typeof Object.defineProperty?Object.defineProperty(b,"transit$hashCode$",{value:a,enumerable:!1}):b.transit$hashCode$=a,Wr++),a;default:return b instanceof Date?b.valueOf():Ur(b)?
cs(b):b.mb?b.mb():as(b)}};function ds(b,a){this.za=b|0;this.qa=a|0}var es={};function fs(b){if(-128<=b&&128>b){var a=es[b];if(a)return a}a=new ds(b|0,0>b?-1:0);-128<=b&&128>b&&(es[b]=a);return a}function gs(b){return isNaN(b)||!isFinite(b)?hs:b<=-is?js:b+1>=is?ks:0>b?ls(gs(-b)):new ds(b%ms|0,b/ms|0)}function ns(b,a){return new ds(b,a)}
function os(b,a){if(0==b.length)throw Error("number format error: empty string");var c=a||10;if(2>c||36<c)throw Error("radix out of range: "+c);if("-"==b.charAt(0))return ls(os(b.substring(1),c));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character: '+b);for(var d=gs(Math.pow(c,8)),e=hs,g=0;g<b.length;g+=8){var h=Math.min(8,b.length-g),k=parseInt(b.substring(g,g+h),c);8>h?(h=gs(Math.pow(c,h)),e=e.multiply(h).add(gs(k))):(e=e.multiply(d),e=e.add(gs(k)))}return e}
var ms=4294967296,is=ms*ms/2,hs=fs(0),ps=fs(1),qs=fs(-1),ks=ns(-1,2147483647),js=ns(0,-2147483648),rs=fs(16777216);function ss(b){return b.qa*ms+(0<=b.za?b.za:ms+b.za)}f=ds.prototype;
f.toString=function(b){b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);if(ts(this))return"0";if(0>this.qa){if(us(this,js)){var a=gs(b),c=vs(this,a),a=ws(c.multiply(a),this);return c.toString(b)+a.za.toString(b)}return"-"+ls(this).toString(b)}for(var c=gs(Math.pow(b,6)),a=this,d="";;){var e=vs(a,c),g=ws(a,e.multiply(c)).za.toString(b),a=e;if(ts(a))return g+d;for(;6>g.length;)g="0"+g;d=""+g+d}};function ts(b){return 0==b.qa&&0==b.za}function us(b,a){return b.qa==a.qa&&b.za==a.za}
f.compare=function(b){if(us(this,b))return 0;var a=0>this.qa,c=0>b.qa;return a&&!c?-1:!a&&c?1:0>ws(this,b).qa?-1:1};function ls(b){return us(b,js)?js:ns(~b.za,~b.qa).add(ps)}f.add=function(b){var a=this.qa>>>16,c=this.qa&65535,d=this.za>>>16,e=b.qa>>>16,g=b.qa&65535,h=b.za>>>16,k;k=0+((this.za&65535)+(b.za&65535));b=0+(k>>>16);b+=d+h;d=0+(b>>>16);d+=c+g;c=0+(d>>>16);c=c+(a+e)&65535;return ns((b&65535)<<16|k&65535,c<<16|d&65535)};function ws(b,a){return b.add(ls(a))}
f.multiply=function(b){if(ts(this)||ts(b))return hs;if(us(this,js))return 1==(b.za&1)?js:hs;if(us(b,js))return 1==(this.za&1)?js:hs;if(0>this.qa)return 0>b.qa?ls(this).multiply(ls(b)):ls(ls(this).multiply(b));if(0>b.qa)return ls(this.multiply(ls(b)));if(0>this.compare(rs)&&0>b.compare(rs))return gs(ss(this)*ss(b));var a=this.qa>>>16,c=this.qa&65535,d=this.za>>>16,e=this.za&65535,g=b.qa>>>16,h=b.qa&65535,k=b.za>>>16;b=b.za&65535;var p,r,u,w;w=0+e*b;u=0+(w>>>16);u+=d*b;r=0+(u>>>16);u=(u&65535)+e*k;
r+=u>>>16;u&=65535;r+=c*b;p=0+(r>>>16);r=(r&65535)+d*k;p+=r>>>16;r&=65535;r+=e*h;p+=r>>>16;r&=65535;p=p+(a*b+c*k+d*h+e*g)&65535;return ns(u<<16|w&65535,p<<16|r)};
function vs(b,a){if(ts(a))throw Error("division by zero");if(ts(b))return hs;if(us(b,js)){if(us(a,ps)||us(a,qs))return js;if(us(a,js))return ps;var c;c=1;if(0==c)c=b;else{var d=b.qa;c=32>c?ns(b.za>>>c|d<<32-c,d>>c):ns(d>>c-32,0<=d?0:-1)}c=vs(c,a).shiftLeft(1);if(us(c,hs))return 0>a.qa?ps:qs;d=ws(b,a.multiply(c));return c.add(vs(d,a))}if(us(a,js))return hs;if(0>b.qa)return 0>a.qa?vs(ls(b),ls(a)):ls(vs(ls(b),a));if(0>a.qa)return ls(vs(b,ls(a)));for(var e=hs,d=b;0<=d.compare(a);){c=Math.max(1,Math.floor(ss(d)/
ss(a)));for(var g=Math.ceil(Math.log(c)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),h=gs(c),k=h.multiply(a);0>k.qa||0<k.compare(d);)c-=g,h=gs(c),k=h.multiply(a);ts(h)&&(h=ps);e=e.add(h);d=ws(d,k)}return e}f.shiftLeft=function(b){b&=63;if(0==b)return this;var a=this.za;return 32>b?ns(a<<b,this.qa<<b|a>>>32-b):ns(0,a<<b-32)};function xs(b,a){a&=63;if(0==a)return b;var c=b.qa;return 32>a?ns(b.za>>>a|c<<32-a,c>>>a):32==a?ns(c,0):ns(c>>>a-32,0)};function ys(b,a){this.tag=b;this.ia=a;this.ra=-1}ys.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.ia+"]"};ys.prototype.equiv=function(b){return Xr(this,b)};ys.prototype.equiv=ys.prototype.equiv;ys.prototype.gb=function(b){return b instanceof ys?this.tag===b.tag&&Xr(this.ia,b.ia):!1};ys.prototype.mb=function(){-1===this.ra&&(this.ra=Yr(bs(this.tag),bs(this.ia)));return this.ra};function zs(b,a){return new ys(b,a)}var As=os("9007199254740992"),Bs=os("-9007199254740992");
ds.prototype.equiv=function(b){return Xr(this,b)};ds.prototype.equiv=ds.prototype.equiv;ds.prototype.gb=function(b){return b instanceof ds&&us(this,b)};ds.prototype.mb=function(){return this.za};function Cs(b){this.name=b;this.ra=-1}Cs.prototype.toString=function(){return":"+this.name};Cs.prototype.equiv=function(b){return Xr(this,b)};Cs.prototype.equiv=Cs.prototype.equiv;Cs.prototype.gb=function(b){return b instanceof Cs&&this.name==b.name};
Cs.prototype.mb=function(){-1===this.ra&&(this.ra=bs(this.name));return this.ra};function Ds(b){this.name=b;this.ra=-1}Ds.prototype.toString=function(){return"[Symbol: "+this.name+"]"};Ds.prototype.equiv=function(b){return Xr(this,b)};Ds.prototype.equiv=Ds.prototype.equiv;Ds.prototype.gb=function(b){return b instanceof Ds&&this.name==b.name};Ds.prototype.mb=function(){-1===this.ra&&(this.ra=bs(this.name));return this.ra};
function Es(b,a,c){var d="";c=c||a+1;for(var e=8*(7-a),g=fs(255).shiftLeft(e);a<c;a++,e-=8,g=xs(g,8)){var h=xs(ns(b.za&g.za,b.qa&g.qa),e).toString(16);1==h.length&&(h="0"+h);d+=h}return d}function Fs(b,a){this.Fd=b;this.Hd=a;this.ra=-1}Fs.prototype.toString=function(b){var a=this.Fd,c=this.Hd;b=""+(Es(a,0,4)+"-");b+=Es(a,4,6)+"-";b+=Es(a,6,8)+"-";b+=Es(c,0,2)+"-";return b+=Es(c,2,8)};Fs.prototype.equiv=function(b){return Xr(this,b)};Fs.prototype.equiv=Fs.prototype.equiv;
Fs.prototype.gb=function(b){return b instanceof Fs&&us(this.Fd,b.Fd)&&us(this.Hd,b.Hd)};Fs.prototype.mb=function(){-1===this.ra&&(this.ra=bs(this.toString()));return this.ra};Date.prototype.gb=function(b){return b instanceof Date?this.valueOf()===b.valueOf():!1};Date.prototype.mb=function(){return this.valueOf()};function Gs(b,a){this.entries=b;this.type=a||0;this.ea=0}
Gs.prototype.next=function(){if(this.ea<this.entries.length){var b=null,b=0===this.type?this.entries[this.ea]:1===this.type?this.entries[this.ea+1]:[this.entries[this.ea],this.entries[this.ea+1]],b={value:b,done:!1};this.ea+=2;return b}return{value:null,done:!0}};Gs.prototype.next=Gs.prototype.next;function Hs(b,a){this.map=b;this.type=a||0;this.keys=Is(this.map);this.ea=0;this.pc=null;this.cc=0}
Hs.prototype.next=function(){if(this.ea<this.map.size){null!=this.pc&&this.cc<this.pc.length||(this.pc=this.map.map[this.keys[this.ea]],this.cc=0);var b=null,b=0===this.type?this.pc[this.cc]:1===this.type?this.pc[this.cc+1]:[this.pc[this.cc],this.pc[this.cc+1]],b={value:b,done:!1};this.ea++;this.cc+=2;return b}return{value:null,done:!0}};Hs.prototype.next=Hs.prototype.next;
function Js(b,a){if((a instanceof Ks||a instanceof Ls)&&b.size===a.size){for(var c in b.map)for(var d=b.map[c],e=0;e<d.length;e+=2)if(!Xr(d[e+1],a.get(d[e])))return!1;return!0}if(null!=a&&"object"===typeof a&&(c=Tr(a),d=c.length,b.size===d)){for(e=0;e<d;e++){var g=c[e];if(!b.has(g)||!Xr(a[g],b.get(g)))return!1}return!0}return!1}function Ls(b){this.ta=b;this.na=null;this.ra=-1;this.size=b.length/2;this.Nd=0}Ls.prototype.toString=function(){return"[TransitArrayMap]"};
function Ms(b){if(b.na)throw Error("Invalid operation, already converted");if(8>b.size)return!1;b.Nd++;return 32<b.Nd?(b.na=Ns(b.ta,!0),b.ta=[],!0):!1}Ls.prototype.clear=function(){this.ra=-1;this.na?this.na.clear():this.ta=[];this.size=0};Ls.prototype.clear=Ls.prototype.clear;Ls.prototype.keys=function(){return this.na?this.na.keys():new Gs(this.ta,0)};Ls.prototype.keys=Ls.prototype.keys;
Ls.prototype.wc=function(){if(this.na)return this.na.wc();for(var b=[],a=0,c=0;c<this.ta.length;a++,c+=2)b[a]=this.ta[c];return b};Ls.prototype.keySet=Ls.prototype.wc;Ls.prototype.entries=function(){return this.na?this.na.entries():new Gs(this.ta,2)};Ls.prototype.entries=Ls.prototype.entries;Ls.prototype.values=function(){return this.na?this.na.values():new Gs(this.ta,1)};Ls.prototype.values=Ls.prototype.values;
Ls.prototype.forEach=function(b){if(this.na)this.na.forEach(b);else for(var a=0;a<this.ta.length;a+=2)b(this.ta[a+1],this.ta[a])};Ls.prototype.forEach=Ls.prototype.forEach;Ls.prototype.get=function(b,a){if(this.na)return this.na.get(b);if(Ms(this))return this.get(b);for(var c=0;c<this.ta.length;c+=2)if(Xr(this.ta[c],b))return this.ta[c+1];return a};Ls.prototype.get=Ls.prototype.get;
Ls.prototype.has=function(b){if(this.na)return this.na.has(b);if(Ms(this))return this.has(b);for(var a=0;a<this.ta.length;a+=2)if(Xr(this.ta[a],b))return!0;return!1};Ls.prototype.has=Ls.prototype.has;Ls.prototype.set=function(b,a){this.ra=-1;if(this.na)this.na.set(b,a),this.size=this.na.size;else{for(var c=0;c<this.ta.length;c+=2)if(Xr(this.ta[c],b)){this.ta[c+1]=a;return}this.ta.push(b);this.ta.push(a);this.size++;32<this.size&&(this.na=Ns(this.ta,!0),this.ta=null)}};Ls.prototype.set=Ls.prototype.set;
Ls.prototype["delete"]=function(b){this.ra=-1;if(this.na)this.na["delete"](b),this.size=this.na.size;else for(var a=0;a<this.ta.length;a+=2)if(Xr(this.ta[a],b)){this.ta.splice(a,2);this.size--;break}};Ls.prototype.mb=function(){if(this.na)return this.na.mb();-1===this.ra&&(this.ra=as(this));return this.ra};Ls.prototype.gb=function(b){return this.na?Js(this.na,b):Js(this,b)};function Ks(b,a,c){this.map=a||{};this.Ac=b||[];this.size=c||0;this.ra=-1}Ks.prototype.toString=function(){return"[TransitMap]"};
Ks.prototype.clear=function(){this.ra=-1;this.map={};this.Ac=[];this.size=0};Ks.prototype.clear=Ks.prototype.clear;function Is(b){return null!=b.Ac?b.Ac:Tr(b.map)}Ks.prototype["delete"]=function(b){this.ra=-1;this.Ac=null;for(var a=bs(b),c=this.map[a],d=0;d<c.length;d+=2)if(Xr(b,c[d])){c.splice(d,2);0===c.length&&delete this.map[a];this.size--;break}};Ks.prototype.entries=function(){return new Hs(this,2)};Ks.prototype.entries=Ks.prototype.entries;
Ks.prototype.forEach=function(b){for(var a=Is(this),c=0;c<a.length;c++)for(var d=this.map[a[c]],e=0;e<d.length;e+=2)b(d[e+1],d[e],this)};Ks.prototype.forEach=Ks.prototype.forEach;Ks.prototype.get=function(b,a){var c=bs(b),c=this.map[c];if(null!=c)for(var d=0;d<c.length;d+=2){if(Xr(b,c[d]))return c[d+1]}else return a};Ks.prototype.get=Ks.prototype.get;Ks.prototype.has=function(b){var a=bs(b),a=this.map[a];if(null!=a)for(var c=0;c<a.length;c+=2)if(Xr(b,a[c]))return!0;return!1};Ks.prototype.has=Ks.prototype.has;
Ks.prototype.keys=function(){return new Hs(this,0)};Ks.prototype.keys=Ks.prototype.keys;Ks.prototype.wc=function(){for(var b=Is(this),a=[],c=0;c<b.length;c++)for(var d=this.map[b[c]],e=0;e<d.length;e+=2)a.push(d[e]);return a};Ks.prototype.keySet=Ks.prototype.wc;Ks.prototype.set=function(b,a){this.ra=-1;var c=bs(b),d=this.map[c];if(null==d)this.Ac&&this.Ac.push(c),this.map[c]=[b,a],this.size++;else{for(var c=!0,e=0;e<d.length;e+=2)if(Xr(a,d[e])){c=!1;d[e]=a;break}c&&(d.push(b),d.push(a),this.size++)}};
Ks.prototype.set=Ks.prototype.set;Ks.prototype.values=function(){return new Hs(this,1)};Ks.prototype.values=Ks.prototype.values;Ks.prototype.mb=function(){-1===this.ra&&(this.ra=as(this));return this.ra};Ks.prototype.gb=function(b){return Js(this,b)};
function Ns(b,a){var c=!1;b=b||[];c=!1===c?c:!0;if((!0!==a||!a)&&64>=b.length){if(c){var d=b;b=[];for(c=0;c<d.length;c+=2){for(var e=!1,g=0;g<b.length;g+=2)if(Xr(b[g],d[c])){b[g+1]=d[c+1];e=!0;break}e||(b.push(d[c]),b.push(d[c+1]))}}return new Ls(b)}for(var d={},e=[],h=0,c=0;c<b.length;c+=2){var g=bs(b[c]),k=d[g];if(null==k)e.push(g),d[g]=[b[c],b[c+1]],h++;else{for(var p=!0,g=0;g<k.length;g+=2)if(Xr(k[g],b[c])){k[g+1]=b[c+1];p=!1;break}p&&(k.push(b[c]),k.push(b[c+1]),h++)}}return new Ks(e,d,h)}
function Os(b){this.map=b;this.size=b.size}Os.prototype.toString=function(){return"[TransitSet]"};Os.prototype.add=function(b){this.map.set(b,b);this.size=this.map.size};Os.prototype.add=Os.prototype.add;Os.prototype.clear=function(){this.map=new Ks;this.size=0};Os.prototype.clear=Os.prototype.clear;Os.prototype["delete"]=function(b){this.map["delete"](b);this.size=this.map.size};Os.prototype.entries=function(){return this.map.entries()};Os.prototype.entries=Os.prototype.entries;
Os.prototype.forEach=function(b){var a=this;this.map.forEach(function(c,d){b(d,a)})};Os.prototype.forEach=Os.prototype.forEach;Os.prototype.has=function(b){return this.map.has(b)};Os.prototype.has=Os.prototype.has;Os.prototype.keys=function(){return this.map.keys()};Os.prototype.keys=Os.prototype.keys;Os.prototype.wc=function(){return this.map.wc()};Os.prototype.keySet=Os.prototype.wc;Os.prototype.values=function(){return this.map.values()};Os.prototype.values=Os.prototype.values;
Os.prototype.gb=function(b){if(b instanceof Os){if(this.size===b.size)return Xr(this.map,b.map)}else return!1};Os.prototype.mb=function(){return bs(this.map)};function Ps(b,a){if(3<b.length){if(a)return!0;var c=b.charAt(1);return"~"===b.charAt(0)?":"===c||"$"===c||"#"===c:!1}return!1}function Qs(b){var a=Math.floor(b/44);b=String.fromCharCode(b%44+48);return 0===a?"^"+b:"^"+String.fromCharCode(a+48)+b}function Rs(){this.he=this.hc=this.ea=0;this.Da={}}
Rs.prototype.write=function(b,a){if(Ps(b,a)){4096===this.he?(this.clear(),this.hc=0,this.Da={}):1936===this.ea&&this.clear();var c=this.Da[b];return null==c?(this.Da[b]=[Qs(this.ea),this.hc],this.ea++,b):c[1]!=this.hc?(c[1]=this.hc,c[0]=Qs(this.ea),this.ea++,b):c[0]}return b};Rs.prototype.clear=function(){this.ea=0;this.hc++};function Ss(){this.ea=0;this.Da=[]}Ss.prototype.write=function(b){1936==this.ea&&(this.ea=0);this.Da[this.ea]=b;this.ea++;return b};
Ss.prototype.jd=function(b){return this.Da[2===b.length?b.charCodeAt(1)-48:44*(b.charCodeAt(1)-48)+(b.charCodeAt(2)-48)]};Ss.prototype.clear=function(){this.ea=0};function Ts(b){this.Qa=b}
function Us(b){this.options=b||{};this.Ja={};for(var a in this.Tc.Ja)this.Ja[a]=this.Tc.Ja[a];for(a in this.options.handlers){a:{switch(a){case "_":case "s":case "?":case "i":case "d":case "b":case "'":case "array":case "map":b=!0;break a}b=!1}if(b)throw Error('Cannot override handler for ground type "'+a+'"');this.Ja[a]=this.options.handlers[a]}this.hd=null!=this.options.preferStrings?this.options.preferStrings:this.Tc.hd;this.Ld=null!=this.options.preferBuffers?this.options.preferBuffers:this.Tc.Ld;
this.Bd=this.options.defaultHandler||this.Tc.Bd;this.ib=this.options.mapBuilder;this.Bc=this.options.arrayBuilder}
Us.prototype.Tc={Ja:{_:function(){return null},"?":function(b){return"t"===b},b:function(b,a){var c;if(a&&!1===a.Ld||"undefined"==typeof Buffer)if("undefined"!=typeof Uint8Array){if("undefined"!=typeof atob)c=atob(b);else{c=String(b).replace(/=+$/,"");if(1==c.length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var d=0,e,g,h=0,k="";g=c.charAt(h++);~g&&(e=d%4?64*e+g:g,d++%4)?k+=String.fromCharCode(255&e>>(-2*d&6)):0)g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(g);
c=k}d=c.length;e=new Uint8Array(d);for(g=0;g<d;g++)e[g]=c.charCodeAt(g);c=e}else c=zs("b",b);else c=new Buffer(b,"base64");return c},i:function(b){"number"===typeof b||b instanceof ds||(b=os(b,10),b=0<b.compare(As)||0>b.compare(Bs)?b:ss(b));return b},n:function(b){return zs("n",b)},d:function(b){return parseFloat(b)},f:function(b){return zs("f",b)},c:function(b){return b},":":function(b){return new Cs(b)},$:function(b){return new Ds(b)},r:function(b){return zs("r",b)},z:function(b){a:switch(b){case "-INF":b=
-Infinity;break a;case "INF":b=Infinity;break a;case "NaN":b=NaN;break a;default:throw Error("Invalid special double value "+b);}return b},"'":function(b){return b},m:function(b){b="number"===typeof b?b:parseInt(b,10);return new Date(b)},t:function(b){return new Date(b)},u:function(b){b=b.replace(/-/g,"");for(var a=null,c=null,d=c=0,e=24,g=0,g=c=0,e=24;8>g;g+=2,e-=8)c|=parseInt(b.substring(g,g+2),16)<<e;d=0;g=8;for(e=24;16>g;g+=2,e-=8)d|=parseInt(b.substring(g,g+2),16)<<e;a=ns(d,c);c=0;g=16;for(e=
24;24>g;g+=2,e-=8)c|=parseInt(b.substring(g,g+2),16)<<e;d=0;for(e=g=24;32>g;g+=2,e-=8)d|=parseInt(b.substring(g,g+2),16)<<e;c=ns(d,c);return new Fs(a,c)},set:function(b){b=b||[];for(var a={},c=[],d=0,e=0;e<b.length;e++){var g=bs(b[e]),h=a[g];if(null==h)c.push(g),a[g]=[b[e],b[e]],d++;else{for(var g=!0,k=0;k<h.length;k+=2)if(Xr(h[k],b[e])){g=!1;break}g&&(h.push(b[e]),h.push(b[e]),d++)}}return new Os(new Ks(c,a,d))},list:function(b){return zs("list",b)},link:function(b){return zs("link",b)},cmap:function(b){return Ns(b)}},
Bd:function(b,a){return zs(b,a)},hd:!0,Ld:!0};
Us.prototype.decode=function(b,a,c,d){if(null==b)return null;switch(typeof b){case "string":return Ps(b,c)?(b=Vs(this,b),a&&a.write(b,c),a=b):a="^"===b.charAt(0)&&" "!==b.charAt(1)?a.jd(b,c):Vs(this,b),a;case "object":if(Ur(b))if("^ "===b[0])if(this.ib)if(17>b.length&&this.ib.vc){d=[];for(c=1;c<b.length;c+=2)d.push(this.decode(b[c],a,!0,!1)),d.push(this.decode(b[c+1],a,!1,!1));a=this.ib.vc(d,b)}else{d=this.ib.gd(b);for(c=1;c<b.length;c+=2)d=this.ib.add(d,this.decode(b[c],a,!0,!1),this.decode(b[c+
1],a,!1,!1),b);a=this.ib.ed(d,b)}else{d=[];for(c=1;c<b.length;c+=2)d.push(this.decode(b[c],a,!0,!1)),d.push(this.decode(b[c+1],a,!1,!1));a=Ns(d)}else a=Ws(this,b,a,c,d);else{c=Tr(b);var e=c[0];if((d=1==c.length?this.decode(e,a,!1,!1):null)&&d instanceof Ts)b=b[e],c=this.Ja[d.Qa],a=null!=c?c(this.decode(b,a,!1,!0),this):zs(d.Qa,this.decode(b,a,!1,!1));else if(this.ib)if(16>c.length&&this.ib.vc){var g=[];for(d=0;d<c.length;d++)e=c[d],g.push(this.decode(e,a,!0,!1)),g.push(this.decode(b[e],a,!1,!1));
a=this.ib.vc(g,b)}else{g=this.ib.gd(b);for(d=0;d<c.length;d++)e=c[d],g=this.ib.add(g,this.decode(e,a,!0,!1),this.decode(b[e],a,!1,!1),b);a=this.ib.ed(g,b)}else{g=[];for(d=0;d<c.length;d++)e=c[d],g.push(this.decode(e,a,!0,!1)),g.push(this.decode(b[e],a,!1,!1));a=Ns(g)}}return a}return b};Us.prototype.decode=Us.prototype.decode;
function Ws(b,a,c,d,e){if(e){var g=[];for(e=0;e<a.length;e++)g.push(b.decode(a[e],c,d,!1));return g}g=c&&c.ea;if(2===a.length&&"string"===typeof a[0]&&(e=b.decode(a[0],c,!1,!1))&&e instanceof Ts)return a=a[1],g=b.Ja[e.Qa],null!=g?g=g(b.decode(a,c,d,!0),b):zs(e.Qa,b.decode(a,c,d,!1));c&&g!=c.ea&&(c.ea=g);if(b.Bc){if(32>=a.length&&b.Bc.vc){g=[];for(e=0;e<a.length;e++)g.push(b.decode(a[e],c,d,!1));return b.Bc.vc(g,a)}g=b.Bc.gd();for(e=0;e<a.length;e++)g=b.Bc.add(g,b.decode(a[e],c,d,!1),a);return b.Bc.ed(g,
a)}g=[];for(e=0;e<a.length;e++)g.push(b.decode(a[e],c,d,!1));return g}function Vs(b,a){if("~"===a.charAt(0)){var c=a.charAt(1);if("~"===c||"^"===c||"`"===c)return a.substring(1);if("#"===c)return new Ts(a.substring(2));var d=b.Ja[c];return null==d?b.Bd(c,a.substring(2)):d(a.substring(2),b)}return a};function Xs(b){this.ze=new Us(b)}function Ys(b,a){this.Je=b;this.options=a||{};this.Da=this.options.cache?this.options.cache:new Ss}Ys.prototype.jd=function(b){var a=this.Da;b=this.Je.ze.decode(JSON.parse(b),a);this.Da.clear();return b};Ys.prototype.read=Ys.prototype.jd;var Zs=0,$s=(8|3&Math.round(14*Math.random())).toString(16),at="transit$guid$"+(Vr()+Vr()+Vr()+Vr()+Vr()+Vr()+Vr()+Vr()+"-"+Vr()+Vr()+Vr()+Vr()+"-4"+Vr()+Vr()+Vr()+"-"+$s+Vr()+Vr()+Vr()+"-"+Vr()+Vr()+Vr()+Vr()+Vr()+Vr()+Vr()+Vr()+Vr()+Vr()+Vr()+Vr());
function bt(b){if(null==b)return"null";if(b===String)return"string";if(b===Boolean)return"boolean";if(b===Number)return"number";if(b===Array)return"array";if(b===Object)return"map";var a=b[at];null==a&&("undefined"!=typeof Object.defineProperty?(a=++Zs,Object.defineProperty(b,at,{value:a,enumerable:!1})):b[at]=a=++Zs);return a}function ct(b,a){for(var c=b.toString(),d=c.length;d<a;d++)c="0"+c;return c}function dt(){}dt.prototype.tag=function(){return"_"};dt.prototype.ia=function(){return null};
dt.prototype.sa=function(){return"null"};function et(){}et.prototype.tag=function(){return"s"};et.prototype.ia=function(b){return b};et.prototype.sa=function(b){return b};function ft(){}ft.prototype.tag=function(){return"i"};ft.prototype.ia=function(b){return b};ft.prototype.sa=function(b){return b.toString()};function gt(){}gt.prototype.tag=function(){return"i"};gt.prototype.ia=function(b){return b.toString()};gt.prototype.sa=function(b){return b.toString()};function ht(){}ht.prototype.tag=function(){return"?"};
ht.prototype.ia=function(b){return b};ht.prototype.sa=function(b){return b.toString()};function it(){}it.prototype.tag=function(){return"array"};it.prototype.ia=function(b){return b};it.prototype.sa=function(){return null};function jt(){}jt.prototype.tag=function(){return"map"};jt.prototype.ia=function(b){return b};jt.prototype.sa=function(){return null};function kt(){}kt.prototype.tag=function(){return"t"};
kt.prototype.ia=function(b){return b.getUTCFullYear()+"-"+ct(b.getUTCMonth()+1,2)+"-"+ct(b.getUTCDate(),2)+"T"+ct(b.getUTCHours(),2)+":"+ct(b.getUTCMinutes(),2)+":"+ct(b.getUTCSeconds(),2)+"."+ct(b.getUTCMilliseconds(),3)+"Z"};kt.prototype.sa=function(b,a){return a.ia(b)};function lt(){}lt.prototype.tag=function(){return"m"};lt.prototype.ia=function(b){return b.valueOf()};lt.prototype.sa=function(b){return b.valueOf().toString()};function mt(){}mt.prototype.tag=function(){return"u"};
mt.prototype.ia=function(b){return b.toString()};mt.prototype.sa=function(b){return b.toString()};function nt(){}nt.prototype.tag=function(){return":"};nt.prototype.ia=function(b){return b.name};nt.prototype.sa=function(b,a){return a.ia(b)};function ot(){}ot.prototype.tag=function(){return"$"};ot.prototype.ia=function(b){return b.name};ot.prototype.sa=function(b,a){return a.ia(b)};function pt(){}pt.prototype.tag=function(b){return b.tag};pt.prototype.ia=function(b){return b.ia};pt.prototype.sa=function(){return null};
function qt(){}qt.prototype.tag=function(){return"set"};qt.prototype.ia=function(b){var a=[];b.forEach(function(b){a.push(b)});return zs("array",a)};qt.prototype.sa=function(){return null};function rt(){}rt.prototype.tag=function(){return"map"};rt.prototype.ia=function(b){return b};rt.prototype.sa=function(){return null};function st(){}st.prototype.tag=function(){return"map"};st.prototype.ia=function(b){return b};st.prototype.sa=function(){return null};function tt(){}tt.prototype.tag=function(){return"b"};
tt.prototype.ia=function(b){return b.toString("base64")};tt.prototype.sa=function(){return null};function ut(){}ut.prototype.tag=function(){return"b"};
ut.prototype.ia=function(b){for(var a=0,c=b.length,d="",e=null;a<c;)e=b.subarray(a,Math.min(a+32768,c)),d+=String.fromCharCode.apply(null,e),a+=32768;var g;if("undefined"!=typeof btoa)g=btoa(d);else{b=String(d);c=0;d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";for(e="";b.charAt(c|0)||(d="\x3d",c%1);e+=d.charAt(63&g>>8-c%1*8)){a=b.charCodeAt(c+=.75);if(255<a)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");g=g<<8|a}g=
e}return g};ut.prototype.sa=function(){return null};
function vt(){this.Ja={};this.set(null,new dt);this.set(String,new et);this.set(Number,new ft);this.set(ds,new gt);this.set(Boolean,new ht);this.set(Array,new it);this.set(Object,new jt);this.set(Date,new lt);this.set(Fs,new mt);this.set(Cs,new nt);this.set(Ds,new ot);this.set(ys,new pt);this.set(Os,new qt);this.set(Ls,new rt);this.set(Ks,new st);"undefined"!=typeof Buffer&&this.set(Buffer,new tt);"undefined"!=typeof Uint8Array&&this.set(Uint8Array,new ut)}
vt.prototype.get=function(b){var a=null,a="string"===typeof b?this.Ja[b]:this.Ja[bt(b)];return null!=a?a:this.Ja["default"]};vt.prototype.get=vt.prototype.get;vt.prototype.set=function(b,a){var c;if(c="string"===typeof b)a:{switch(b){case "null":case "string":case "boolean":case "number":case "array":case "map":c=!1;break a}c=!0}c?this.Ja[b]=a:this.Ja[bt(b)]=a};function wt(b){this.lc=b||{};this.hd=null!=this.lc.preferStrings?this.lc.preferStrings:!0;this.ee=this.lc.objectBuilder||null;this.Ja=new vt;if(b=this.lc.handlers){if(Ur(b)||!b.forEach)throw Error('transit writer "handlers" option must be a map');var a=this;b.forEach(function(b,d){a.Ja.set(d,b)})}this.Uc=this.lc.handlerForForeign;this.kd=this.lc.unpack||function(a){return a instanceof Ls&&null===a.na?a.ta:!1};this.Yc=this.lc&&this.lc.verbose||!1}
wt.prototype.Ed=function(b){var a=this.Ja.get(null==b?null:b.constructor);return null!=a?a:(b=b&&b.transitTag)?this.Ja.get(b):null};function xt(b,a,c,d,e){b=b+a+c;return e?e.write(b,d):b}function yt(b,a,c){var d=[];if(Ur(a))for(var e=0;e<a.length;e++)d.push(zt(b,a[e],!1,c));else a.forEach(function(a){d.push(zt(b,a,!1,c))});return d}function At(b,a){if("string"!==typeof a){var c=b.Ed(a);return c&&1===c.tag(a).length}return!0}
function Bt(b,a){var c=b.kd(a),d=!0;if(c){for(var e=0;e<c.length&&(d=At(b,c[e]),d);e+=2);return d}if(a.keys&&(c=a.keys(),e=null,c.next)){for(e=c.next();!e.done;){d=At(b,e.value);if(!d)break;e=c.next()}return d}if(a.forEach)return a.forEach(function(a,c){d=d&&At(b,c)}),d;throw Error("Cannot walk keys of object type "+(null==a?null:a.constructor).name);}
function Ct(b){if(b.constructor.transit$isObject)return!0;var a=b.constructor.toString(),a=a.substr(9),a=a.substr(0,a.indexOf("(")),a="Object"==a;"undefined"!=typeof Object.defineProperty?Object.defineProperty(b.constructor,"transit$isObject",{value:a,enumerable:!1}):b.constructor.transit$isObject=a;return a}
function Dt(b,a,c){if(a.constructor===Object||null!=a.forEach||b.Uc&&Ct(a)){if(b.Yc){if(null!=a.forEach)if(Bt(b,a)){var d={};a.forEach(function(a,e){d[zt(b,e,!0,!1)]=zt(b,a,!1,c)})}else{var e=b.kd(a),g=[],h=xt("~#","cmap","",!0,c);if(e)for(var k=0;k<e.length;k+=2)g.push(zt(b,e[k],!0,!1)),g.push(zt(b,e[k+1],!1,c));else a.forEach(function(a,d){g.push(zt(b,d,!0,!1));g.push(zt(b,a,!1,c))});d={};d[h]=g}else for(d={},e=Tr(a),k=0;k<e.length;k++)d[zt(b,e[k],!0,!1)]=zt(b,a[e[k]],!1,c);return d}if(null!=a.forEach){if(Bt(b,
a)){e=b.kd(a);d=["^ "];if(e)for(k=0;k<e.length;k+=2)d.push(zt(b,e[k],!0,c)),d.push(zt(b,e[k+1],!1,c));else a.forEach(function(a,e){d.push(zt(b,e,!0,c));d.push(zt(b,a,!1,c))});return d}e=b.kd(a);g=[];h=xt("~#","cmap","",!0,c);if(e)for(k=0;k<e.length;k+=2)g.push(zt(b,e[k],!0,c)),g.push(zt(b,e[k+1],!1,c));else a.forEach(function(a,d){g.push(zt(b,d,!0,c));g.push(zt(b,a,!1,c))});return[h,g]}d=["^ "];e=Tr(a);for(k=0;k<e.length;k++)d.push(zt(b,e[k],!0,c)),d.push(zt(b,a[e[k]],!1,c));return d}if(null!=b.ee)return b.ee(a,
function(a){return zt(b,a,!0,c)},function(a){return zt(b,a,!1,c)});k=(null==a?null:a.constructor).name;e=Error("Cannot write "+k);e.data={Kd:a,type:k};throw e;}
function zt(b,a,c,d){var e=b.Ed(a)||(b.Uc?b.Uc(a,b.Ja):null),g=e?e.tag(a):null,h=e?e.ia(a):null;if(null!=e&&null!=g)switch(g){case "_":return c?xt("~","_","",c,d):null;case "s":return 0<h.length?(b=h.charAt(0),b="~"===b||"^"===b||"`"===b?"~"+h:h):b=h,xt("","",b,c,d);case "?":return c?xt("~","?",h.toString()[0],c,d):h;case "i":return Infinity===h?xt("~","z","INF",c,d):-Infinity===h?xt("~","z","-INF",c,d):isNaN(h)?xt("~","z","NaN",c,d):c||"string"===typeof h||h instanceof ds?xt("~","i",h.toString(),
c,d):h;case "d":return c?xt(h.Le,"d",h,c,d):h;case "b":return xt("~","b",h,c,d);case "'":return b.Yc?(a={},c=xt("~#","'","",!0,d),a[c]=zt(b,h,!1,d),d=a):d=[xt("~#","'","",!0,d),zt(b,h,!1,d)],d;case "array":return yt(b,h,d);case "map":return Dt(b,h,d);default:a:{if(1===g.length){if("string"===typeof h){d=xt("~",g,h,c,d);break a}if(c||b.hd){(b=b.Yc&&new kt)?(g=b.tag(a),h=b.sa(a,b)):h=e.sa(a,e);if(null!==h){d=xt("~",g,h,c,d);break a}d=Error('Tag "'+g+'" cannot be encoded as string');d.data={tag:g,ia:h,
Kd:a};throw d;}}a=g;c=h;b.Yc?(h={},h[xt("~#",a,"",!0,d)]=zt(b,c,!1,d),d=h):d=[xt("~#",a,"",!0,d),zt(b,c,!1,d)]}return d}else throw d=(null==a?null:a.constructor).name,b=Error("Cannot write "+d),b.data={Kd:a,type:d},b;}function Et(b,a){var c=b.Ed(a)||(b.Uc?b.Uc(a,b.Ja):null);if(null!=c)return 1===c.tag(a).length?zs("'",a):a;var c=(null==a?null:a.constructor).name,d=Error("Cannot write "+c);d.data={Kd:a,type:c};throw d;}
function Ft(b,a){this.Gc=b;this.options=a||{};this.Da=!1===this.options.cache?null:this.options.cache?this.options.cache:new Rs}Ft.prototype.De=function(){return this.Gc};Ft.prototype.marshaller=Ft.prototype.De;Ft.prototype.write=function(b,a){var c=null,d=a||{},c=d.asMapKey||!1,e=this.Gc.Yc?!1:this.Da;!1===d.marshalTop?c=zt(this.Gc,b,c,e):(d=this.Gc,c=JSON.stringify(zt(d,Et(d,b),c,e)));null!=this.Da&&this.Da.clear();return c};Ft.prototype.write=Ft.prototype.write;
Ft.prototype.register=function(b,a){this.Gc.Ja.set(b,a)};Ft.prototype.register=Ft.prototype.register;function Gt(b,a){if("json"===b||"json-verbose"===b||null==b){var c=new Xs(a);return new Ys(c,a)}throw Error("Cannot create reader of type "+b);}function Ht(b,a){if("json"===b||"json-verbose"===b||null==b){"json-verbose"===b&&(null==a&&(a={}),a.verbose=!0);var c=new wt(a);return new Ft(c,a)}c=Error('Type must be "json"');c.data={type:b};throw c;};Vh.prototype.G=function(b,a){return a instanceof Vh?this.wb===a.wb:a instanceof Fs?this.wb===a.toString():!1};Vh.prototype.rc=!0;Vh.prototype.Hb=function(b,a){if(a instanceof Vh||a instanceof Fs)return wd(this.toString(),a.toString());throw Error([q("Cannot compare "),q(this),q(" to "),q(a)].join(""));};Fs.prototype.rc=!0;Fs.prototype.Hb=function(b,a){if(a instanceof Vh||a instanceof Fs)return wd(this.toString(),a.toString());throw Error([q("Cannot compare "),q(this),q(" to "),q(a)].join(""));};
ds.prototype.G=function(b,a){return this.equiv(a)};Fs.prototype.G=function(b,a){return a instanceof Vh?ub(a,this):this.equiv(a)};ys.prototype.G=function(b,a){return this.equiv(a)};ds.prototype.Jc=!0;ds.prototype.M=function(){return bs.h?bs.h(this):bs.call(null,this)};Fs.prototype.Jc=!0;Fs.prototype.M=function(){return bs.h?bs.h(this):bs.call(null,this)};ys.prototype.Jc=!0;ys.prototype.M=function(){return bs.h?bs.h(this):bs.call(null,this)};Fs.prototype.ka=!0;
Fs.prototype.K=function(b,a){return Db(a,[q('#uuid "'),q(this.toString()),q('"')].join(""))};function It(b,a){for(var c=z(ld(a)),d=null,e=0,g=0;;)if(g<e){var h=d.ha(null,g);b[h]=a[h];g+=1}else if(c=z(c))d=c,kd(d)?(c=Pb(d),g=Qb(d),d=c,e=K(c),c=g):(c=C(d),b[c]=a[c],c=D(d),d=null,e=0),g=0;else break;return b}function Jt(){}Jt.prototype.gd=function(){return Hb(O)};Jt.prototype.add=function(b,a,c){return xe.l(b,a,c)};Jt.prototype.ed=function(b){return Jb(b)};
Jt.prototype.vc=function(b){return sg.l?sg.l(b,!0,!0):sg.call(null,b,!0,!0)};function Kt(){}Kt.prototype.gd=function(){return Hb(Uc)};Kt.prototype.add=function(b,a){return we.g(b,a)};Kt.prototype.ed=function(b){return Jb(b)};Kt.prototype.vc=function(b){return Qf.g?Qf.g(b,!0):Qf.call(null,b,!0)};function Lt(){}Lt.prototype.tag=function(){return":"};Lt.prototype.ia=function(b){return b.aa};Lt.prototype.sa=function(b){return b.aa};function Mt(){}Mt.prototype.tag=function(){return"$"};
Mt.prototype.ia=function(b){return b.Qa};Mt.prototype.sa=function(b){return b.Qa};function Nt(){}Nt.prototype.tag=function(){return"list"};Nt.prototype.ia=function(b){var a=[];b=z(b);for(var c=null,d=0,e=0;;)if(e<d){var g=c.ha(null,e);a.push(g);e+=1}else if(b=z(b))c=b,kd(c)?(b=Pb(c),e=Qb(c),c=b,d=K(b),b=e):(b=C(c),a.push(b),b=D(c),c=null,d=0),e=0;else break;return zs.g?zs.g("array",a):zs.call(null,"array",a)};Nt.prototype.sa=function(){return null};function Ot(){}Ot.prototype.tag=function(){return"map"};
Ot.prototype.ia=function(b){return b};Ot.prototype.sa=function(){return null};function Pt(){}Pt.prototype.tag=function(){return"set"};Pt.prototype.ia=function(b){var a=[];b=z(b);for(var c=null,d=0,e=0;;)if(e<d){var g=c.ha(null,e);a.push(g);e+=1}else if(b=z(b))c=b,kd(c)?(b=Pb(c),e=Qb(c),c=b,d=K(b),b=e):(b=C(c),a.push(b),b=D(c),c=null,d=0),e=0;else break;return zs.g?zs.g("array",a):zs.call(null,"array",a)};Pt.prototype.sa=function(){return null};function Qt(){}Qt.prototype.tag=function(){return"array"};
Qt.prototype.ia=function(b){var a=[];b=z(b);for(var c=null,d=0,e=0;;)if(e<d){var g=c.ha(null,e);a.push(g);e+=1}else if(b=z(b))c=b,kd(c)?(b=Pb(c),e=Qb(c),c=b,d=K(b),b=e):(b=C(c),a.push(b),b=D(c),c=null,d=0),e=0;else break;return a};Qt.prototype.sa=function(){return null};function Rt(){}Rt.prototype.tag=function(){return"u"};Rt.prototype.ia=function(b){return b.wb};Rt.prototype.sa=function(b){return this.ia(b)};function St(){}St.prototype.tag=function(){return"datascript/Datom"};St.prototype.ia=function(b){return[b.e,b.a,b.v,b.tx,b.added]};St.prototype.sa=function(){return null};function Tt(){}Tt.prototype.tag=function(){return"datascript/DB"};Tt.prototype.ia=function(b){return{schema:b.Ua,datoms:wr.g(b,nj)}};Tt.prototype.sa=function(){return null};
var Ut=function(b,a){var c=new Lt,d=new Mt,e=new Nt,g=new Ot,h=new Pt,k=new Qt,p=new Rt,r=nh.w(I([Zc([Qg,de,l,Mg,bg,B,P,ae,je,Xf,ag,Og,mh,lg,U,$d,Jc,ud,gh,lh,Tf,rh,oe,y,Vh,zh,Vg],[g,e,g,e,e,e,c,e,e,k,e,e,e,e,k,e,e,h,g,e,e,h,e,d,p,e,e]),gj.h(a)],0)),u=ie(b),w=It({objectBuilder:function(a,b,c,d,e,g,h,k,p){return function(r,u,w){return Cd(function(){return function(a,b,c){a.push(u.h?u.h(b):u.call(null,b),w.h?w.h(c):w.call(null,c));return a}}(a,b,c,d,e,g,h,k,p),["^ "],r)}}(u,c,d,e,g,h,k,p,r),handlers:function(){var a=
Ja(r);a.forEach=function(){return function(a){for(var b=z(this),c=null,d=0,e=0;;)if(e<d){var g=c.ha(null,e),h=L(g,0),g=L(g,1);a.g?a.g(g,h):a.call(null,g,h);e+=1}else if(b=z(b))kd(b)?(c=Pb(b),b=Qb(b),h=c,d=K(c),c=h):(c=C(b),h=L(c,0),c=g=L(c,1),a.g?a.g(c,h):a.call(null,c,h),b=D(b),c=null,d=0),e=0;else return null}}(a,u,c,d,e,g,h,k,p,r);return a}(),unpack:function(){return function(a){return a instanceof l?a.A:!1}}(u,c,d,e,g,h,k,p,r)},Sh(N.g(a,gj)));return Ht.g?Ht.g(u,w):Ht.call(null,u,w)}(dk,new l(null,
1,[gj,new sg([Tl,new Tt,am,new Tt,tl,new St,hl,new Qt],!0,!1)],null)),Vt=function(b,a){var c=ie(b),d=It({handlers:Sh(nh.w(I([new l(null,5,["$",function(){return function(a){return mc(a)}}(c),":",function(){return function(a){return he.h(a)}}(c),"set",function(){return function(a){return of.g(vd,a)}}(c),"list",function(){return function(a){return of.g(pc,a.reverse())}}(c),"cmap",function(){return function(a){for(var b=0,c=Hb(O);;)if(b<a.length)var d=b+2,c=xe.l(c,a[b],a[b+1]),b=d;else return Jb(c)}}(c)],
null),gj.h(a)],0))),mapBuilder:new Jt,arrayBuilder:new Kt,prefersStrings:!1},Sh(N.g(a,gj)));return Gt.g?Gt.g(c,d):Gt.call(null,c,d)}(dk,new l(null,1,[gj,new l(null,2,["datascript/Datom",function(b){var a=L(b,0),c=L(b,1),d=L(b,2);b=L(b,3);return zl.V?zl.V(a,c,d,b):zl.call(null,a,c,d,b)},"datascript/DB",function(b){var a=od(b)?ze(Se,b):b;b=Xc(a,"datoms");a=Xc(a,"schema");return im?im(b,a):hm.call(null,b,a)}],null)],null));var Wt;for(var Xt=Array(1),Yt=0;;)if(Yt<Xt.length)Xt[Yt]=null,Yt+=1;else break;(function Zt(a){"undefined"===typeof Wt&&(Wt=function(a,d,e){this.Ae=a;this.Dd=d;this.Ee=e;this.B=393216;this.H=0},Wt.prototype.T=function(a,d){return new Wt(this.Ae,this.Dd,d)},Wt.prototype.S=function(){return this.Ee},Wt.Ce=function(){return new U(null,3,5,V,[new y(null,"fn-handler","fn-handler",648785851,null),new y(null,"f","f",43394975,null),new y(null,"meta18337","meta18337",2034625618,null)],null)},Wt.ud=!0,Wt.td="cljs.core.async/t18336",Wt.Zd=function(a,d){return Db(d,"cljs.core.async/t18336")});
return new Wt(Zt,a,O)})(function(){return null});var $t,au=O;$t=Re?Re(au):Qe.call(null,au);function bu(b,a){We.V($t,M,he.h(b),a)}function cu(b){var a=tp(new $o(b.fn,[],-1),!1,null),a=Xc(H.h?H.h($t):H.call(null,$t),a);return ze(a,b.args)}function du(b){var a=L(b,0);b=L(b,1);return self.postMessage(a,Sh(b))};var eu=function eu(){return eu.w(0<arguments.length?new B(Array.prototype.slice.call(arguments,0),0):null)};eu.w=function(b){return b};eu.O=0;eu.N=function(b){return eu.w(z(b))};bu("passthru",eu);bu("nil-result",function(){return null});bu("throw-error",function(){throw Error("Test Error");});var fu=function fu(){return fu.w(arguments[0],arguments[1],2<arguments.length?new B(Array.prototype.slice.call(arguments,2),0):null)};fu.w=function(b,a,c){return Be(vr,b,a,c)};fu.O=2;
fu.N=function(b){var a=C(b),c=D(b);b=C(c);c=D(c);return fu.w(a,b,c)};bu("q",fu);var Rr,gu=Yl?Yl(null):Zl.call(null,null),hu,iu=O;hu=Re?Re(iu):Qe.call(null,iu);var ju=new l(null,1,[nk,hu],null);Rr=Qe.l?Qe.l(gu,ta,ju):Qe.call(null,gu,ta,ju);var ku=function ku(){return ku.w(0<arguments.length?new B(Array.prototype.slice.call(arguments,0),0):null)};ku.w=function(b){b=L(b,0);b=Yl?Yl(b):Zl.call(null,b);Ue.g?Ue.g(Rr,b):Ue.call(null,Rr,b);return xj};ku.O=0;ku.N=function(b){return ku.w(z(b))};
bu("empty-db",ku);var lu=function lu(){return lu.w(arguments[0],1<arguments.length?new B(Array.prototype.slice.call(arguments,1),0):null)};lu.w=function(b,a){var c=L(a,0),c=im?im(b,c):hm.call(null,b,c);Ue.g?Ue.g(Rr,c):Ue.call(null,Rr,c);return xj};lu.O=1;lu.N=function(b){var a=C(b);b=D(b);return lu.w(a,b)};bu("init-db",lu);bu("reset-db!",function(b){Ue.g?Ue.g(Rr,b):Ue.call(null,Rr,b);return xj});bu("db",function(){return H.h?H.h(Rr):H.call(null,Rr)});
var mu=function mu(){return mu.w(arguments[0],1<arguments.length?new B(Array.prototype.slice.call(arguments,1),0):null)};mu.w=function(b,a){return Be(wr,H.h?H.h(Rr):H.call(null,Rr),b,a)};mu.O=1;mu.N=function(b){var a=C(b);b=D(b);return mu.w(a,b)};bu("datoms",mu);bu("transact!",function(b){yr(Rr,b);return xj});bu("transact-async",function(b){Qr(b);return sk});var nu=function nu(){return nu.w(arguments[0],1<arguments.length?new B(Array.prototype.slice.call(arguments,1),0):null)};
nu.w=function(b,a){return Be(vr,b,H.h?H.h(Rr):H.call(null,Rr),a)};nu.O=1;nu.N=function(b){var a=C(b);b=D(b);return nu.w(a,b)};bu("q-worker",nu);var ou=function ou(){switch(arguments.length){case 2:return ou.g(arguments[0],arguments[1]);case 3:return ou.l(arguments[0],arguments[1],arguments[2]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};ou.g=function(b,a){return ou.l(H.h?H.h(Rr):H.call(null,Rr),b,a)};ou.l=function(b,a,c){return Wo.l?Wo.l(b,a,c):Wo.call(null,b,a,c)};
ou.O=3;bu("pull",ou);var pu=function pu(){switch(arguments.length){case 2:return pu.g(arguments[0],arguments[1]);case 3:return pu.l(arguments[0],arguments[1],arguments[2]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};pu.g=function(b,a){return pu.l(H.h?H.h(Rr):H.call(null,Rr),b,a)};pu.l=function(b,a,c){return Xo.l?Xo.l(b,a,c):Xo.call(null,b,a,c)};pu.O=3;bu("pull-many",pu);
var qu=function qu(){switch(arguments.length){case 1:return qu.h(arguments[0]);case 2:return qu.g(arguments[0],arguments[1]);default:throw Error([q("Invalid arity: "),q(arguments.length)].join(""));}};qu.h=function(b){return qu.g(H.h?H.h(Rr):H.call(null,Rr),b)};qu.g=function(b,a){return Yp.g?Yp.g(b,a):Yp.call(null,b,a)};qu.O=2;bu("entity",qu);
var ru=[q(Sr((new Date).getTime()/1E3|0,8)),q("-"),q(Sr(Th(65536),4)),q("-"),q(Sr(Th(65536)&4095|16384,4)),q("-"),q(Sr(Th(65536)&16383|32768,4)),q("-"),q(Sr(Th(65536),4)),q(Sr(Th(65536),4)),q(Sr(Th(65536),4))].join("");
self.onmessage=Ne(function(b,a){var c=a.data.command;if(m(F.g?F.g("channel",c):F.call(null,"channel",c)))return self.postMessage(cu(a.data));if(m(F.g?F.g("channel-arraybuffer",c):F.call(null,"channel-arraybuffer",c)))return du(cu(a.data));if(m(F.g?F.g("channel-transit",c):F.call(null,"channel-transit",c)))return self.postMessage(function(){var b=a.data,c=tp(new $o(b.fn,[],-1),!1,null),c=Xc(H.h?H.h($t):H.call(null,$t),c),b=Vt.jd(b.args),b=ze(c,b);return Ut.write(b)}());throw Error([q("No matching clause: "),
q(c)].join(""));},new Vh(ru,null));
})();
